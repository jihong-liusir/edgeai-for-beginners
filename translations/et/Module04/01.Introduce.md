<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "49e18143f97a802a8647f4be28355348",
  "translation_date": "2025-10-11T11:38:43+00:00",
  "source_file": "Module04/01.Introduce.md",
  "language_code": "et"
}
-->
# Jaotis 1: Mudeli formaadi konverteerimine ja kvantiseerimise alused

Mudeli formaadi konverteerimine ja kvantiseerimine on olulised edusammud EdgeAI valdkonnas, võimaldades keerukaid masinõppe lahendusi piiratud ressurssidega seadmetel. Mudelite tõhus konverteerimine, optimeerimine ja juurutamine on hädavajalik praktiliste servapõhiste AI lahenduste loomiseks.

## Sissejuhatus

Selles juhendis uurime mudeli formaadi konverteerimise ja kvantiseerimise tehnikaid ning nende täiustatud rakendusstrateegiaid. Käsitleme mudeli tihendamise põhimõtteid, formaadi konverteerimise piire ja klassifikatsioone, optimeerimistehnikaid ning praktilisi juurutamisstrateegiaid serva arvutuskeskkondades.

## Õpieesmärgid

Selle juhendi lõpuks oskate:

- 🔢 Mõista kvantiseerimise piire ja erinevate täpsustasandite klassifikatsioone.
- 🛠️ Tuvastada olulisi formaadi konverteerimise tehnikaid mudelite juurutamiseks servaseadmetel.
- 🚀 Õppida täiustatud kvantiseerimise ja tihendamise strateegiaid optimeeritud järelduste tegemiseks.

## Mudeli kvantiseerimise piiride ja klassifikatsioonide mõistmine

Mudeli kvantiseerimine on tehnika, mille eesmärk on vähendada närvivõrgu parameetrite täpsust, kasutades oluliselt vähem bitte kui täis-täpsusega mudelid. Kui täis-täpsusega mudelid kasutavad 32-bitiseid ujukomaarvude esitusviise, siis kvantiseeritud mudelid on spetsiaalselt loodud efektiivsuseks ja serva juurutamiseks.

Täpsuse klassifikatsiooni raamistik aitab mõista kvantiseerimise tasandite erinevaid kategooriaid ja nende sobivaid kasutusjuhtumeid. See klassifikatsioon on oluline, et valida õige täpsustase konkreetsete serva arvutuskeskkondade jaoks.

### Täpsuse klassifikatsiooni raamistik

Täpsuse piiride mõistmine aitab valida sobivaid kvantiseerimise tasemeid erinevate serva arvutuskeskkondade jaoks:

- **🔬 Ultra-madal täpsus**: 1-bitine kuni 2-bitine kvantiseerimine (äärmuslik tihendamine spetsialiseeritud riistvara jaoks)
- **📱 Madal täpsus**: 3-bitine kuni 4-bitine kvantiseerimine (tasakaalustatud jõudlus ja efektiivsus)
- **⚖️ Keskmine täpsus**: 5-bitine kuni 8-bitine kvantiseerimine (läheneb täis-täpsuse võimekusele, säilitades samal ajal efektiivsuse)

Täpsuse täpsed piirid jäävad teadusvaldkonnas muutuvaks, kuid enamik praktiseerijaid peab 8-bitist ja madalamat "kvantiseerituks", kusjuures mõned allikad määravad spetsiaalsed künnised erinevate riistvarasihtmärkide jaoks.

### Mudeli kvantiseerimise peamised eelised

Mudeli kvantiseerimine pakub mitmeid põhilisi eeliseid, mis muudavad selle ideaalseks serva arvutuskeskkondade rakendustes:

**Operatiivne efektiivsus**: Kvantiseeritud mudelid pakuvad kiiremat järeldusaega tänu vähendatud arvutuslikule keerukusele, muutes need ideaalseks reaalajas rakenduste jaoks. Need vajavad vähem arvutusressursse, võimaldades juurutamist piiratud ressurssidega seadmetel, tarbides samal ajal vähem energiat ja vähendades süsiniku jalajälge.

**Juurutamise paindlikkus**: Need mudelid võimaldavad seadmesisesed AI võimekused ilma internetiühenduse nõudeta, parandavad privaatsust ja turvalisust kohaliku töötlemise kaudu, neid saab kohandada valdkonnaspetsiifiliste rakenduste jaoks ning need sobivad erinevatesse serva arvutuskeskkondadesse.

**Kulutõhusus**: Kvantiseeritud mudelid pakuvad kulutõhusat treenimist ja juurutamist võrreldes täis-täpsusega mudelitega, vähendades operatiivkulusid ja madalamaid ribalaiuse nõudeid serva rakendustes.

## Täiustatud mudeli formaadi omandamise strateegiad

### GGUF (General GGML Universal Format)

GGUF on peamine formaat kvantiseeritud mudelite juurutamiseks CPU-l ja servaseadmetel. Formaat pakub ulatuslikke ressursse mudeli konverteerimiseks ja juurutamiseks:

**Formaadi avastamise funktsioonid**: Formaat pakub täiustatud tuge erinevatele kvantiseerimise tasemetele, litsentsi ühilduvust ja jõudluse optimeerimist. Kasutajad saavad juurdepääsu platvormidevahelisele ühilduvusele, reaalajas jõudluse võrdlusalustele ja WebGPU toele brauseripõhiseks juurutamiseks.

**Kvantiseerimise tasemete kogumikud**: Populaarsed kvantiseerimise formaadid hõlmavad Q4_K_M tasakaalustatud tihendamiseks, Q5_K_S seeria kvaliteedile keskendunud rakenduste jaoks, Q8_0 peaaegu originaalse täpsuse jaoks ja eksperimentaalsed formaadid nagu Q2_K ultra-madala täpsuse juurutamiseks. Formaat sisaldab ka kogukonna juhitud variatsioone spetsiaalsete konfiguratsioonidega konkreetsete valdkondade jaoks ning üldotstarbelisi ja juhendoptimeeritud variante, mis on optimeeritud erinevate kasutusjuhtumite jaoks.

### ONNX (Open Neural Network Exchange)

ONNX formaat pakub kvantiseeritud mudelite jaoks raamistikudevahelist ühilduvust täiustatud integreerimisvõimalustega:

**Ettevõtte integreerimine**: Formaat sisaldab mudeleid ettevõtte tasemel toe ja optimeerimisvõimalustega, pakkudes dünaamilist kvantiseerimist kohanduva täpsuse jaoks ja staatilist kvantiseerimist tootmisjuurutamiseks. Samuti toetab see mudeleid erinevatest raamistikest standardiseeritud kvantiseerimise lähenemisviisidega.

**Ettevõtte eelised**: Sisseehitatud tööriistad optimeerimiseks, platvormidevaheliseks juurutamiseks ja riistvarakiirenduseks on integreeritud erinevatesse järeldusmootoritesse. Otse raamistikude tugi standardiseeritud API-dega, integreeritud optimeerimisfunktsioonid ja ulatuslikud juurutamise töövood parandavad ettevõtte kogemust.

## Täiustatud kvantiseerimise ja optimeerimise tehnikad

### Llama.cpp optimeerimise raamistik

Llama.cpp pakub tipptasemel kvantiseerimise tehnikaid maksimaalse efektiivsuse saavutamiseks serva juurutamisel:

**Kvantiseerimise meetodid**: Raamistik toetab erinevaid kvantiseerimise tasemeid, sealhulgas Q4_0 (4-bitine kvantiseerimine suurepärase suuruse vähendamisega - ideaalne mobiilseks juurutamiseks), Q5_1 (5-bitine kvantiseerimine tasakaalustades kvaliteeti ja tihendamist - sobilik serva järeldamiseks) ja Q8_0 (8-bitine kvantiseerimine peaaegu originaalse kvaliteedi jaoks - soovitatav tootmiskasutuseks). Täiustatud formaadid nagu Q2_K esindavad tipptasemel tihendamist äärmuslike stsenaariumide jaoks.

**Rakendamise eelised**: CPU-optimeeritud järeldus SIMD kiirendusega pakub mäluefektiivset mudeli laadimist ja täitmist. Platvormidevaheline ühilduvus x86, ARM ja Apple Silicon arhitektuuride vahel võimaldab riistvarast sõltumatuid juurutamisvõimalusi.

**Mälukasutuse võrdlus**: Erinevad kvantiseerimise tasemed pakuvad erinevaid kompromisse mudeli suuruse ja kvaliteedi vahel. Q4_0 pakub umbes 75% suuruse vähendamist, Q5_1 pakub 70% vähendamist parema kvaliteedi säilitamisega ja Q8_0 saavutab 50% vähendamise, säilitades peaaegu originaalse jõudluse.

### Microsoft Olive optimeerimise komplekt

Microsoft Olive pakub ulatuslikke mudeli optimeerimise töövooge, mis on mõeldud tootmiskeskkondade jaoks:

**Optimeerimise tehnikad**: Komplekt sisaldab dünaamilist kvantiseerimist automaatse täpsuse valikuks, graafi optimeerimist ja operaatorite ühendamist efektiivsuse parandamiseks, riistvaraspetsiifilisi optimeerimisi CPU, GPU ja NPU juurutamiseks ning mitmeastmelisi optimeerimise töövooge. Spetsiaalsed kvantiseerimise töövood toetavad erinevaid täpsustasemeid alates 8-bitist kuni eksperimentaalsete 1-bitiste konfiguratsioonideni.

**Töövoo automatiseerimine**: Optimeerimisvariantide automaatne võrdlusaluste testimine tagab kvaliteedimõõdikute säilitamise optimeerimise ajal. Integreerimine populaarsete ML raamistikudega nagu PyTorch ja ONNX pakub pilve- ja serva juurutamise optimeerimisvõimalusi.

### Apple MLX raamistik

Apple MLX pakub natiivset optimeerimist, mis on spetsiaalselt loodud Apple Silicon seadmete jaoks:

**Apple Silicon optimeerimine**: Raamistik kasutab ühtset mälustruktuuri Metal Performance Shaders integratsiooniga, automaatset segatud täpsusega järeldust ja optimeeritud mäluläbivuse kasutamist. Mudelid näitavad erakordset jõudlust M-seeria kiipidel, pakkudes optimaalset tasakaalu erinevate Apple seadmete juurutamiseks.

**Arendusfunktsioonid**: Python ja Swift API tugi NumPy-ühilduvate massiivioperatsioonidega, automaatse diferentseerimise võimalused ja sujuv integreerimine Apple arendustööriistadega pakuvad ulatuslikku arenduskeskkonda.

## Tootmise juurutamise ja järeldamise strateegiad

### Ollama: Lihtsustatud kohalik juurutamine

Ollama lihtsustab mudeli juurutamist ettevõtte tasemel funktsioonidega kohalike ja servakeskkondade jaoks:

**Juurutamise võimalused**: Ühe käsuga mudeli installimine ja täitmine automaatse mudeli tõmbamise ja vahemällu salvestamisega. Tugi erinevatele kvantiseeritud formaatidele REST API rakenduste integreerimiseks ning mitme mudeli haldamise ja vahetamise võimalused. Täiustatud kvantiseerimise tasemed nõuavad optimaalseks juurutamiseks spetsiifilist konfiguratsiooni.

**Täiustatud funktsioonid**: Kohandatud mudeli peenhäälestamise tugi, Dockerfile'i genereerimine konteineriseeritud juurutamiseks, GPU kiirendus automaatse tuvastamisega ning mudeli kvantiseerimise ja optimeerimise valikud pakuvad ulatuslikku juurutamise paindlikkust.

### VLLM: Kõrge jõudlusega järeldus

VLLM pakub tootmiskvaliteediga järelduse optimeerimist kõrge läbilaskevõimega stsenaariumide jaoks:

**Jõudluse optimeerimine**: PagedAttention mäluefektiivseks tähelepanu arvutamiseks, dünaamiline partitsioneerimine läbilaskevõime optimeerimiseks, tensorite paralleelsus mitme GPU skaleerimiseks ja spekulatiivne dekodeerimine latentsuse vähendamiseks. Täiustatud kvantiseerimise formaadid nõuavad spetsialiseeritud järelduskerneli optimaalset jõudlust.

**Ettevõtte integreerimine**: OpenAI-ühilduvad API lõpp-punktid, Kubernetes juurutamise tugi, jälgimise ja jälgitavuse integreerimine ning automaatse skaleerimise võimalused pakuvad ettevõtte tasemel juurutuslahendusi.

### Microsofti servalahendused

Microsoft pakub ulatuslikke serva juurutamise võimalusi ettevõtte keskkondade jaoks:

**Serva arvutamise funktsioonid**: Offline-esimene arhitektuuri disain ressursipiirangute optimeerimiseks, kohaliku mudeli registri haldamine ja serva-pilve sünkroniseerimise võimalused tagavad usaldusväärse serva juurutamise.

**Turvalisus ja vastavus**: Kohalik andmetöötlus privaatsuse säilitamiseks, ettevõtte turvakontrollid, auditi logimine ja vastavusaruandlus ning rollipõhine juurdepääsu haldamine pakuvad ulatuslikku turvalisust serva juurutuste jaoks.

## Parimad tavad mudeli kvantiseerimise rakendamiseks

### Kvantiseerimise taseme valiku juhised

Serva juurutamiseks kvantiseerimise taseme valimisel arvestage järgmisi tegureid:

**Täpsuse arvestused**: Valige ultra-madal täpsus nagu Q2_K äärmuslike mobiilirakenduste jaoks, madal täpsus nagu Q4_K_M tasakaalustatud jõudluse stsenaariumide jaoks ja keskmine täpsus nagu Q8_0, kui lähenete täis-täpsuse võimekusele, säilitades samal ajal efektiivsuse. Eksperimentaalsed formaadid pakuvad spetsialiseeritud tihendamist konkreetsete uurimisrakenduste jaoks.

**Kasutusjuhtumite sobitamine**: Sobitage kvantiseerimise võimekused konkreetsete rakenduste nõuetega, arvestades selliseid tegureid nagu täpsuse säilitamine, järelduse kiirus, mälupiirangud ja offline töö nõuded.

### Optimeerimise strateegia valik

**Kvantiseerimise lähenemine**: Valige sobivad kvantiseerimise tasemed kvaliteedinõuete ja riistvarapiirangute põhjal. Arvestage Q4_0 maksimaalse tihendamise jaoks, Q5_1 tasakaalustatud kvaliteedi-tihendamise kompromisside jaoks ja Q8_0 peaaegu originaalse kvaliteedi säilitamiseks. Eksperimentaalsed formaadid esindavad äärmusliku tihendamise piiri spetsialiseeritud rakenduste jaoks.

**Raamistiku valik**: Valige optimeerimise raamistikud sihtriistvara ja juurutamisnõuete põhjal. Kasutage Llama.cpp CPU-optimeeritud juurutamiseks, Microsoft Olive ulatuslike optimeerimise töövoogude jaoks ja Apple MLX Apple Silicon seadmete jaoks.

## Praktiline formaadi konverteerimine ja kasutusjuhtumid

### Päriselu juurutamise stsenaariumid

**Mobiilirakendused**: Q4_K formaadid sobivad suurepäraselt nutitelefonirakenduste jaoks minimaalse mälukasutusega, samas kui Q8_0 pakub tasakaalustatud jõudlust tahvelarvutirakenduste jaoks. Q5_K formaadid pakuvad paremat kvaliteeti mobiilsete produktiivsusrakenduste jaoks.

**Lauaarvutid ja serva arvutamine**: Q5_K pakub optimaalset jõudlust lauaarvutirakenduste jaoks, Q8_0 tagab kõrgekvaliteedilise järelduse tööjaamakeskkondades ja Q4_K võimaldab tõhusat töötlemist servaseadmetel.

**Uurimistöö ja eksperimentaalne kasutus**: Täiustatud kvantiseerimise formaadid võimaldavad ultra-madala täpsusega järelduse uurimist akadeemilises uurimistöös ja kontseptsiooni tõestamise rakendustes, mis nõuavad äärmuslikke ressursipiiranguid.

### Jõudluse võrdlusalused ja võrdlused

**Järelduse kiirus**: Q4_K saavutab kiireima järelduse aja mobiilsetel CPU-del, Q5_K pakub tasakaalustatud kiiruse-kvaliteedi suhet üldrakenduste jaoks, Q8_0 pakub paremat kvaliteeti keerukate ülesannete jaoks ja eksperimentaalsed formaadid saavutavad teoreetilise maksimaalse läbilaskevõime spetsialiseeritud riistvaraga.

**Mälunõuded**: Kvantiseerimise tasemed ulatuvad Q2_K (alla 500MB väikeste mudelite jaoks) kuni Q8_0 (umbes 50% originaalsuurusest), kusjuures eksperimentaalsed konfiguratsioonid saavutavad maksimaalsed tihendussuhted.

## Väljakutsed ja kaalutlused

### Jõudluse kompromissid

Kvantiseerimise juurutamine hõlmab hoolikat kaalumist mudeli suuruse, järelduse kiiruse ja väljundi kvaliteedi vahel. Kuigi Q4_K pakub erakordset kiirust ja efektiivsust, tagab Q8_0 parema kvaliteedi suuremate ressursside arvelt. Q5_K saavutab keskmise tasakaalu, mis sobib enamiku üldrakenduste jaoks.

### Riistvara ühilduvus

Erinevatel servaseadmetel on erinevad võimekused ja piirangud. Q4

---

**Lahtiütlus**:  
See dokument on tõlgitud AI tõlketeenuse [Co-op Translator](https://github.com/Azure/co-op-translator) abil. Kuigi püüame tagada täpsust, palume arvestada, et automaatsed tõlked võivad sisaldada vigu või ebatäpsusi. Algne dokument selle algses keeles tuleks pidada autoriteetseks allikaks. Olulise teabe puhul soovitame kasutada professionaalset inimtõlget. Me ei vastuta selle tõlke kasutamisest tulenevate arusaamatuste või valesti tõlgenduste eest.