<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "2305e750e93ad4bd79898cf149e01b49",
  "translation_date": "2025-10-03T05:26:22+00:00",
  "source_file": "Module07/windowdeveloper.md",
  "language_code": "ru"
}
-->
# Руководство по разработке Edge AI на Windows

## Введение

Добро пожаловать в мир разработки Edge AI на Windows — ваше полное руководство по созданию интеллектуальных приложений, использующих возможности встроенного ИИ с помощью платформы Windows AI Foundry от Microsoft. Это руководство предназначено для разработчиков Windows, которые хотят интегрировать передовые возможности Edge AI в свои приложения, используя весь спектр аппаратного ускорения Windows.

### Преимущества Windows AI

Windows AI Foundry представляет собой унифицированную, надежную и безопасную платформу, поддерживающую полный цикл разработки ИИ — от выбора и настройки модели до оптимизации и развертывания на процессорах (CPU), графических процессорах (GPU), нейронных процессорах (NPU) и гибридных облачных архитектурах. Эта платформа делает разработку ИИ доступной благодаря:

- **Абстракции оборудования**: Простое развертывание на процессорах AMD, Intel, NVIDIA и Qualcomm
- **Интеллекту на устройстве**: ИИ, сохраняющий конфиденциальность, который полностью работает на локальном оборудовании
- **Оптимизированной производительности**: Модели, предварительно оптимизированные для конфигураций оборудования Windows
- **Готовности к корпоративному использованию**: Функции безопасности и соответствия требованиям для производственных сред

### Windows ML 
Windows Machine Learning (ML) позволяет разработчикам на C#, C++ и Python запускать модели ИИ в формате ONNX локально на ПК с Windows через ONNX Runtime, с автоматическим управлением провайдерами выполнения для различного оборудования (CPU, GPU, NPU). [ONNX Runtime](https://onnxruntime.ai/docs/) поддерживает модели из PyTorch, Tensorflow/Keras, TFLite, scikit-learn и других фреймворков.

![WindowsML Диаграмма, иллюстрирующая процесс прохождения модели ONNX через Windows ML для использования на NPU, GPU и CPU.](https://learn.microsoft.com/en-us/windows/ai/images/winml-diagram.png)

Windows ML предоставляет общую копию ONNX Runtime для всей системы Windows, а также возможность динамически загружать провайдеры выполнения (EPs).

### Почему Windows для Edge AI?

**Универсальная поддержка оборудования**
Windows ML автоматически оптимизирует работу оборудования во всей экосистеме Windows, обеспечивая максимальную производительность приложений ИИ независимо от архитектуры оборудования.

**Интегрированный AI Runtime**
Встроенный механизм вывода Windows ML устраняет сложные требования к настройке, позволяя разработчикам сосредоточиться на логике приложения, а не на инфраструктуре.

**Оптимизация для Copilot+ ПК**
Специально разработанные API для устройств Windows следующего поколения с выделенными нейронными процессорами (NPU), обеспечивающими исключительную производительность на ватт.

**Экосистема разработчиков**
Богатый набор инструментов, включая интеграцию с Visual Studio, подробную документацию и примеры приложений, ускоряющие цикл разработки.

## Цели обучения

Пройдя это руководство по разработке Edge AI на Windows, вы освоите ключевые навыки для создания готовых к производству приложений ИИ на платформе Windows.

### Основные технические компетенции

**Мастерство Windows AI Foundry**
- Понимание архитектуры и компонентов платформы Windows AI Foundry
- Навигация по полному циклу разработки ИИ в экосистеме Windows
- Реализация лучших практик безопасности для приложений ИИ на устройстве
- Оптимизация приложений для различных конфигураций оборудования Windows

**Экспертиза интеграции API**
- Освоение API Windows AI для текстовых, визуальных и мультимодальных приложений
- Реализация интеграции языковой модели Phi Silica для генерации текста и рассуждений
- Развертывание возможностей компьютерного зрения с использованием встроенных API обработки изображений
- Настройка предварительно обученных моделей с использованием техник LoRA (Low-Rank Adaptation)

**Локальная реализация Foundry**
- Просмотр, оценка и развертывание открытых языковых моделей с помощью Foundry Local CLI
- Понимание оптимизации и квантования моделей для локального развертывания
- Реализация автономных возможностей ИИ, работающих без подключения к интернету
- Управление жизненным циклом моделей и их обновлениями в производственных средах

**Развертывание Windows ML**
- Интеграция пользовательских моделей ONNX в приложения Windows с использованием Windows ML
- Использование автоматического аппаратного ускорения на архитектурах CPU, GPU и NPU
- Реализация вывода в реальном времени с оптимальным использованием ресурсов
- Проектирование масштабируемых приложений ИИ для различных категорий устройств Windows

### Навыки разработки приложений

**Кроссплатформенная разработка для Windows**
- Создание приложений с поддержкой ИИ с использованием .NET MAUI для универсального развертывания на Windows
- Интеграция возможностей ИИ в Win32, UWP и прогрессивные веб-приложения
- Реализация адаптивных дизайнов пользовательского интерфейса, которые учитывают состояния обработки ИИ
- Управление асинхронными операциями ИИ с соблюдением правильных паттернов пользовательского опыта

**Оптимизация производительности**
- Профилирование и оптимизация производительности вывода ИИ на различных конфигурациях оборудования
- Эффективное управление памятью для больших языковых моделей
- Проектирование приложений, которые корректно адаптируются к доступным возможностям оборудования
- Применение стратегий кэширования для часто используемых операций ИИ

**Готовность к производству**
- Реализация комплексной обработки ошибок и механизмов резервирования
- Проектирование телеметрии и мониторинга производительности приложений ИИ
- Применение лучших практик безопасности для локального хранения и выполнения моделей ИИ
- Планирование стратегий развертывания для корпоративных и потребительских приложений

### Бизнес и стратегическое понимание

**Архитектура приложений ИИ**
- Проектирование гибридных архитектур, оптимизирующих локальную и облачную обработку ИИ
- Оценка компромиссов между размером модели, точностью и скоростью вывода
- Планирование архитектуры потоков данных, сохраняющей конфиденциальность при обеспечении интеллекта
- Реализация экономически эффективных решений ИИ, которые масштабируются с ростом пользовательских запросов

**Позиционирование на рынке**
- Понимание конкурентных преимуществ приложений ИИ, разработанных для Windows
- Определение случаев использования, где ИИ на устройстве обеспечивает превосходный пользовательский опыт
- Разработка стратегий выхода на рынок для приложений Windows с поддержкой ИИ
- Позиционирование приложений с учетом преимуществ экосистемы Windows

## Примеры приложений SDK для Windows

Windows App SDK предоставляет подробные примеры, демонстрирующие интеграцию ИИ с использованием различных фреймворков и сценариев развертывания. Эти примеры являются важными справочными материалами для понимания шаблонов разработки ИИ на Windows.

### Примеры Windows AI Foundry

| Пример | Фреймворк | Область фокуса | Основные функции |
|--------|-----------|----------------|------------------|
| [cs-winui](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsAIFoundry/cs-winui) | C# WinUI 3 | Интеграция API Windows AI | Полное приложение WinUI, демонстрирующее API Windows AI, оптимизацию для ARM64, упакованное развертывание |

**Ключевые технологии:**
- API Windows AI
- Фреймворк WinUI 3
- Оптимизация для платформы ARM64
- Совместимость с Copilot+ ПК
- Упакованное развертывание приложений

**Предварительные требования:**
- Windows 11, рекомендуется Copilot+ ПК
- Visual Studio 2022
- Конфигурация сборки ARM64
- Windows App SDK 1.8.1+

### Примеры Windows ML

#### Примеры на C++

| Пример | Тип | Область фокуса | Основные функции |
|--------|------|----------------|------------------|
| [CppConsoleDesktop](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cpp) | Консольное приложение | Основы Windows ML | Обнаружение EP, параметры командной строки, компиляция модели |
| [CppConsoleDesktop.FrameworkDependent](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cpp) | Консольное приложение | Развертывание фреймворка | Общий runtime, меньший объем развертывания |
| [CppConsoleDesktop.SelfContained](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cpp) | Консольное приложение | Автономное развертывание | Автономное развертывание, без зависимостей runtime |
| [CppConsoleDll](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cpp) | DLL | Использование библиотеки | WindowsML в общей библиотеке, управление памятью |
| [CppResnetBuildDemo](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cpp) | Демонстрация | Учебник ResNet | Конвертация модели, компиляция EP, учебник Build 2025 |

#### Примеры на C#

**Консольные приложения**

| Пример | Тип | Область фокуса | Основные функции |
|--------|------|----------------|------------------|
| [CSharpConsoleDesktop](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cs) | Консольное приложение | Основы интеграции C# | Использование общих помощников, интерфейс командной строки |
| [ResnetBuildDemoCS](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cs) | Демонстрация | Учебник ResNet | Конвертация модели, компиляция EP, учебник Build 2025 |

**Приложения с графическим интерфейсом**

| Пример | Фреймворк | Область фокуса | Основные функции |
|--------|-----------|----------------|------------------|
| [cs-wpf](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cs-wpf) | WPF | Графический интерфейс для ПК | Классификация изображений с интерфейсом WPF |
| [cs-winforms](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cs-winforms) | Windows Forms | Традиционный графический интерфейс | Классификация изображений с использованием Windows Forms |
| [cs-winui](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/cs-winui) | WinUI 3 | Современный графический интерфейс | Классификация изображений с интерфейсом WinUI 3 |

#### Примеры на Python

| Пример | Язык | Область фокуса | Основные функции |
|--------|------|----------------|------------------|
| [SqueezeNetPython](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML/python) | Python | Классификация изображений | Привязки WinML для Python, пакетная обработка изображений |

### Предварительные требования для примеров

**Системные требования:**
- ПК с Windows 11 версии 24H2 (сборка 26100) или выше
- Visual Studio 2022 с рабочими нагрузками C++ и .NET
- Windows App SDK 1.8.1 или новее
- Python 3.10-3.13 для примеров на Python на устройствах x64 и ARM64

**Специфика Windows AI Foundry:**
- Рекомендуется Copilot+ ПК для оптимальной производительности
- Конфигурация сборки ARM64 для примеров Windows AI
- Требуется идентичность пакета (неупакованные приложения больше не поддерживаются)

### Общий рабочий процесс для примеров

Большинство примеров Windows ML следуют стандартному шаблону:

1. **Инициализация среды** — Создание среды ONNX Runtime
2. **Регистрация провайдеров выполнения** — Обнаружение и регистрация доступных аппаратных ускорителей (CPU, GPU, NPU)
3. **Загрузка модели** — Загрузка модели ONNX, при необходимости компиляция для целевого оборудования
4. **Предварительная обработка входных данных** — Конвертация изображений/данных в формат входных данных модели
5. **Запуск вывода** — Выполнение модели и получение предсказаний
6. **Обработка результатов** — Применение softmax и отображение лучших предсказаний

### Используемые файлы моделей

| Модель | Назначение | Включена | Примечания |
|-------|------------|----------|-----------|
| SqueezeNet | Легкая классификация изображений | ✅ Включена | Предварительно обучена, готова к использованию |
| ResNet-50 | Классификация изображений с высокой точностью | ❌ Требуется конвертация | Используйте [AI Toolkit](https://code.visualstudio.com/docs/intelligentapps/modelconversion) для конвертации |

### Поддержка оборудования

Все примеры автоматически обнаруживают и используют доступное оборудование:
- **CPU** — Универсальная поддержка на всех устройствах Windows
- **GPU** — Автоматическое обнаружение и оптимизация для доступного графического оборудования
- **NPU** — Использование нейронных процессоров на поддерживаемых устройствах (Copilot+ ПК)

## Компоненты платформы Windows AI Foundry

### 1. API Windows AI

API Windows AI предоставляют готовые возможности ИИ, работающие на встроенных моделях, оптимизированных для эффективности и производительности на устройствах Copilot+ ПК с минимальными требованиями к настройке.

#### Основные категории API

**Языковая модель Phi Silica**
- Компактная, но мощная языковая модель для генерации текста и рассуждений
- Оптимизирована для вывода в реальном времени с минимальным энергопотреблением
- Поддержка пользовательской настройки с использованием техник LoRA
- Интеграция с семантическим поиском и извлечением знаний Windows

**API компьютерного зрения**
- **Распознавание текста (OCR)**: Извлечение текста из изображений с высокой точностью
- **Суперразрешение изображений**: Увеличение разрешения изображений с использованием локальных моделей ИИ
- **Сегментация изображений**: Определение и выделение объектов на изображениях
- **Описание изображений**: Генерация подробных текстовых описаний для визуального контента
- **Удаление объектов**: Удаление нежелательных объектов с изображений с помощью ИИ

**Мультимодальные возможности**
- **Интеграция зрения и текста**: Объединение понимания текста и изображений
- **Семантический поиск**: Поддержка естественных языковых запросов по мультимедийному контенту
- **Извлечение знаний**: Создание интеллектуальных поисковых систем с локальными данными

### 2. Foundry Local

Foundry Local предоставляет разработчикам быстрый доступ к готовым открытым языковым моделям на Windows Silicon, позволяя просматривать, тестировать, взаимодействовать и развертывать модели в локальных приложениях.

#### Примеры приложений Foundry Local

[Репозиторий Foundry Local](https://github.com/microsoft/Foundry-Local/tree/main/samples) содержит подробные примеры на различных языках программирования и фреймворках, демонстрирующие различные шаблоны интеграции и случаи использования.

| Пример | Язык/Фреймворк | Область фокуса | Основные функции |
|--------|----------------|----------------|------------------|
| [dotNET/rag](https://github.com/microsoft/Foundry-Local/tree/main/samples/dotNET/rag) | C# / .NET | Реализация RAG | Интеграция Semantic Kernel, векторное хранилище Qdrant, эмбеддинги JINA, обработка документов, потоковый чат |
| [electron/foundry-chat](https://github.com/microsoft/Foundry-Local/tree/main/samples/electron/foundry-chat) | JavaScript / Electron | Чат-приложение для ПК | Кроссплатформенный чат, переключение между локальными и облачными моделями, интеграция OpenAI SDK, потоковая передача |
| [js/hello-foundry-local](https://github.com/microsoft/Foundry-Local/tree/main/samples/js/hello-foundry-local) | JavaScript / Node.js | Основы интеграции | Простое использование SDK, инициализация модели, базовая функциональность чата |
| [python/hello-foundry-local](https://github.com/microsoft/Foundry-Local/tree/main/samples/python/hello-foundry-local) | Python | Основы интеграции | Использование Python SDK, потоковые ответы, совместимость с API OpenAI |
| [rust/hello-foundry-local](https://github.com/microsoft/Foundry-Local/tree/main/samples/rust/hello-foundry-local) | Rust | Интеграция систем | Использование SDK на низком уровне, асинхронные операции, HTTP-клиент reqwest |

#### Категории примеров по случаю использования

**RAG (Генерация с дополнением извлечением данных)**
- **dotNET/rag**: Полная реализация RAG с использованием Semantic Kernel, векторной базы данных Qdrant и эмбеддингов JINA
- **Архитектура**: Загрузка документов → Разбиение текста → Векторные эмбеддинги → Поиск по схожести → Ответы с учетом контекста
- **Технологии**: Microsoft.SemanticKernel, Qdrant.Client, эмбеддинги BERT ONNX, потоковая генерация ответов в чате

**Десктопные приложения**
- **electron/foundry-chat**: Готовое к производству приложение для чата с переключением между локальной и облачной моделью
- **Особенности**: Выбор модели, потоковые ответы, обработка ошибок, кроссплатформенная разработка
- **Архитектура**: Основной процесс Electron, IPC-коммуникация, безопасные скрипты предварительной загрузки

**Примеры интеграции SDK**
- **JavaScript (Node.js)**: Базовое взаимодействие с моделью и потоковые ответы
- **Python**: Использование API, совместимого с OpenAI, с асинхронной потоковой обработкой
- **Rust**: Интеграция на низком уровне с reqwest и tokio для асинхронных операций

#### Предварительные требования для примеров Foundry Local

**Системные требования:**
- Windows 11 с установленным Foundry Local
- Node.js v16+ для примеров на JavaScript/Electron
- .NET 8.0+ для примеров на C#
- Python 3.10+ для примеров на Python
- Rust 1.70+ для примеров на Rust

**Установка:**
```powershell
# Install Foundry Local
winget install Microsoft.FoundryLocal

# Verify installation
foundry --version
foundry model list
```

#### Настройка для конкретных примеров

**Пример dotNET RAG:**
```powershell
# Install required packages via NuGet
# Microsoft.SemanticKernel.Connectors.Onnx
# Microsoft.SemanticKernel.Connectors.Qdrant
# Qdrant.Client

# Start Qdrant vector database
docker run -p 6333:6333 qdrant/qdrant

# Run Jupyter notebook
jupyter notebook rag_foundrylocal_demo.ipynb
```

**Пример чата на Electron:**
```powershell
# Set environment variables for cloud fallback
$env:YOUR_API_KEY="your-cloud-api-key"
$env:YOUR_ENDPOINT="your-cloud-endpoint"
$env:YOUR_MODEL_NAME="your-cloud-model"

# Install dependencies and run
npm install
npm start
```

**Примеры на JavaScript/Python/Rust:**
```powershell
# Download model (example with phi-3.5-mini)
foundry model run phi-3.5-mini

# Run respective sample
node src/app.js          # JavaScript
python src/app.py        # Python
cargo run               # Rust
```

#### Основные особенности

**Каталог моделей**
- Полная коллекция предварительно оптимизированных моделей с открытым исходным кодом
- Оптимизация моделей для работы на CPU, GPU и NPU для мгновенного развертывания
- Поддержка популярных семейств моделей, включая Llama, Mistral, Phi, а также специализированные модели для конкретных областей

**Интеграция с CLI**
- Интерфейс командной строки для управления моделями и их развертывания
- Автоматизированные рабочие процессы оптимизации и квантования
- Интеграция с популярными средами разработки и CI/CD-пайплайнами

**Локальное развертывание**
- Полностью автономная работа без зависимости от облака
- Поддержка пользовательских форматов и конфигураций моделей
- Эффективное обслуживание моделей с автоматической оптимизацией под оборудование

### 3. Windows ML

Windows ML является основной платформой для ИИ и встроенным механизмом выполнения на Windows, позволяя разработчикам эффективно развертывать пользовательские модели на широком спектре оборудования Windows.

#### Преимущества архитектуры

**Универсальная поддержка оборудования**
- Автоматическая оптимизация для процессоров AMD, Intel, NVIDIA и Qualcomm
- Поддержка выполнения на CPU, GPU и NPU с прозрачным переключением
- Абстракция оборудования, устраняющая необходимость оптимизации под конкретные платформы

**Гибкость моделей**
- Поддержка формата моделей ONNX с автоматической конверсией из популярных фреймворков
- Развертывание пользовательских моделей с производительностью уровня производства
- Интеграция с существующими архитектурами приложений Windows

**Интеграция для предприятий**
- Совместимость с системами безопасности и соответствия Windows
- Поддержка инструментов развертывания и управления для предприятий
- Интеграция с системами управления и мониторинга устройств Windows

## Рабочий процесс разработки

### Этап 1: Настройка среды и инструментов

**Подготовка среды разработки**
1. Установите Visual Studio 2022 с рабочими нагрузками C++ и .NET
2. Установите Windows App SDK версии 1.8.1 или выше
3. Настройте инструменты CLI Windows AI Foundry
4. Установите расширение AI Toolkit для Visual Studio Code
5. Настройте инструменты для профилирования производительности и мониторинга
6. Убедитесь, что конфигурация сборки ARM64 настроена для оптимизации Copilot+ PC

**Настройка репозитория примеров**
1. Клонируйте [репозиторий примеров Windows App SDK](https://github.com/microsoft/WindowsAppSDK-Samples)
2. Перейдите в `Samples/WindowsAIFoundry/cs-winui` для примеров API Windows AI
3. Перейдите в `Samples/WindowsML` для подробных примеров Windows ML
4. Ознакомьтесь с [требованиями к сборке](https://learn.microsoft.com/windows/apps/windows-app-sdk/system-requirements) для целевых платформ

**Исследование галереи AI Dev**
- Изучите примеры приложений и эталонные реализации
- Тестируйте API Windows AI с интерактивными демонстрациями
- Ознакомьтесь с исходным кодом для изучения лучших практик и шаблонов
- Определите подходящие примеры для вашего конкретного случая использования

### Этап 2: Выбор и интеграция модели

**Анализ требований**
- Определите функциональные требования к возможностям ИИ
- Установите ограничения производительности и цели оптимизации
- Оцените требования к конфиденциальности и безопасности
- Спланируйте архитектуру развертывания и стратегии масштабирования

**Оценка моделей**
- Используйте Foundry Local для тестирования моделей с открытым исходным кодом для вашего случая использования
- Проведите бенчмаркинг API Windows AI с учетом требований к пользовательским моделям
- Оцените компромиссы между размером модели, точностью и скоростью выполнения
- Прототипируйте подходы к интеграции с выбранными моделями

### Этап 3: Разработка приложения

**Основная интеграция**
- Реализуйте интеграцию API Windows AI с правильной обработкой ошибок
- Разработайте пользовательские интерфейсы, учитывающие рабочие процессы обработки ИИ
- Реализуйте стратегии кэширования и оптимизации для выполнения моделей
- Добавьте телеметрию и мониторинг для оценки производительности операций ИИ

**Тестирование и проверка**
- Тестируйте приложения на различных конфигурациях оборудования Windows
- Проверяйте метрики производительности при различных условиях нагрузки
- Реализуйте автоматизированное тестирование для надежности функциональности ИИ
- Проведите тестирование пользовательского опыта с функциями, улучшенными ИИ

### Этап 4: Оптимизация и развертывание

**Оптимизация производительности**
- Профилируйте производительность приложения на целевых конфигурациях оборудования
- Оптимизируйте использование памяти и стратегии загрузки моделей
- Реализуйте адаптивное поведение на основе доступных возможностей оборудования
- Настройте пользовательский опыт для различных сценариев производительности

**Развертывание в производственной среде**
- Упакуйте приложения с правильными зависимостями моделей ИИ
- Реализуйте механизмы обновления для моделей и логики приложения
- Настройте мониторинг и аналитику для производственных сред
- Спланируйте стратегии развертывания для предприятий и потребителей

## Примеры практической реализации

### Пример 1: Приложение для интеллектуальной обработки документов

Создайте приложение Windows, которое обрабатывает документы с использованием нескольких возможностей ИИ:

**Используемые технологии:**
- Phi Silica для суммаризации документов и ответов на вопросы
- API OCR для извлечения текста из отсканированных документов
- API описания изображений для анализа графиков и диаграмм
- Пользовательские модели ONNX для классификации документов

**Подход к реализации:**
- Разработайте модульную архитектуру с подключаемыми компонентами ИИ
- Реализуйте асинхронную обработку для больших пакетов документов
- Добавьте индикаторы прогресса и поддержку отмены для длительных операций
- Включите автономный режим для обработки конфиденциальных документов

### Пример 2: Система управления запасами для розничной торговли

Создайте систему управления запасами с поддержкой ИИ для розничных приложений:

**Используемые технологии:**
- Сегментация изображений для идентификации продуктов
- Пользовательские модели компьютерного зрения для классификации брендов и категорий
- Локальное развертывание специализированных языковых моделей для розничной торговли через Foundry Local
- Интеграция с существующими системами POS и управления запасами

**Подход к реализации:**
- Реализуйте интеграцию с камерами для сканирования продуктов в реальном времени
- Реализуйте распознавание штрих-кодов и визуальных характеристик продуктов
- Добавьте естественные языковые запросы к запасам с использованием локальных языковых моделей
- Разработайте масштабируемую архитектуру для развертывания в нескольких магазинах

### Пример 3: Ассистент для медицинской документации

Разработайте инструмент для медицинской документации с сохранением конфиденциальности:

**Используемые технологии:**
- Phi Silica для генерации медицинских заметок и поддержки клинических решений
- OCR для оцифровки рукописных медицинских записей
- Пользовательские медицинские языковые модели, развернутые через Windows ML
- Локальное хранение векторов для извлечения медицинских знаний

**Подход к реализации:**
- Обеспечьте полностью автономную работу для сохранения конфиденциальности пациентов
- Реализуйте проверку и предложение медицинской терминологии
- Добавьте ведение журнала аудита для соблюдения нормативных требований
- Разработайте интеграцию с существующими системами электронных медицинских записей

## Стратегии оптимизации производительности

### Разработка с учетом оборудования

**Оптимизация для NPU**
- Разрабатывайте приложения с учетом возможностей NPU на ПК Copilot+
- Реализуйте плавное переключение на GPU/CPU на устройствах без NPU
- Оптимизируйте форматы моделей для ускорения, специфичного для NPU
- Мониторьте использование NPU и его тепловые характеристики

**Управление памятью**
- Реализуйте эффективные стратегии загрузки и кэширования моделей
- Используйте отображение памяти для больших моделей, чтобы сократить время запуска
- Разрабатывайте приложения с учетом памяти для устройств с ограниченными ресурсами
- Реализуйте квантование моделей для оптимизации памяти

**Энергоэффективность**
- Оптимизируйте операции ИИ для минимального потребления энергии
- Реализуйте адаптивную обработку в зависимости от состояния батареи
- Разрабатывайте эффективную фоновую обработку для непрерывных операций ИИ
- Используйте инструменты профилирования энергопотребления для оптимизации использования энергии

### Учет масштабируемости

**Многопоточность**
- Разрабатывайте безопасные для потоков операции ИИ для параллельной обработки
- Реализуйте эффективное распределение работы между доступными ядрами
- Используйте паттерны async/await для неблокирующих операций ИИ
- Планируйте оптимизацию пула потоков для различных конфигураций оборудования

**Стратегии кэширования**
- Реализуйте интеллектуальное кэширование для часто используемых операций ИИ
- Разрабатывайте стратегии аннулирования кэша для обновлений моделей
- Используйте постоянное кэширование для дорогостоящих операций предварительной обработки
- Реализуйте распределенное кэширование для сценариев с несколькими пользователями

## Лучшие практики безопасности и конфиденциальности

### Защита данных

**Локальная обработка**
- Убедитесь, что конфиденциальные данные никогда не покидают локальное устройство
- Реализуйте безопасное хранилище для моделей ИИ и временных данных
- Используйте функции безопасности Windows для изоляции приложений
- Применяйте шифрование для сохраненных моделей и промежуточных результатов обработки

**Безопасность моделей**
- Проверяйте целостность моделей перед их загрузкой и выполнением
- Реализуйте безопасные механизмы обновления моделей
- Используйте подписанные модели для предотвращения их подделки
- Применяйте контроль доступа к файлам моделей и конфигурациям

### Учет нормативных требований

**Соответствие требованиям**
- Разрабатывайте приложения в соответствии с требованиями GDPR, HIPAA и других нормативных актов
- Реализуйте ведение журнала аудита для процессов принятия решений ИИ
- Предоставляйте функции прозрачности для результатов, созданных ИИ
- Обеспечьте контроль пользователя над обработкой данных ИИ

**Безопасность для предприятий**
- Интеграция с политиками безопасности Windows для предприятий
- Поддержка управляемого развертывания через инструменты управления предприятиями
- Реализуйте контроль доступа на основе ролей для функций ИИ
- Предоставляйте административные инструменты для управления функциональностью ИИ

## Устранение неполадок и отладка

### Распространенные проблемы разработки

**Проблемы конфигурации сборки**
- Убедитесь, что конфигурация платформы ARM64 настроена для примеров API Windows AI
- Проверьте совместимость версии Windows App SDK (требуется 1.8.1+)
- Убедитесь, что идентичность пакета правильно настроена (требуется для API Windows AI)
- Проверьте, что инструменты сборки поддерживают целевую версию фреймворка

**Проблемы загрузки моделей**
- Проверьте совместимость моделей ONNX с Windows ML
- Проверьте целостность файлов моделей и требования к их формату
- Убедитесь, что оборудование соответствует требованиям для конкретных моделей
- Отладьте проблемы выделения памяти при загрузке моделей
- Убедитесь, что регистрация провайдера выполнения для аппаратного ускорения выполнена

**Режимы развертывания**
- **Самодостаточный режим**: Полностью поддерживается, но имеет больший размер развертывания
- **Зависимый от фреймворка режим**: Меньший размер, но требует общего времени выполнения
- **Непакетированные приложения**: Больше не поддерживаются для API Windows AI
- Используйте `dotnet run -p:Platform=ARM64 -p:SelfContained=true` для самодостаточного развертывания ARM64

**Проблемы производительности**
- Профилируйте производительность приложения на различных конфигурациях оборудования
- Определите узкие места в конвейерах обработки ИИ
- Оптимизируйте операции предварительной и последующей обработки данных
- Реализуйте мониторинг производительности и оповещения

**Трудности интеграции**
- Отладьте проблемы интеграции API с правильной обработкой ошибок
- Проверьте форматы входных данных и требования к предварительной обработке
- Тщательно тестируйте крайние случаи и условия ошибок
- Реализуйте подробное ведение журнала для отладки проблем в производственной среде

### Инструменты и методы отладки

**Интеграция с Visual Studio**
- Используйте отладчик AI Toolkit для анализа выполнения моделей
- Реализуйте профилирование производительности для операций ИИ
- Отлаживайте асинхронные операции ИИ с правильной обработкой исключений
- Используйте инструменты профилирования памяти для оптимизации

**Инструменты Windows AI Foundry**
- Используйте CLI Foundry Local для тестирования и проверки моделей
- Используйте инструменты тестирования API Windows AI для проверки интеграции
- Реализуйте пользовательское ведение журнала для мониторинга операций ИИ
- Создавайте автоматизированное тестирование для надежности функциональности ИИ

## Обеспечение будущей совместимости приложений

### Новые технологии

**Аппаратное обеспечение следующего поколения**
- Разрабатывайте приложения с учетом будущих возможностей NPU
- Планируйте увеличение размеров и сложности моделей
- Реализуйте адаптивные архитектуры для развивающегося оборудования
- Рассмотрите алгоритмы, готовые к использованию в квантовых вычислениях, для будущей совместимости

**Расширенные возможности ИИ**
- Подготовьтесь к интеграции мультимодального ИИ для большего количества типов данных
- Планируйте возможности для совместной работы ИИ в реальном времени между несколькими устройствами
- Разрабатывайте для возможностей федеративного обучения
- Рассмотрите гибридные архитектуры интеллекта на границе и в облаке

### Непрерывное обучение и адаптация

**Обновления моделей**
- Реализуйте механизмы бесшовного обновления моделей
- Разрабатывайте приложения, которые адаптируются к улучшенным возможностям моделей
- Планируйте обратную совместимость с существующими моделями
- Реализуйте A/B-тестирование для оценки производительности моделей

**Эволюция функций**
- Разрабатывайте модульные архитектуры, которые учитывают новые возможности ИИ
- Планируйте интеграцию новых API Windows AI
- Реализуйте флаги функций для постепенного внедрения возможностей
- Разрабатывайте пользовательские интерфейсы, которые адаптируются к улучшенным функциям ИИ

## Заключение

Разработка Windows Edge AI представляет собой слияние мощных возможностей ИИ с надежной, безопасной и масштабируемой платформой Windows. Освоив экосистему Windows AI Foundry, разработчики могут создавать интеллектуальные приложения, обеспечивающие исключительный пользовательский опыт при соблюдении высочайших стандартов конфиденциальности, безопасности и производительности.

Сочетание API Windows AI, Foundry Local и Windows ML предоставляет
- [Обзор Windows ML](https://learn.microsoft.com/windows/ai/new-windows-ml/overview/)
- [Системные требования Windows App SDK](https://docs.microsoft.com/windows/apps/windows-app-sdk/system-requirements)
- [Настройка среды разработки Windows App SDK](https://docs.microsoft.com/windows/apps/windows-app-sdk/set-up-your-development-environment)
- 

### Примеры репозиториев и кода
- [Примеры Windows App SDK - Windows AI Foundry](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsAIFoundry)
- [Примеры Windows App SDK - Windows ML](https://github.com/microsoft/WindowsAppSDK-Samples/tree/main/Samples/WindowsML)
- [Примеры выполнения ONNX Runtime](https://github.com/microsoft/onnxruntime-inference-examples)
- [Репозиторий примеров Windows App SDK](https://github.com/microsoft/WindowsAppSDK-Samples)

### Инструменты разработки
- [AI Toolkit для Visual Studio Code](https://learn.microsoft.com/windows/ai/toolkit/)
- [AI Dev Gallery](https://learn.microsoft.com/windows/ai/ai-dev-gallery/)
- [Примеры Windows AI](https://learn.microsoft.com/windows/ai/samples/)
- [Инструменты конвертации моделей](https://code.visualstudio.com/docs/intelligentapps/modelconversion)

### Техническая поддержка
- [Документация Windows ML](https://learn.microsoft.com/windows/ai/new-windows-ml/overview)
- [Документация ONNX Runtime](https://onnxruntime.ai/docs/)
- [Документация Windows App SDK](https://docs.microsoft.com/windows/apps/windows-app-sdk/)
- [Сообщить о проблемах - Примеры Windows App SDK](https://github.com/microsoft/WindowsAppSDK-Samples/issues)

### Сообщество и поддержка
- [Сообщество разработчиков Windows](https://developer.microsoft.com/en-us/windows/)
- [Блог Windows AI Foundry](https://blogs.windows.com/windowsdeveloper/)
- [Обучение Microsoft Learn AI](https://learn.microsoft.com/training/browse/?products=windows&subjects=artificial-intelligence)

---

*Этот гид разработан для того, чтобы развиваться вместе с быстро меняющейся экосистемой Windows AI. Регулярные обновления обеспечивают соответствие последним возможностям платформы и лучшим практикам разработки.*

[08. Практическая работа с Microsoft Foundry Local - Полный набор инструментов для разработчика](../Module08/README.md)

---

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные интерпретации, возникшие в результате использования данного перевода.