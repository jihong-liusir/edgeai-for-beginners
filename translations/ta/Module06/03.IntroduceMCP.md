<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b6bd5b920b610665fd0462f6b5c2e134",
  "translation_date": "2025-10-11T11:27:53+00:00",
  "source_file": "Module06/03.IntroduceMCP.md",
  "language_code": "ta"
}
-->
# பகுதி 03 - மாடல் சூழல் நெறிமுறை (MCP) ஒருங்கிணைப்பு

## MCP (மாடல் சூழல் நெறிமுறை) அறிமுகம்

மாடல் சூழல் நெறிமுறை (MCP) என்பது மொழி மாடல்கள் வெளிப்புற கருவிகள் மற்றும் அமைப்புகளுடன் தரநிலையான முறையில் தொடர்பு கொள்ள உதவும் புரட்சிகரமான கட்டமைப்பாகும். பாரம்பரிய அணுகுமுறைகளில் மாடல்கள் தனிமைப்படுத்தப்பட்ட நிலையில் இருக்கும் போது, MCP ஒரு நன்றாக வரையறுக்கப்பட்ட நெறிமுறையின் மூலம் AI மாடல்கள் மற்றும் உண்மையான உலகத்திற்கிடையில் பாலமாக செயல்படுகிறது.

### MCP என்றால் என்ன?

MCP ஒரு தொடர்பு நெறிமுறையாக செயல்படுகிறது, இது மொழி மாடல்களுக்கு கீழ்க்காணும் செயல்களை செய்ய அனுமதிக்கிறது:
- வெளிப்புற தரவூட்டங்களுடன் இணைப்பு
- கருவிகள் மற்றும் செயல்பாடுகளை இயக்குதல்
- APIக்கள் மற்றும் சேவைகளுடன் தொடர்பு கொள்ளுதல்
- நேரடி தகவல்களை அணுகுதல்
- சிக்கலான பல படி செயல்பாடுகளை செய்யுதல்

இந்த நெறிமுறை நிலையான மொழி மாடல்களை உரையாடல் உருவாக்கத்தைத் தாண்டி நடைமுறை பணிகளைச் செய்யும் துடிப்பான முகவர்களாக மாற்றுகிறது.

## சிறிய மொழி மாடல்கள் (SLMs) MCPயில்

சிறிய மொழி மாடல்கள் AIயை செயல்படுத்துவதற்கான திறமையான அணுகுமுறையை பிரதிநிதித்துவப்படுத்துகின்றன, மேலும் பல நன்மைகளை வழங்குகின்றன:

### SLMக்களின் நன்மைகள்
- **வள திறன்**: குறைந்த கணினி தேவைகள்  
- **வேகமான பதில் நேரம்**: நேரடி பயன்பாடுகளுக்கு குறைந்த தாமதம்  
- **செலவுக் குறைவு**: குறைந்த உள்கட்டமைப்பு தேவைகள்  
- **தனியுரிமை**: தரவுகளை பரிமாற்றமின்றி உள்ளூரில் இயங்க முடியும்  
- **தனிப்பயனாக்கம்**: குறிப்பிட்ட துறைகளுக்கு எளிதில் சரிசெய்ய முடியும்  

### MCPயுடன் SLMக்கள் ஏன் சிறப்பாக செயல்படுகின்றன

SLMக்கள் MCPயுடன் இணைக்கப்பட்டால், மாடலின் காரணமறிதல் திறன்கள் வெளிப்புற கருவிகளால் மேம்படுத்தப்படுகின்றன, மேலும் குறைந்த அளவிலான அளவுரு எண்ணிக்கையை மேம்படுத்தும் செயல்பாடுகளால் ஈடு செய்யப்படுகின்றன.

## Python MCP SDK கண்ணோட்டம்

Python MCP SDK MCP-இயக்கப்பட்ட பயன்பாடுகளை உருவாக்க அடித்தளத்தை வழங்குகிறது. SDKயில் அடங்கும்:

- **வாடிக்கையாளர் நூலகங்கள்**: MCP சேவையகங்களுடன் இணைக்க  
- **சேவையக கட்டமைப்பு**: தனிப்பயன் MCP சேவையகங்களை உருவாக்க  
- **நெறிமுறை கையாளிகள்**: தொடர்புகளை நிர்வகிக்க  
- **கருவி ஒருங்கிணைப்பு**: வெளிப்புற செயல்பாடுகளை இயக்க  

## நடைமுறை செயல்பாடு: Phi-4 MCP வாடிக்கையாளர்

Microsoft இன் Phi-4 மினி மாடலை MCP திறன்களுடன் ஒருங்கிணைத்த ஒரு உண்மையான உலக செயல்பாட்டை ஆராய்வோம்.

### அமைப்பு கட்டமைப்பு

செயல்பாடு அடுக்கமைப்பு கட்டமைப்பை பின்பற்றுகிறது:

```
┌─────────────────────────────────────┐
│        Application Layer           │
│  ├── Interactive Loop              │
│  ├── CLI Interface                 │
│  └── Configuration Management      │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│         LLM Client Layer           │
│  ├── OllamaClient                  │
│  ├── VLLMClient                    │
│  └── LLMClient (Abstract)          │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│        MCP Client Layer            │
│  ├── Phi4MiniMCPClient (STDIO)     │
│  ├── Phi4MiniSSEMCPClient (SSE)    │
│  └── BaseMCPClient (Abstract)      │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│      Tool Processing Layer         │
│  ├── ToolCallHandler               │
│  ├── Function Format Transformer   │
│  └── Tool Schema Management        │
└─────────────────────────────────────┘
```

### முக்கிய கூறுகள்

#### 1. MCP வாடிக்கையாளர் வகைகள்

**BaseMCPClient**: பொதுவான செயல்பாடுகளை வழங்கும் 추상 அடித்தளம்  
- அசிங்க் சூழல் மேலாளர் நெறிமுறை  
- தரநிலை இடைமுக வரையறை  
- வள மேலாண்மை  

**Phi4MiniMCPClient**: STDIO அடிப்படையிலான செயல்பாடு  
- உள்ளூர் செயல்முறை தொடர்பு  
- தரநிலை உள்ளீடு/வெளியீடு கையாளுதல்  
- துணை செயல்முறை மேலாண்மை  

**Phi4MiniSSEMCPClient**: சேவையக-அனுப்பிய நிகழ்வுகள் செயல்பாடு  
- HTTP ஸ்ட்ரீமிங் தொடர்பு  
- நேரடி நிகழ்வு கையாளுதல்  
- வலை அடிப்படையிலான சேவையக இணைப்பு  

#### 2. LLM ஒருங்கிணைப்பு

**OllamaClient**: உள்ளூர் மாடல் ஹோஸ்டிங்  
```python
class OllamaClient(LLMClient):
    def __init__(self):
        self.url = "http://localhost:11434/api/chat"
        self.model_id = "phi4-mini:3.8b-fp16"
```

**VLLMClient**: உயர் செயல்திறன் சேவை  
```python
class VLLMClient(LLMClient):
    def __init__(self):
        self.url = "http://localhost:8000/v1"
        self.model_id = "microsoft/Phi-4-mini-instruct"
```

#### 3. கருவி செயலாக்க குழாய்

MCP கருவிகளை மொழி மாடல்களுக்கு பொருந்தக்கூடிய வடிவங்களாக மாற்றும் செயலாக்க குழாய்:

```python
def transform_functions_format(input_data):
    """Convert MCP tool schemas to LLM-compatible formats"""
    # Maps OpenAPI schemas to function calling schemas
    # Handles parameter type conversion
    # Maintains required field information
```

## தொடங்குதல்: படிப்படியாக வழிகாட்டி

### படி 1: சூழல் அமைப்பு

தேவையான சார்புகளை நிறுவவும்:  
```bash
pip install fastmcp mcp-python-client openai requests pyautogui Pillow
```

### படி 2: அடிப்படை கட்டமைப்பு

உங்கள் சூழல் மாறிகளை அமைக்கவும்:  
```python
# System Configuration
SYSTEM_PROMPT = "You are an AI assistant with some tools."

# Ollama Configuration (Local)
OLLAMA_URL = "http://localhost:11434/api/chat"
OLLAMA_MODEL_ID = "phi4-mini:3.8b-fp16"

# vLLM Configuration (Server)
VLLM_URL = "http://localhost:8000/v1"
VLLM_MODEL_ID = "microsoft/Phi-4-mini-instruct"
```

### படி 3: உங்கள் முதல் MCP வாடிக்கையாளரை இயக்குதல்

**அடிப்படை Ollama அமைப்பு:**  
```bash
python ghmodel_mcp_demo.py
```

**vLLM பின்புறத்தைப் பயன்படுத்துதல்:**  
```bash
python ghmodel_mcp_demo.py --env vllm
```

**சேவையக அனுப்பிய நிகழ்வுகள் இணைப்பு:**  
```bash
python ghmodel_mcp_demo.py --run sse
```

**தனிப்பயன் MCP சேவையகம்:**  
```bash
python ghmodel_mcp_demo.py --server /path/to/server.py
```

### படி 4: நிரல்பூர்வமான பயன்பாடு

```python
import asyncio
from ghmodel_mcp_demo import OllamaClient, Phi4MiniMCPClient

async def automated_interaction():
    # Configure MCP server parameters
    server_params = StdioServerParameters(
        command="npx",
        args=["@playwright/mcp@latest"],
        env=None,
    )
    
    # Create MCP client and process tools
    async with Phi4MiniMCPClient(server_params) as mcp_client:
        tools = await process_mcp_tools(mcp_client)
        llm_client = OllamaClient()
        
        # Generate response with tool capabilities
        response, messages = await llm_client.generate_response(
            "Help me automate a web task",
            tools
        )
        return response

# Execute the automation
result = asyncio.run(automated_interaction())
print(result)
```

## மேம்பட்ட அம்சங்கள்

### பல பின்புற ஆதரவு

செயல்பாடு Ollama மற்றும் vLLM பின்புறங்களை ஆதரிக்கிறது, உங்கள் தேவைகளின் அடிப்படையில் தேர்வு செய்ய அனுமதிக்கிறது:

- **Ollama**: உள்ளூர் மேம்பாடு மற்றும் சோதனைக்கு சிறந்தது  
- **vLLM**: உற்பத்தி மற்றும் உயர்-திறன் சூழல்களுக்கு மேம்படுத்தப்பட்டது  

### இணைப்பு நெறிமுறைகளின் சாளரம்

இரண்டு இணைப்பு முறைகள் ஆதரிக்கப்படுகின்றன:

**STDIO முறை**: நேரடி செயல்முறை தொடர்பு  
- குறைந்த தாமதம்  
- உள்ளூர் கருவிகளுக்கு பொருத்தமானது  
- எளிய அமைப்பு  

**SSE முறை**: HTTP அடிப்படையிலான ஸ்ட்ரீமிங்  
- நெட்வொர்க் திறன்  
- பகிர்ந்த சூழல்களுக்கு சிறந்தது  
- நேரடி புதுப்பிப்புகள்  

### கருவி ஒருங்கிணைப்பு திறன்கள்

கணினி பல்வேறு கருவிகளுடன் ஒருங்கிணைக்க முடியும்:  
- வலை தானியங்கம் (Playwright)  
- கோப்பு செயல்பாடுகள்  
- API தொடர்புகள்  
- அமைப்பு கட்டளைகள்  
- தனிப்பயன் செயல்பாடுகள்  

## பிழை கையாளுதல் மற்றும் சிறந்த நடைமுறைகள்

### விரிவான பிழை மேலாண்மை

செயல்பாடு பின்வரும் பிழைகளுக்கு வலுவான கையாளுதலை உள்ளடக்கியது:

**இணைப்பு பிழைகள்:**  
- MCP சேவையக தோல்விகள்  
- நெட்வொர்க் நேரம் முடிவுகள்  
- இணைப்பு சிக்கல்கள்  

**கருவி செயல்பாடு பிழைகள்:**  
- காணாமல் போன கருவிகள்  
- அளவுரு சரிபார்ப்பு  
- செயல்பாட்டு தோல்விகள்  

**பதில் செயலாக்க பிழைகள்:**  
- JSON பார்சிங் சிக்கல்கள்  
- வடிவ முரண்பாடுகள்  
- LLM பதில் சிக்கல்கள்  

### சிறந்த நடைமுறைகள்

1. **வள மேலாண்மை**: அசிங்க் சூழல் மேலாளர்களைப் பயன்படுத்தவும்  
2. **பிழை கையாளுதல்**: விரிவான try-catch தொகுதிகளை செயல்படுத்தவும்  
3. **பதிவேடு**: பொருத்தமான பதிவேடு நிலைகளை இயக்கவும்  
4. **பாதுகாப்பு**: உள்ளீடுகளை சரிபார்த்து வெளியீடுகளை சுத்திகரிக்கவும்  
5. **செயல்திறன்**: இணைப்பு குவியல் மற்றும் கேஷிங் பயன்படுத்தவும்  

## உண்மையான உலக பயன்பாடுகள்

### வலை தானியங்கம்  
```python
# Example: Automated web testing
async def web_automation_example():
    tools = await setup_playwright_tools()
    response = await llm_client.generate_response(
        "Navigate to example.com and take a screenshot",
        tools
    )
```

### தரவுச் செயலாக்கம்  
```python
# Example: File analysis
async def data_processing_example():
    tools = await setup_file_tools()
    response = await llm_client.generate_response(
        "Analyze the CSV file and generate a summary report",
        tools
    )
```

### API ஒருங்கிணைப்பு  
```python
# Example: API interactions
async def api_integration_example():
    tools = await setup_api_tools()
    response = await llm_client.generate_response(
        "Fetch weather data and create a forecast summary",
        tools
    )
```

## செயல்திறன் மேம்பாடு

### நினைவக மேலாண்மை  
- திறமையான செய்தி வரலாறு கையாளுதல்  
- சரியான வள சுத்திகரிப்பு  
- இணைப்பு குவியல்  

### நெட்வொர்க் மேம்பாடு  
- அசிங்க் HTTP செயல்பாடுகள்  
- கட்டமைக்கக்கூடிய நேர முடிவுகள்  
- மென்மையான பிழை மீட்பு  

### ஒரே நேர செயல்பாடு  
- தடை இல்லாத I/O  
- இணைபுரிய கருவி செயல்பாடு  
- திறமையான அசிங்க் முறை  

## பாதுகாப்பு கருத்துகள்

### தரவுப் பாதுகாப்பு  
- API விசை மேலாண்மையை பாதுகாக்கவும்  
- உள்ளீடு சரிபார்ப்பு  
- வெளியீடு சுத்திகரிப்பு  

### நெட்வொர்க் பாதுகாப்பு  
- HTTPS ஆதரவு  
- உள்ளூர் இறுதிப் புள்ளி இயல்புகள்  
- பாதுகாப்பான டோக்கன் கையாளுதல்  

### செயல்பாட்டு பாதுகாப்பு  
- கருவி வடிகட்டி  
- சாண்ட்பாக்ஸ் சூழல்கள்  
- ஆடிட் பதிவேடு  

## முடிவு

MCPயுடன் ஒருங்கிணைக்கப்பட்ட SLMக்கள் AI பயன்பாட்டு மேம்பாட்டில் ஒரு பாரடைக்ம மாற்றத்தை பிரதிநிதித்துவப்படுத்துகின்றன. சிறிய மாடல்களின் திறமையை வெளிப்புற கருவிகளின் சக்தியுடன் இணைத்து, வள திறனும் திறமையும் கொண்ட புத்திசாலி அமைப்புகளை உருவாக்க முடியும்.

Phi-4 MCP வாடிக்கையாளர் செயல்பாடு இந்த ஒருங்கிணைப்பை நடைமுறையில் எவ்வாறு அடையலாம் என்பதை விளக்குகிறது, மேலும் சிக்கலான AI-இயக்கப்பட்ட பயன்பாடுகளை உருவாக்க ஒரு வலுவான அடித்தளத்தை வழங்குகிறது.

முக்கிய கருத்துக்கள்:  
- MCP மொழி மாடல்கள் மற்றும் வெளிப்புற அமைப்புகளுக்கு இடையிலான இடைவெளியை நிரப்புகிறது  
- SLMக்கள் கருவிகளால் மேம்படுத்தப்பட்ட போது திறனை இழக்காமல் திறமையை வழங்குகின்றன  
- தொகுதி கட்டமைப்பு எளிதாக நீட்டிப்பு மற்றும் தனிப்பயனாக்கத்தை அனுமதிக்கிறது  
- உற்பத்தி பயன்பாட்டிற்கு சரியான பிழை கையாளுதல் மற்றும் பாதுகாப்பு நடவடிக்கைகள் அவசியம்  

இந்த பாடம் உங்கள் சொந்த SLM-இயக்கப்பட்ட MCP பயன்பாடுகளை உருவாக்க அடித்தளத்தை வழங்குகிறது, தானியங்கம், தரவுச் செயலாக்கம் மற்றும் புத்திசாலி அமைப்பு ஒருங்கிணைப்பு போன்ற வாய்ப்புகளைத் திறக்கிறது.

---

**அறிவிப்பு**:  
இந்த ஆவணம் [Co-op Translator](https://github.com/Azure/co-op-translator) என்ற AI மொழிபெயர்ப்பு சேவையை பயன்படுத்தி மொழிபெயர்க்கப்பட்டுள்ளது. நாங்கள் துல்லியத்திற்காக முயற்சிக்கிறோம், ஆனால் தானியங்கி மொழிபெயர்ப்புகளில் பிழைகள் அல்லது தவறுகள் இருக்கக்கூடும் என்பதை கவனத்தில் கொள்ளவும். அதன் சொந்த மொழியில் உள்ள மூல ஆவணம் அதிகாரப்பூர்வ ஆதாரமாக கருதப்பட வேண்டும். முக்கியமான தகவல்களுக்கு, தொழில்முறை மனித மொழிபெயர்ப்பு பரிந்துரைக்கப்படுகிறது. இந்த மொழிபெயர்ப்பைப் பயன்படுத்துவதால் ஏற்படும் எந்த தவறான புரிதல்கள் அல்லது தவறான விளக்கங்களுக்கு நாங்கள் பொறுப்பல்ல.