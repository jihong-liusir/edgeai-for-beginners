<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b6bd5b920b610665fd0462f6b5c2e134",
  "translation_date": "2025-09-18T23:53:51+00:00",
  "source_file": "Module06/03.IntroduceMCP.md",
  "language_code": "my"
}
-->
# အပိုင်း 03 - Model Context Protocol (MCP) ပေါင်းစည်းမှု

## MCP (Model Context Protocol) ကိုမိတ်ဆက်ခြင်း

Model Context Protocol (MCP) သည် AI မော်ဒယ်များကို ပြင်ပကိရိယာများနှင့် စနစ်များနှင့် စံပြနည်းဖြင့် ဆက်သွယ်နိုင်စေသော အဆင့်မြှင့် Framework တစ်ခုဖြစ်သည်။ ယခင်နည်းလမ်းများတွင် မော်ဒယ်များကို သီးသန့်ထားသည့်အစား MCP သည် AI မော်ဒယ်များနှင့် အပြင်လောကအကြား တိကျသည့် Protocol တစ်ခုဖြင့် တံတားတည်ဆောက်ပေးသည်။

### MCP ဆိုတာဘာလဲ?

MCP သည် ဘာသာစကားမော်ဒယ်များကို ဆက်သွယ်နိုင်စေသော Protocol တစ်ခုအဖြစ် လုပ်ဆောင်သည်။
- ပြင်ပဒေတာရင်းမြစ်များနှင့် ချိတ်ဆက်ခြင်း
- ကိရိယာများနှင့် လုပ်ဆောင်ချက်များကို အကောင်အထည်ဖော်ခြင်း
- API များနှင့် ဝန်ဆောင်မှုများနှင့် အပြန်အလှန်ဆက်သွယ်ခြင်း
- အချိန်နှင့်တပြေးညီ သတင်းအချက်အလက်များကို ရယူခြင်း
- အဆင့်ဆင့်လုပ်ဆောင်မှုများကို အကောင်အထည်ဖော်ခြင်း

ဤ Protocol သည် Static ဘာသာစကားမော်ဒယ်များကို Text ထုတ်လုပ်ခြင်းအပြင် အခြားအကျိုးရှိသော လုပ်ငန်းများကို လုပ်ဆောင်နိုင်သော Dynamic Agent များအဖြစ် ပြောင်းလဲပေးသည်။

## MCP တွင် Small Language Models (SLMs)

Small Language Models သည် AI ကို ထိရောက်စွာ အသုံးချနိုင်စေသော နည်းလမ်းတစ်ခုဖြစ်ပြီး အကျိုးကျေးဇူးများစွာပေးစွမ်းသည်။

### SLMs ရဲ့ အကျိုးကျေးဇူးများ
- **အရင်းအမြစ်အသုံးချမှု**: ကွန်ပျူတာအရင်းအမြစ်လိုအပ်ချက်နည်းပါးခြင်း
- **တုံ့ပြန်မှုမြန်ဆန်မှု**: အချိန်နှင့်တပြေးညီ လျင်မြန်သော တုံ့ပြန်မှု
- **ကုန်ကျစရိတ်သက်သာမှု**: အနည်းဆုံးအဆောက်အအုံလိုအပ်ချက်
- **ကိုယ်ရေးအချက်အလက်လုံခြုံမှု**: ဒေတာပို့ဆောင်မှုမရှိဘဲ ဒေသတွင်းတွင် လုပ်ဆောင်နိုင်ခြင်း
- **စိတ်ကြိုက်ပြင်ဆင်မှု**: သတ်မှတ်ထားသော နယ်ပယ်များအတွက် လွယ်ကူစွာ ပြင်ဆင်နိုင်ခြင်း

### MCP နှင့် SLMs အတူတူ လုပ်ဆောင်မှုကောင်းခြင်း

SLMs နှင့် MCP ကို ပေါင်းစည်းခြင်းသည် မော်ဒယ်၏ Reasoning စွမ်းရည်များကို ပြင်ပကိရိယာများဖြင့် မြှင့်တင်ပေးပြီး Parameter အရေအတွက်နည်းပါးမှုကို Functionality မြှင့်တင်ခြင်းဖြင့် အစားထိုးပေးသည်။

## Python MCP SDK အကျဉ်းချုပ်

Python MCP SDK သည် MCP-enabled Application များတည်ဆောက်ရန် အခြေခံအဆောက်အအုံကို ပေးသည်။ SDK တွင် ပါဝင်သည်မှာ-

- **Client Libraries**: MCP Servers နှင့် ချိတ်ဆက်ရန်
- **Server Framework**: စိတ်ကြိုက် MCP Servers တည်ဆောက်ရန်
- **Protocol Handlers**: ဆက်သွယ်မှုကို စီမံခန့်ခွဲရန်
- **Tool Integration**: ပြင်ပလုပ်ဆောင်ချက်များကို အကောင်အထည်ဖော်ရန်

## အကောင်အထည်ဖော်မှု: Phi-4 MCP Client

Microsoft ရဲ့ Phi-4 mini model ကို MCP စွမ်းရည်များနှင့် ပေါင်းစည်းထားသော အကောင်အထည်ဖော်မှုကို လေ့လာကြမည်။

### စနစ်အဆောက်အအုံ

ဤအကောင်အထည်ဖော်မှုသည် အလွှာအလိုက် Architecture ကို လိုက်နာသည်။

```
┌─────────────────────────────────────┐
│        Application Layer           │
│  ├── Interactive Loop              │
│  ├── CLI Interface                 │
│  └── Configuration Management      │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│         LLM Client Layer           │
│  ├── OllamaClient                  │
│  ├── VLLMClient                    │
│  └── LLMClient (Abstract)          │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│        MCP Client Layer            │
│  ├── Phi4MiniMCPClient (STDIO)     │
│  ├── Phi4MiniSSEMCPClient (SSE)    │
│  └── BaseMCPClient (Abstract)      │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│      Tool Processing Layer         │
│  ├── ToolCallHandler               │
│  ├── Function Format Transformer   │
│  └── Tool Schema Management        │
└─────────────────────────────────────┘
```

### အဓိကအစိတ်အပိုင်းများ

#### 1. MCP Client Classes

**BaseMCPClient**: အခြေခံ Functionality ပေးသော Abstract Foundation
- Async context manager protocol
- စံ Interface အဓိပ္ပာယ်ဖော်ခြင်း
- Resource စီမံခန့်ခွဲမှု

**Phi4MiniMCPClient**: STDIO-based Implementation
- ဒေသတွင်း Process ဆက်သွယ်မှု
- Standard input/output ကို စီမံခြင်း
- Subprocess စီမံခန့်ခွဲမှု

**Phi4MiniSSEMCPClient**: Server-Sent Events Implementation
- HTTP Streaming ဆက်သွယ်မှု
- အချိန်နှင့်တပြေးညီ Event စီမံခြင်း
- Web-based Server ချိတ်ဆက်မှု

#### 2. LLM Integration

**OllamaClient**: ဒေသတွင်း Model Hosting
```python
class OllamaClient(LLMClient):
    def __init__(self):
        self.url = "http://localhost:11434/api/chat"
        self.model_id = "phi4-mini:3.8b-fp16"
```

**VLLMClient**: စွမ်းဆောင်ရည်မြင့် Serving
```python
class VLLMClient(LLMClient):
    def __init__(self):
        self.url = "http://localhost:8000/v1"
        self.model_id = "microsoft/Phi-4-mini-instruct"
```

#### 3. Tool Processing Pipeline

Tool Processing Pipeline သည် MCP Tools များကို ဘာသာစကားမော်ဒယ်များနှင့် သင့်လျော်သော Format များသို့ ပြောင်းလဲပေးသည်။

```python
def transform_functions_format(input_data):
    """Convert MCP tool schemas to LLM-compatible formats"""
    # Maps OpenAPI schemas to function calling schemas
    # Handles parameter type conversion
    # Maintains required field information
```

## စတင်ခြင်း: အဆင့်ဆင့်လမ်းညွှန်

### အဆင့် 1: ပတ်ဝန်းကျင် Setup

လိုအပ်သော Dependencies များကို Install လုပ်ပါ:
```bash
pip install fastmcp mcp-python-client openai requests pyautogui Pillow
```

### အဆင့် 2: အခြေခံ Configuration

သင့်ပတ်ဝန်းကျင် Variable များကို Setup လုပ်ပါ:
```python
# System Configuration
SYSTEM_PROMPT = "You are an AI assistant with some tools."

# Ollama Configuration (Local)
OLLAMA_URL = "http://localhost:11434/api/chat"
OLLAMA_MODEL_ID = "phi4-mini:3.8b-fp16"

# vLLM Configuration (Server)
VLLM_URL = "http://localhost:8000/v1"
VLLM_MODEL_ID = "microsoft/Phi-4-mini-instruct"
```

### အဆင့် 3: သင့်ပထမဆုံး MCP Client ကို Run လုပ်ခြင်း

**Basic Ollama Setup:**
```bash
python ghmodel_mcp_demo.py
```

**vLLM Backend အသုံးပြုခြင်း:**
```bash
python ghmodel_mcp_demo.py --env vllm
```

**Server-Sent Events Connection:**
```bash
python ghmodel_mcp_demo.py --run sse
```

**Custom MCP Server:**
```bash
python ghmodel_mcp_demo.py --server /path/to/server.py
```

### အဆင့် 4: Programmatic Usage

```python
import asyncio
from ghmodel_mcp_demo import OllamaClient, Phi4MiniMCPClient

async def automated_interaction():
    # Configure MCP server parameters
    server_params = StdioServerParameters(
        command="npx",
        args=["@playwright/mcp@latest"],
        env=None,
    )
    
    # Create MCP client and process tools
    async with Phi4MiniMCPClient(server_params) as mcp_client:
        tools = await process_mcp_tools(mcp_client)
        llm_client = OllamaClient()
        
        # Generate response with tool capabilities
        response, messages = await llm_client.generate_response(
            "Help me automate a web task",
            tools
        )
        return response

# Execute the automation
result = asyncio.run(automated_interaction())
print(result)
```

## အဆင့်မြင့် Features

### Multi-Backend Support

ဤအကောင်အထည်ဖော်မှုသည် Ollama နှင့် vLLM Backends နှစ်ခုလုံးကို ပံ့ပိုးပေးပြီး သင့်လိုအပ်ချက်အပေါ် မူတည်၍ ရွေးချယ်နိုင်သည်။

- **Ollama**: ဒေသတွင်း Development နှင့် Testing အတွက် သင့်လျော်သည်
- **vLLM**: ထုတ်လုပ်မှုနှင့် High-throughput အခြေအနေများအတွက် အကောင်းဆုံး

### Flexible Connection Protocols

Connection Modes နှစ်မျိုးကို ပံ့ပိုးပေးသည်-

**STDIO Mode**: Process တိုက်ရိုက်ဆက်သွယ်မှု
- Latency နည်းပါးခြင်း
- ဒေသတွင်း Tools အတွက် သင့်လျော်သည်
- Setup လွယ်ကူခြင်း

**SSE Mode**: HTTP-based Streaming
- Network ချိတ်ဆက်နိုင်ခြင်း
- Distributed Systems အတွက် သင့်လျော်သည်
- အချိန်နှင့်တပြေးညီ Update များ

### Tool Integration စွမ်းရည်များ

စနစ်သည် အမျိုးမျိုးသော Tools များနှင့် ပေါင်းစည်းနိုင်သည်-
- Web Automation (Playwright)
- ဖိုင်လုပ်ဆောင်မှုများ
- API ဆက်သွယ်မှုများ
- စနစ် Commands
- စိတ်ကြိုက် Functions

## Error Handling နှင့် အကောင်းဆုံးလေ့လာမှုများ

### Error စီမံခန့်ခွဲမှု

ဤအကောင်အထည်ဖော်မှုတွင် Error Handling အတွက် အားကောင်းသော Mechanism များပါဝင်သည်-

**Connection Errors:**
- MCP Server Failures
- Network Timeouts
- Connectivity Issues

**Tool Execution Errors:**
- Tools မရှိခြင်း
- Parameter Validation
- Execution Failures

**Response Processing Errors:**
- JSON Parsing Issues
- Format မညီခြင်း
- LLM Response အနုစိတ်

### အကောင်းဆုံးလေ့လာမှုများ

1. **Resource စီမံခန့်ခွဲမှု**: Async Context Managers ကို အသုံးပြုပါ
2. **Error Handling**: Try-Catch Blocks များကို Comprehensive အဖြစ် အကောင်အထည်ဖော်ပါ
3. **Logging**: သင့်လျော်သော Logging Levels ကို Enable လုပ်ပါ
4. **Security**: Inputs များကို Validate လုပ်ပြီး Outputs များကို Sanitize လုပ်ပါ
5. **Performance**: Connection Pooling နှင့် Caching ကို အသုံးပြုပါ

## အမှန်တကယ်အသုံးချမှုများ

### Web Automation
```python
# Example: Automated web testing
async def web_automation_example():
    tools = await setup_playwright_tools()
    response = await llm_client.generate_response(
        "Navigate to example.com and take a screenshot",
        tools
    )
```

### Data Processing
```python
# Example: File analysis
async def data_processing_example():
    tools = await setup_file_tools()
    response = await llm_client.generate_response(
        "Analyze the CSV file and generate a summary report",
        tools
    )
```

### API Integration
```python
# Example: API interactions
async def api_integration_example():
    tools = await setup_api_tools()
    response = await llm_client.generate_response(
        "Fetch weather data and create a forecast summary",
        tools
    )
```

## စွမ်းဆောင်ရည်မြှင့်တင်ခြင်း

### Memory စီမံခန့်ခွဲမှု
- Message History ကို ထိရောက်စွာ Handle လုပ်ခြင်း
- Resource Cleanup ကို သင့်လျော်စွာ ပြုလုပ်ခြင်း
- Connection Pooling

### Network Optimization
- Async HTTP Operations
- Configurable Timeouts
- Error Recovery ကို သက်သာစွာ ပြုလုပ်ခြင်း

### Concurrent Processing
- Non-blocking I/O
- Tool များကို Parallel အဖြစ် Execute လုပ်ခြင်း
- Async Patterns ကို ထိရောက်စွာ အသုံးပြုခြင်း

## လုံခြုံရေးစဉ်းစားမှုများ

### ဒေတာကာကွယ်မှု
- API Key များကို လုံခြုံစွာ စီမံခြင်း
- Input Validation
- Output Sanitization

### Network လုံခြုံရေး
- HTTPS Support
- ဒေသတွင်း Endpoint Defaults
- Secure Token Handling

### လုပ်ဆောင်မှုလုံခြုံရေး
- Tool Filtering
- Sandboxed Environments
- Audit Logging

## နိဂုံး

SLMs နှင့် MCP ပေါင်းစည်းမှုသည် AI Application Development တွင် Paradigm Shift တစ်ခုကို ဖန်တီးပေးသည်။ Small Models ရဲ့ ထိရောက်မှုကို ပြင်ပ Tools များနှင့် ပေါင်းစည်းခြင်းဖြင့် Resource-Efficient ဖြစ်စေသည့် Intelligent Systems များကို ဖန်တီးနိုင်သည်။

Phi-4 MCP Client အကောင်အထည်ဖော်မှုသည် ဤပေါင်းစည်းမှုကို အကောင်အထည်ဖော်နိုင်ပုံကို ပြသပြီး Sophisticated AI-powered Applications များတည်ဆောက်ရန် အခြေခံအဆောက်အအုံကို ပေးသည်။

အဓိက Takeaways:
- MCP သည် ဘာသာစကားမော်ဒယ်များနှင့် ပြင်ပစနစ်များအကြား တံတားတစ်ခုဖြစ်သည်
- Tools ဖြင့် မြှင့်တင်ထားသော SLMs သည် စွမ်းရည်ကို မလျော့နည်းစေဘဲ ထိရောက်မှုကို ပေးစွမ်းသည်
- Modular Architecture သည် Extension နှင့် Customization ကို လွယ်ကူစေသည်
- Error Handling နှင့် Security Measures များသည် ထုတ်လုပ်မှုအတွက် အရေးပါသည်

ဤလမ်းညွှန်သည် SLM-powered MCP Applications များကို တည်ဆောက်ရန် အခြေခံကို ပေးပြီး Automation, Data Processing, Intelligent System Integration အတွက် အခွင့်အလမ်းများကို ဖွင့်လှစ်ပေးသည်။

---

**အကြောင်းကြားချက်**:  
ဤစာရွက်စာတမ်းကို AI ဘာသာပြန်ဝန်ဆောင်မှု [Co-op Translator](https://github.com/Azure/co-op-translator) ကို အသုံးပြု၍ ဘာသာပြန်ထားပါသည်။ ကျွန်ုပ်တို့သည် တိကျမှုအတွက် ကြိုးစားနေသော်လည်း၊ အလိုအလျောက် ဘာသာပြန်မှုများတွင် အမှားများ သို့မဟုတ် မတိကျမှုများ ပါဝင်နိုင်သည်ကို သတိပြုပါ။ မူရင်းစာရွက်စာတမ်းကို ၎င်း၏ မူရင်းဘာသာစကားဖြင့် အာဏာတရားရှိသော အရင်းအမြစ်အဖြစ် ရှုလေ့ရှိသင့်ပါသည်။ အရေးကြီးသော အချက်အလက်များအတွက် လူ့ဘာသာပြန်ပညာရှင်များမှ ပရော်ဖက်ရှင်နယ် ဘာသာပြန်မှုကို အကြံပြုပါသည်။ ဤဘာသာပြန်မှုကို အသုံးပြုခြင်းမှ ဖြစ်ပေါ်လာသော အလွဲအလွတ်များ သို့မဟုတ် အနားလွဲမှုများအတွက် ကျွန်ုပ်တို့သည် တာဝန်မယူပါ။