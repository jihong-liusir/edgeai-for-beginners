<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8641f7baaf43de0f266276b64c5f5020",
  "translation_date": "2025-09-25T02:22:49+00:00",
  "source_file": "Module08/06.ModelsAsTools.md",
  "language_code": "my"
}
-->
## ·Ä°·ÄÄ·Äª·Äâ·Ä∫·Ä∏·ÄÅ·Äª·ÄØ·Äï·Ä∫

AI ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ Foundry Local ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·ÄÖ·ÄÄ·Ä∫·Äï·Ä±·Ä´·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫·Äê·Ä≠·ÄØ·ÄÄ·Ä∫·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Ä°·Äú·ÄØ·Äï·Ä∫·Äú·ÄØ·Äï·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ä±·Ä¨ ·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äñ·Äº·ÄÖ·Ä∫·Äû·Ä±·Ä¨·Åä ·ÄÖ·Ä≠·Äê·Ä∫·ÄÄ·Äº·Ä≠·ÄØ·ÄÄ·Ä∫·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ä±·Ä¨ ·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨·Äô·Äª·Ä¨·Ä∏·Ä°·Äñ·Äº·ÄÖ·Ä∫ ·Äû·Äê·Ä∫·Äô·Äæ·Äê·Ä∫·Äï·Ä´·Åã ·Äí·ÄÆ·Ä°·ÄÖ·Ää·Ä∫·Ä∏·Ä°·Äù·Ä±·Ä∏·Äô·Äæ·Ä¨ ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äõ·Ä±·Ä∏·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä¨·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Ä¨·ÄÄ·ÄΩ·Äö·Ä∫·Äï·Ä±·Ä∏·Äï·Äº·ÄÆ·Ä∏·Åä ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äî·Äæ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ää·Ä∫·Ä∏·Äû·Ä±·Ä¨ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·ÄÅ·ÄΩ·Ä≤·ÄÅ·Äº·Ä¨·Ä∏·Äô·Äæ·ÄØ·Äú·ÄØ·Äï·Ä∫·ÄÑ·Äî·Ä∫·Ä∏·ÄÖ·Äâ·Ä∫·Äô·Äª·Ä¨·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ SDKs, APIs, ·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ CLI ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äí·ÄÆ·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏·ÄÄ·Ä≠·ÄØ ·Ä°·Äì·Ä≠·ÄÄ·Äë·Ä¨·Ä∏·Äï·Äº·Äû·Äï·Ä´·Äô·Ää·Ä∫·Åã Azure AI Foundry ·Äû·Ä≠·ÄØ·Ä∑ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äû·Äú·Ä≠·ÄØ ·Ä°·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Ä°·Äê·Ä¨·ÄÅ·Äª·Ä≤·Ä∑·Äë·ÄΩ·ÄÑ·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Äî·Ä∫·Äú·Ää·Ä∫·Ä∏ ·Äû·ÄÑ·Ä∫·Äú·Ä±·Ä∑·Äú·Ä¨·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äô·Ää·Ä∫·Åã

> **üîÑ ·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ SDK ·Ä°·Äê·ÄΩ·ÄÄ·Ä∫ ·Ä°·Äï·Ä∫·Äí·Ä≠·Äê·Ä∫**: ·Äí·ÄÆ·Äô·Ä±·Ä¨·Ä∫·ÄÇ·Äª·Ä∞·Ä∏·ÄÄ·Ä≠·ÄØ Microsoft Foundry-Local repository ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äô·Äª·Ä¨·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÄ·Ä≠·ÄØ·ÄÄ·Ä∫·Ää·ÄÆ·Ä°·Ä±·Ä¨·ÄÑ·Ä∫ ·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äë·Ä¨·Ä∏·Äï·Äº·ÄÆ·Ä∏ `samples/06/` ·Äê·ÄΩ·ÄÑ·Ä∫ ·Äï·Ä´·Äù·ÄÑ·Ä∫·Äû·Ä±·Ä¨ ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·Äú·Äô·Ä∫·Ä∏·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äû·Äê·Ä∫·Äô·Äæ·Äê·Ä∫·Äô·Äæ·ÄØ·ÄÄ·Ä≠·ÄØ ·Äú·Ä≠·ÄØ·ÄÄ·Ä∫·Äî·Ä¨·Äë·Ä¨·Ä∏·Äï·Ä´·Äû·Ää·Ä∫·Åã ·Ä•·Äï·Äô·Ä¨·Äô·Äª·Ä¨·Ä∏·Äû·Ää·Ä∫ ·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ `foundry-local-sdk` ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫·Äô·Äº·ÄÑ·Ä∑·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ ·Äô·Äü·Ä¨·Äó·Äª·Ä∞·Äü·Ä¨·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äë·Ä¨·Ä∏·Äû·Ää·Ä∫·Åã

**üèóÔ∏è Architecture ·Ä°·Äë·Ä∞·Ä∏·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏:**
- **·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ**: ·Ä°·Äë·ÄΩ·Ä±·Äë·ÄΩ·Ä±·Åä ·Ä°·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Ä°·Äõ·ÄÑ·Ä∫·Ä∏·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·Äô·Äæ·ÄØ·Åä ·ÄÄ·ÄØ·Äí·Ä∫·Äõ·Ä±·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Åä ·Äñ·Äî·Ä∫·Äê·ÄÆ·Ä∏·Äô·Äæ·ÄØ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·Ä°·ÄÄ·Äº·Ä¨·Ä∏ keyword-based ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ
- **·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ SDK ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ**: `FoundryLocalManager` ·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Åç ·Ä°·Äú·Ä≠·ÄØ·Ä°·Äú·Äª·Ä±·Ä¨·ÄÄ·Ä∫ ·Äù·Äî·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äæ·ÄØ·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·Äô·Äæ·ÄØ
- **·Äï·Äê·Ä∫·Äù·Äî·Ä∫·Ä∏·ÄÄ·Äª·ÄÑ·Ä∫·Äñ·ÄΩ·Ä≤·Ä∑·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ**: ·Äï·Äê·Ä∫·Äù·Äî·Ä∫·Ä∏·ÄÄ·Äª·ÄÑ·Ä∫ variable ·Äô·Äª·Ä¨·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Ä°·Äú·ÄΩ·Äö·Ä∫·Äê·ÄÄ·Ä∞ ·Äû·Äê·Ä∫·Äô·Äæ·Äê·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äô·Äæ·ÄØ
- **·ÄÄ·Äª·Äî·Ä∫·Ä∏·Äô·Ä¨·Äõ·Ä±·Ä∏·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·Äô·Äæ·ÄØ**: ·Äù·Äî·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äæ·ÄØ·Ä°·Äê·Ää·Ä∫·Äï·Äº·ÄØ·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äõ·Äõ·Äæ·Ä≠·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äô·Äæ·ÄØ ·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏
- **·Äë·ÄØ·Äê·Ä∫·Äú·ÄØ·Äï·Ä∫·Äô·Äæ·ÄØ·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫**: ·Ä°·ÄÄ·Äª·Ä≠·ÄØ·Ä∏·Äû·ÄÄ·Ä∫·Äõ·Ä±·Ä¨·ÄÄ·Ä∫·Äô·Äæ·ÄØ·Äõ·Äæ·Ä≠·Äû·Ä±·Ä¨ error handling ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ fallback ·Äô·Äü·Ä¨·Äó·Äª·Ä∞·Äü·Ä¨·Äô·Äª·Ä¨·Ä∏

**üìÅ ·Äí·Ä±·Äû·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äô·Äæ·ÄØ:**
- `samples/06/router.py` - keyword-based ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫ router
- `samples/06/model_router.ipynb` - ·Ä°·Äï·Äº·Äî·Ä∫·Ä°·Äú·Äæ·Äî·Ä∫ ·Ä•·Äï·Äô·Ä¨·Äô·Äª·Ä¨·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÖ·Äô·Ä∫·Ä∏·Äû·Äï·Ä∫·Äô·Äæ·ÄØ
- `samples/06/README.md` - ·Äñ·ÄΩ·Ä≤·Ä∑·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏·Ää·ÄΩ·Äæ·Äî·Ä∫·ÄÄ·Äº·Ä¨·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏

References:
- Foundry Local docs: https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-local/
- Integrate with inference SDKs: https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-local/how-to/how-to-integrate-with-inference-sdks
- Compile Hugging Face models: https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-local/how-to/how-to-compile-hugging-face-models

## ·Ä°·ÄÄ·Äª·Äâ·Ä∫·Ä∏·ÄÅ·Äª·ÄØ·Äï·Ä∫

AI ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ Foundry Local ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·ÄÖ·ÄÄ·Ä∫·Äï·Ä±·Ä´·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫·Äê·Ä≠·ÄØ·ÄÄ·Ä∫·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Ä°·Äú·ÄØ·Äï·Ä∫·Äú·ÄØ·Äï·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ä±·Ä¨ ·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äñ·Äº·ÄÖ·Ä∫·Äû·Ä±·Ä¨·Åä ·ÄÖ·Ä≠·Äê·Ä∫·ÄÄ·Äº·Ä≠·ÄØ·ÄÄ·Ä∫·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ä±·Ä¨ ·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨·Äô·Äª·Ä¨·Ä∏·Ä°·Äñ·Äº·ÄÖ·Ä∫ ·Äû·Äê·Ä∫·Äô·Äæ·Äê·Ä∫·Äï·Ä´·Åã ·Äí·ÄÆ·Ä°·ÄÖ·Ää·Ä∫·Ä∏·Ä°·Äù·Ä±·Ä∏·Äô·Äæ·Ä¨ ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äõ·Ä±·Ä∏·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä¨·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Ä¨·ÄÄ·ÄΩ·Äö·Ä∫·Äï·Ä±·Ä∏·Äï·Äº·ÄÆ·Ä∏·Åä ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äî·Äæ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ää·Ä∫·Ä∏·Äû·Ä±·Ä¨ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·ÄÅ·ÄΩ·Ä≤·ÄÅ·Äº·Ä¨·Ä∏·Äô·Äæ·ÄØ·Äú·ÄØ·Äï·Ä∫·ÄÑ·Äî·Ä∫·Ä∏·ÄÖ·Äâ·Ä∫·Äô·Äª·Ä¨·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ SDKs, APIs, ·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ CLI ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äí·ÄÆ·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏·ÄÄ·Ä≠·ÄØ ·Ä°·Äì·Ä≠·ÄÄ·Äë·Ä¨·Ä∏·Äï·Äº·Äû·Äï·Ä´·Äô·Ää·Ä∫·Åã Azure AI Foundry ·Äû·Ä≠·ÄØ·Ä∑ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äû·Äú·Ä≠·ÄØ ·Ä°·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Ä°·Äê·Ä¨·ÄÅ·Äª·Ä≤·Ä∑·Äë·ÄΩ·ÄÑ·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Äî·Ä∫·Äú·Ää·Ä∫·Ä∏ ·Äû·ÄÑ·Ä∫·Äú·Ä±·Ä∑·Äú·Ä¨·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äô·Ää·Ä∫·Åã

References:
- Foundry Local docs: https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-local/
- Integrate with inference SDKs: https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-local/how-to/how-to-integrate-with-inference-sdks
- Compile Hugging Face models: https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-local/how-to/how-to-compile-hugging-face-models

## ·Äû·ÄÑ·Ä∫·Äö·Ä∞·Äõ·Äô·Ää·Ä∑·Ä∫ ·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏
- ·ÄÖ·ÄÄ·Ä∫·Äï·Ä±·Ä´·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫-·Ä°·Äñ·Äº·ÄÖ·Ä∫-·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨ ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äí·ÄÆ·Äá·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·ÄÜ·ÄΩ·Ä≤·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏
- OpenAI-compatible REST API ·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ SDKs ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏
- ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äî·Äö·Ä∫·Äï·Äö·Ä∫·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·ÄÖ·Ä≠·Äê·Ä∫·ÄÄ·Äº·Ä≠·ÄØ·ÄÄ·Ä∫·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏
- Azure AI Foundry ·Äû·Ä≠·ÄØ·Ä∑ ·Ä°·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Ä°·Äê·Ä¨·ÄÅ·Äª·Ä≤·Ä∑·Äë·ÄΩ·ÄÑ·Ä∫·Äõ·Äî·Ä∫ ·Ä°·ÄÖ·ÄÆ·Ä°·ÄÖ·Äâ·Ä∫·Äõ·Ä±·Ä∏·ÄÜ·ÄΩ·Ä≤·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏

## ·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏ ·ÅÅ: ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫ Router (·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äô·Äæ·ÄØ)

·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫: query content ·Ä°·Äï·Ä±·Ä´·Ä∫ ·Ä°·ÄÅ·Äº·Ä±·ÄÅ·Ä∂·Åç ·Ä°·Äú·Ä≠·ÄØ·Ä°·Äú·Äª·Ä±·Ä¨·ÄÄ·Ä∫ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ·ÄÄ·Ä≠·ÄØ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äï·Ä´·Åã

> **üìã ·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫**: ·Äí·ÄÆ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äô·Äæ·ÄØ·Äû·Ää·Ä∫ `samples/06/router.py` ·Äê·ÄΩ·ÄÑ·Ä∫ keyword-based ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨ ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äô·Äª·Ä¨·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÄ·Ä≠·ÄØ·ÄÄ·Ä∫·Ää·ÄÆ·Äû·Ää·Ä∫·Åã

·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÅ) FoundryLocalManager ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫ router ·ÄÄ·Ä≠·ÄØ ·Äû·Äê·Ä∫·Äô·Äæ·Äê·Ä∫·Äï·Ä´  
```python
# router/intelligent_router.py
from foundry_local import FoundryLocalManager
from openai import OpenAI
from typing import Dict, Any, Optional
import os
import json

class ModelRouter:
    """Intelligent model router that selects appropriate models for different task types."""
    
    def __init__(self):
        self.client = None
        self.base_url = None
        self.tools = self._load_tool_registry()
        self._initialize_client()
    
    def _load_tool_registry(self) -> Dict[str, Dict[str, Any]]:
        """Load tool registry from environment or use defaults."""
        default_tools = {
            "general": {
                "model": os.environ.get("GENERAL_MODEL", "phi-4-mini"),
                "notes": "Fast general-purpose chat and Q&A",
                "temperature": 0.7
            },
            "reasoning": {
                "model": os.environ.get("REASONING_MODEL", "deepseek-r1-distill-qwen-7b"),
                "notes": "Step-by-step analysis and logical reasoning",
                "temperature": 0.3
            },
            "code": {
                "model": os.environ.get("CODE_MODEL", "qwen2.5-7b-instruct"),
                "notes": "Code generation, debugging, and technical tasks",
                "temperature": 0.2
            },
            "creative": {
                "model": os.environ.get("CREATIVE_MODEL", "phi-4-mini"),
                "notes": "Creative writing and storytelling",
                "temperature": 0.9
            }
        }
        
        # Check for environment override
        tools_env = os.environ.get("TOOL_REGISTRY")
        if tools_env:
            try:
                return json.loads(tools_env)
            except json.JSONDecodeError:
                print("Warning: Invalid TOOL_REGISTRY JSON, using defaults")
        
        return default_tools
```
  
·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÇ) ·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ SDK ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äù·Äî·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äæ·ÄØ·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·Äô·Äæ·ÄØ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ client ·ÄÄ·Ä≠·ÄØ ·ÄÖ·Äê·ÄÑ·Ä∫·Äï·Ä´  
```python
    def _initialize_client(self):
        """Initialize OpenAI client with Foundry Local or fallback configuration."""
        try:
            from foundry_local import FoundryLocalManager
            # Try to use any available model for client initialization
            first_model = next(iter(self.tools.values()))["model"]
            manager = FoundryLocalManager(first_model)
            
            self.client = OpenAI(
                base_url=manager.endpoint,
                api_key=manager.api_key
            )
            self.base_url = manager.endpoint
            print(f"‚úÖ Foundry Local SDK initialized")
        except Exception as e:
            print(f"Warning: Could not use Foundry SDK ({e}), falling back to manual configuration")
            # Fallback to manual configuration
            self.base_url = os.environ.get("BASE_URL", "http://localhost:8000")
            api_key = os.environ.get("API_KEY", "")
            
            self.client = OpenAI(
                base_url=f"{self.base_url}/v1",
                api_key=api_key
            )
            print(f"Initialized manual configuration at {self.base_url}")
    
    def select_tool(self, user_query: str) -> str:
        """Select the most appropriate tool based on the user query."""
        query_lower = user_query.lower()
        
        # Code-related keywords
        code_keywords = ["code", "python", "function", "class", "method", "bug", "debug", 
                        "programming", "script", "algorithm", "implementation", "refactor"]
        if any(keyword in query_lower for keyword in code_keywords):
            return "code"
        
        # Reasoning keywords
        reasoning_keywords = ["why", "how", "explain", "step-by-step", "reason", "analyze", 
                             "think", "logic", "because", "cause", "compare", "evaluate"]
        if any(keyword in query_lower for keyword in reasoning_keywords):
            return "reasoning"
        
        # Creative keywords
        creative_keywords = ["story", "poem", "creative", "imagine", "write", "tale", 
                           "narrative", "fiction", "character", "plot"]
        if any(keyword in query_lower for keyword in creative_keywords):
            return "creative"
        
        # Default to general
        return "general"
    
    def chat(self, model: str, content: str, max_tokens: int = 300, temperature: Optional[float] = None) -> str:
        """Send chat completion request to the specified model."""
        try:
            params = {
                "model": model,
                "messages": [{"role": "user", "content": content}],
                "max_tokens": max_tokens
            }
            
            if temperature is not None:
                params["temperature"] = temperature
            
            response = self.client.chat.completions.create(**params)
            return response.choices[0].message.content
        except Exception as e:
            return f"Error generating response with model {model}: {str(e)}"
```
  
·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÉ) ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äô·Äæ·ÄØ·ÄÄ·Ä≠·ÄØ ·Äú·ÄØ·Äï·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äï·Ä´ (`samples/06/router.py` ·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´)  
```python
    def route_and_run(self, prompt: str) -> Dict[str, Any]:
        """Route the prompt to the appropriate model and generate response."""
        tool_key = self.select_tool(prompt)
        tool_config = self.tools[tool_key]
        model = tool_config["model"]
        temperature = tool_config.get("temperature", 0.7)
        
        print(f"üéØ Selected tool: {tool_key} (model: {model})")
        
        answer = self.chat(
            model=model, 
            content=prompt, 
            max_tokens=400, 
            temperature=temperature
        )
        
        return {
            "tool": tool_key,
            "model": model,
            "tool_description": tool_config["notes"],
            "temperature": temperature,
            "answer": answer
        }
    
    def check_service_health(self) -> Dict[str, Any]:
        """Check Foundry Local service health and available models."""
        try:
            models_response = self.client.models.list()
            available_models = [model.id for model in models_response.data]
            
            return {
                "status": "healthy",
                "base_url": self.base_url,
                "available_models": available_models,
                "tools_configured": list(self.tools.keys())
            }
        except Exception as e:
            return {
                "status": "error",
                "base_url": self.base_url,
                "error": str(e)
            }

if __name__ == "__main__":
    # Ensure: foundry model run phi-4-mini
    router = ModelRouter()
    
    # Check health
    health = router.check_service_health()
    print(f"Service Health: {json.dumps(health, indent=2)}")
    
    # Test different query types
    queries = [
        "Write a Python function to calculate fibonacci numbers",  # -> code
        "Explain step-by-step why the sky is blue",  # -> reasoning
        "Tell me a creative story about AI",  # -> creative
        "What's the weather like today?"  # -> general
    ]
    
    for query in queries:
        result = router.route_and_run(query)
        print(f"\nQuery: {query}")
        print(f"Selected: {result['tool']} -> {result['model']}")
        print(f"Answer: {result['answer'][:100]}...")
```
  

## ·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏ ·ÅÇ: ·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ SDK ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ (·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫·Äú·Ä≠·ÄØ·ÄÄ·Ä∫)

·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫: Foundry Local SDK ·ÄÄ·Ä≠·ÄØ OpenAI Python SDK ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Åç ·Ä°·ÄÜ·ÄÑ·Ä∫·Äï·Äº·Ä±·Äû·Ä±·Ä¨ ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ·ÄÄ·Ä≠·ÄØ ·Äõ·Äõ·Äæ·Ä≠·Äï·Ä´·Åã

·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÅ) ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äû·Ä±·Ä¨ dependencies ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ install ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´  
```cmd
cd Module08
.\.venv\Scripts\activate
pip install foundry-local-sdk openai
```
  
·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÇ) ·Äï·Äê·Ä∫·Äù·Äî·Ä∫·Ä∏·ÄÄ·Äª·ÄÑ·Ä∫·ÄÄ·Ä≠·ÄØ ·Äñ·ÄΩ·Ä≤·Ä∑·ÄÖ·Ää·Ä∫·Ä∏·Äï·Ä´ (optional - `samples/06/README.md` ·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´)  
```cmd
REM Override default models per tool
set GENERAL_MODEL=phi-4-mini
set REASONING_MODEL=deepseek-r1-distill-qwen-7b
set CODE_MODEL=qwen2.5-7b-instruct
REM Or provide a full JSON registry
set TOOL_REGISTRY={"general":{"model":"phi-4-mini"},"reasoning":{"model":"deepseek-r1-distill-qwen-7b"}}
```
  
·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÉ) ·Ä°·ÄÅ·Ä±·Äê·Ä∫·Äô·ÄÆ SDK ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ  
```python
# modern_sdk_demo.py
from foundry_local import FoundryLocalManager
from openai import OpenAI
import sys

def main():
    """Demonstrate modern SDK integration."""
    try:
        # Initialize with FoundryLocalManager
        alias = "phi-4-mini"
        manager = FoundryLocalManager(alias)
        
        # Create OpenAI client using Foundry Local endpoint
        client = OpenAI(
            base_url=manager.endpoint,
            api_key=manager.api_key
        )
        
        # Get model info
        model_info = manager.get_model_info(alias)
        print(f"Using model: {model_info.id}")
        
        # Make request with streaming
        stream = client.chat.completions.create(
            model=model_info.id,
            messages=[{"role": "user", "content": "Explain edge AI benefits in one paragraph."}],
            stream=True,
            max_tokens=200
        )
        
        print("Response: ", end="")
        for chunk in stream:
            if chunk.choices[0].delta.content:
                print(chunk.choices[0].delta.content, end="", flush=True)
        print()
        
    except Exception as e:
        print(f"Error: {e}")
        print("Ensure Foundry Local is running with: foundry model run phi-4-mini")
        sys.exit(1)

if __name__ == "__main__":
    main()
```
  

## ·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏ ·ÅÉ: ·Äî·Äö·Ä∫·Äï·Äö·Ä∫·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·ÄÖ·Ä≠·Äê·Ä∫·ÄÄ·Äº·Ä≠·ÄØ·ÄÄ·Ä∫·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äô·Äæ·ÄØ (·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫·Äú·Ä≠·ÄØ·ÄÄ·Ä∫)

·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫: prompt templates ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ JSON schema ·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Åç ·Äî·Äö·Ä∫·Äï·Äö·Ä∫·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ output ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äï·Ä´·Åã

·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÅ) ·Äî·Äö·Ä∫·Äï·Äö·Ä∫ prompt template ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·ÄÄ·Ä≠·ÄØ ·Äñ·Äî·Ä∫·Äê·ÄÆ·Ä∏·Äï·Ä´  
```python
# domain/templates.py
BUSINESS_ANALYST_SYSTEM = """
You are a senior business analyst. Provide:
1) Key insights
2) Risks
3) Next steps
Respond in valid JSON with fields: insights, risks, next_steps.
"""
```
  
·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÇ) JSON output ·ÄÄ·Ä≠·ÄØ ·Ä°·Äê·Ää·Ä∫·Äï·Äº·ÄØ·Äï·Ä´  
```python
# domain/analyst.py
import requests, os, json

BASE_URL = os.getenv("OPENAI_BASE_URL", "http://localhost:8000/v1")
API_KEY = os.getenv("OPENAI_API_KEY", "local-key")
HEADERS = {"Content-Type":"application/json","Authorization":f"Bearer {API_KEY}"}

from domain.templates import BUSINESS_ANALYST_SYSTEM

def analyze(text: str) -> dict:
    messages = [
        {"role":"system","content": BUSINESS_ANALYST_SYSTEM},
        {"role":"user","content": f"Analyze this business text:\n{text}"}
    ]
    r = requests.post(f"{BASE_URL}/chat/completions", json={
    "model":"phi-4-mini",
        "messages": messages,
        "response_format": {"type":"json_object"},
        "temperature": 0.3
    }, headers=HEADERS, timeout=60)
    r.raise_for_status()
    # Parse JSON content
    content = r.json()["choices"][0]["message"]["content"]
    return json.loads(content)

if __name__ == "__main__":
    print(analyze("Sales dipped 12% in Q3 due to supply constraints and marketing cuts."))
```
  

## ·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏ ·ÅÑ: Offline ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äú·ÄØ·Ä∂·ÄÅ·Äº·ÄØ·Ä∂·Äõ·Ä±·Ä∏·Ä°·Äî·Ä±·Ä°·Äë·Ä¨·Ä∏ (·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫·Äú·Ä≠·ÄØ·ÄÄ·Ä∫)

·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫: ·Äí·Ä±·Äû·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏·Äê·ÄΩ·ÄÑ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨·Ä°·Äñ·Äº·ÄÖ·Ä∫ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äû·Ä±·Ä¨·Ä°·ÄÅ·Ä´ ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äõ·Ä±·Ä∏·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä¨·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Ä¨·ÄÄ·ÄΩ·Äö·Ä∫·Äï·Ä±·Ä∏·Äï·Äº·ÄÆ·Ä∏ ·ÄÅ·Ä∂·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Ää·Ä∫·Äõ·Äæ·Ä≠·ÄÖ·Ä±·Äõ·Äî·Ä∫ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äï·Ä´·Åã

·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÅ) ·Äí·Ä±·Äû·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏ endpoint ·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ä≠·ÄØ·Äê·ÄÑ·Ä∫ validate ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´  
```cmd
foundry model run phi-4-mini
curl http://localhost:8000/v1/models
```
  
·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÇ) input ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ sanitize ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´  
```python
# security/sanitize.py
import re
EMAIL_RE = re.compile(r"[\w\.-]+@[\w\.-]+")
PHONE_RE = re.compile(r"\+?\d[\d\s\-]{7,}\d")

def sanitize(text: str) -> str:
    text = EMAIL_RE.sub("[REDACTED_EMAIL]", text)
    text = PHONE_RE.sub("[REDACTED_PHONE]", text)
    return text
```
  
·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÉ) local-only flag ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ logging  
```python
# security/local_only.py
import os, json, time
LOG = os.getenv("MODELS_AS_TOOLS_LOG", "./tools_logs.jsonl")

def record(event: dict):
    with open(LOG, "a", encoding="utf-8") as f:
        f.write(json.dumps(event) + "\n")

# Usage before each call
def before_call(tool_name, payload):
    record({"ts": time.time(), "tool": tool_name, "event": "before_call"})

# After each call
def after_call(tool_name, result):
    record({"ts": time.time(), "tool": tool_name, "event": "after_call"})
```
  

## ·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏ ·ÅÖ: ·Äë·ÄØ·Äê·Ä∫·Äú·ÄØ·Äï·Ä∫·Äô·Äæ·ÄØ ·Äê·ÄÑ·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Ä°·Äê·Ä¨·ÄÅ·Äª·Ä≤·Ä∑·Äë·ÄΩ·ÄÑ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏

·Äõ·Ää·Ä∫·Äõ·ÄΩ·Äö·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫: monitoring ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ Azure AI Foundry ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ router ·ÄÄ·Ä≠·ÄØ ·Äê·ÄÑ·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã

> **üìã ·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫**: `samples/06/model_router.ipynb` ·Äê·ÄΩ·ÄÑ·Ä∫ ·Äë·ÄØ·Äê·Ä∫·Äú·ÄØ·Äï·Ä∫·Äô·Äæ·ÄØ ·Äê·ÄÑ·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äô·Äæ·ÄØ ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Ä°·Äï·Äº·Ää·Ä∑·Ä∫·Ä°·ÄÖ·ÄØ·Ä∂ ·Äï·Ä´·Äù·ÄÑ·Ä∫·Äû·Ää·Ä∫·Åã

·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·ÅÅ) monitoring ·Äï·Ä´·Äù·ÄÑ·Ä∫·Äû·Ä±·Ä¨ ·Äë·ÄØ·Äê·Ä∫·Äú·ÄØ·Äï·Ä∫·Äô·Äæ·ÄØ router (`samples/06/router.py` ·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´)  
```python
# production/router.py
from router.intelligent_router import ModelRouter
import json
import time
import sys

class ProductionModelRouter(ModelRouter):
    """Production-ready model router with monitoring and logging."""
    
    def __init__(self):
        super().__init__()
        self.request_count = 0
        self.error_count = 0
        self.start_time = time.time()
    
    def route_and_run_with_monitoring(self, prompt: str) -> Dict[str, Any]:
        """Route with comprehensive monitoring and error handling."""
        start_time = time.time()
        self.request_count += 1
        
        try:
            result = self.route_and_run(prompt)
            processing_time = time.time() - start_time
            
            # Log successful request
            self._log_request({
                "status": "success",
                "tool": result["tool"],
                "model": result["model"],
                "processing_time": processing_time,
                "timestamp": time.strftime("%Y-%m-%d %H:%M:%S")
            })
            
            result["processing_time"] = processing_time
            return result
            
        except Exception as e:
            self.error_count += 1
            error_result = {
                "status": "error",
                "error": str(e),
                "processing_time": time.time() - start_time,
                "timestamp": time.strftime("%Y-%m-%d %H:%M:%S")
            }
            
            self._log_request(error_result)
            return error_result
    
    def _log_request(self, data: Dict[str, Any]):
        """Log request data for monitoring."""
        print(f"üìä {json.dumps(data)}")
    
    def get_stats(self) -> Dict[str, Any]:
        """Get router statistics."""
        uptime = time.time() - self.start_time
        return {
            "uptime_seconds": uptime,
            "total_requests": self.request_count,
            "error_count": self.error_count,
            "success_rate": (self.request_count - self.error_count) / max(1, self.request_count),
            "requests_per_minute": self.request_count / max(1, uptime / 60)
        }

def main():
    """Production router demo."""
    router = ProductionModelRouter()
    
    # Health check
    health = router.check_service_health()
    if health["status"] == "error":
        print(f"‚ùå Service health check failed: {health['error']}")
        sys.exit(1)
    
    print(f"‚úÖ Service healthy with {len(health['available_models'])} models")
    
    # Process user query
    user_prompt = " ".join(sys.argv[1:]) or "Write three benefits of on-device AI in JSON format."
    print(f"\nüéØ Processing: {user_prompt}")
    
    result = router.route_and_run_with_monitoring(user_prompt)
    
    if result.get("status") == "error":
        print(f"‚ùå Error: {result['error']}")
    else:
        print(f"\nüìã Result:")
        print(f"Tool: {result['tool']} -> Model: {result['model']}")
        print(f"Processing Time: {result['processing_time']:.2f}s")
        print(f"Answer: {result['answer']}")
    
    # Show stats
    stats = router.get_stats()
    print(f"\nüìä Statistics: {json.dumps(stats, indent=2)}")

if __name__ == "__main__":
    main()
```
  

## ·Äú·ÄÄ·Ä∫·Äê·ÄΩ·Ä±·Ä∑·Äú·ÄØ·Äï·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äõ·Äî·Ä∫ ·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏
- [ ] keyword-based ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫ router ·ÄÄ·Ä≠·ÄØ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äï·Ä´ (`samples/06/router.py`)
- [ ] ·Ä°·Äë·Ä∞·Ä∏·Äï·Äº·ÄØ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÖ·ÄΩ·Ä¨·ÄÄ·Ä≠·ÄØ ·Äñ·ÄΩ·Ä≤·Ä∑·ÄÖ·Ää·Ä∫·Ä∏·Äï·Ä´ (·Ä°·Äë·ÄΩ·Ä±·Äë·ÄΩ·Ä±·Åä ·Ä°·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Ä°·Äõ·ÄÑ·Ä∫·Ä∏·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·Äô·Äæ·ÄØ·Åä ·ÄÄ·ÄØ·Äí·Ä∫·Äõ·Ä±·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Åä ·Äñ·Äî·Ä∫·Äê·ÄÆ·Ä∏·Äô·Äæ·ÄØ)
- [ ] interactive Jupyter notebook ·ÄÄ·Ä≠·ÄØ ·ÄÖ·Äô·Ä∫·Ä∏·Äû·Äï·Ä∫·Äï·Ä´ (`samples/06/model_router.ipynb`)
- [ ] ·Äï·Äê·Ä∫·Äù·Äî·Ä∫·Ä∏·ÄÄ·Äª·ÄÑ·Ä∫·Ä°·ÄÅ·Äº·Ä±·ÄÅ·Ä∂ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äñ·ÄΩ·Ä≤·Ä∑·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ·ÄÄ·Ä≠·ÄØ ·ÄÖ·Äê·ÄÑ·Ä∫·Äï·Ä´
- [ ] ·Äù·Äî·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äæ·ÄØ ·ÄÄ·Äª·Äî·Ä∫·Ä∏·Äô·Ä¨·Äõ·Ä±·Ä∏·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·Äô·Äæ·ÄØ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ error handling ·ÄÄ·Ä≠·ÄØ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äï·Ä´
- [ ] logging ·Ä°·Äï·Äº·Ää·Ä∑·Ä∫·Ä°·ÄÖ·ÄØ·Ä∂·Äï·Ä´·Äù·ÄÑ·Ä∫·Äû·Ä±·Ä¨ ·Äë·ÄØ·Äê·Ä∫·Äú·ÄØ·Äï·Ä∫·Äô·Äæ·ÄØ router ·ÄÄ·Ä≠·ÄØ ·Äê·ÄÑ·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´

## ·Äí·Ä±·Äû·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏ Sample ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·ÄØ

·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äô·Äæ·ÄØ ·Ä°·Äï·Äº·Ää·Ä∑·Ä∫·Ä°·ÄÖ·ÄØ·Ä∂·ÄÄ·Ä≠·ÄØ run ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´:  
```cmd
cd Module08
.\.venv\Scripts\activate

REM Start required models
foundry model run phi-4-mini
foundry model run qwen2.5-7b-instruct
foundry model run deepseek-r1-distill-qwen-7b

REM Test the intelligent router
python samples\06\router.py "Write a Python function to sort a list"
python samples\06\router.py "Explain step-by-step how bubble sort works"
python samples\06\router.py "Tell me a creative story about robots"

REM Explore the interactive notebook
jupyter notebook samples/06/model_router.ipynb
```
  

## References ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äê·ÄÖ·Ä∫·ÄÜ·ÄÑ·Ä∑·Ä∫·Äô·Äª·Ä¨·Ä∏
- **·Äí·Ä±·Äû·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äë·Ää·Ä∫·Äñ·Ä±·Ä¨·Ä∫·Äô·Äæ·ÄØ**: `samples/06/` - ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÖ·ÄΩ·Ä¨·ÄÄ·Ä≠·ÄØ ·Äï·Ä∂·Ä∑·Äï·Ä≠·ÄØ·Ä∏·Äû·Ä±·Ä¨ ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ router ·Ä°·Äï·Äº·Ää·Ä∑·Ä∫·Ä°·ÄÖ·ÄØ·Ä∂
- **Microsoft Samples**: [Hello Foundry Local](https://github.com/microsoft/Foundry-Local/tree/main/samples/python/hello-foundry-local)
- **Integration Docs**: [Integrate with Inference SDKs](https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-local/how-to/how-to-integrate-with-inference-sdks)
- **·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫·Äô·Äº·ÄÑ·Ä∑·Ä∫ ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äô·Äª·Ä¨·Ä∏**: Module 5 ·Äê·ÄΩ·ÄÑ·Ä∫ function calling ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ multi-agent orchestration ·ÄÄ·Ä≠·ÄØ ·Äú·Ä±·Ä∑·Äú·Ä¨·Äï·Ä´

## ·Ä°·ÄÜ·ÄØ·Ä∂·Ä∏·Äû·Äê·Ä∫

Foundry Local ·Äû·Ää·Ä∫ ·ÄÖ·ÄÄ·Ä∫·Äï·Ä±·Ä´·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ AI ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Äõ·Äæ·Ä≠·Äû·Ä±·Ä¨·Åä ·Ä°·Äë·Ä∞·Ä∏·Äï·Äº·ÄØ·Äû·Ä±·Ä¨ ·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨·Äô·Äª·Ä¨·Ä∏·Ä°·Äñ·Äº·ÄÖ·Ä∫ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·ÄÖ·Ä±·Äû·Ää·Ä∫·Åã ·Ä°·Äú·Ä≠·ÄØ·Ä°·Äú·Äª·Ä±·Ä¨·ÄÄ·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ·Åä monitoring ·Ä°·Äï·Äº·Ää·Ä∑·Ä∫·Ä°·ÄÖ·ÄØ·Ä∂·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äë·ÄØ·Äê·Ä∫·Äú·ÄØ·Äï·Ä∫·Äô·Äæ·ÄØ·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫ ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äô·Äª·Ä¨·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äñ·ÄΩ·Ä≤·Ä∑·Äô·Äª·Ä¨·Ä∏·Äû·Ää·Ä∫ ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äõ·Ä±·Ä∏·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä¨·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äë·Ä≠·Äî·Ä∫·Ä∏·Äû·Ä≠·Äô·Ä∫·Ä∏·Äë·Ä¨·Ä∏·Äï·Äº·ÄÆ·Ä∏ ·Ä°·Äú·ÄØ·Äï·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ä±·Ä¨ AI ·Ä°·ÄÄ·Ä∫·Äï·Äú·ÄÆ·ÄÄ·Ä±·Ä∏·Äõ·Äæ·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äê·ÄÑ·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ää·Ä∫·Åã ·Äí·ÄÆ·Ä°·Äê·Äê·Ä∫·Äï·Ää·Ä¨·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ router ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äû·Ää·Ä∫ ·Äí·Ä±·Äû·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏ ·Äñ·ÄΩ·Ä∂·Ä∑·Äñ·Äº·Ä≠·ÄØ·Ä∏·Äô·Äæ·ÄØ·Äô·Äæ ·Äë·ÄØ·Äê·Ä∫·Äú·ÄØ·Äï·Ä∫·Äô·Äæ·ÄØ ·Äê·ÄÑ·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äô·Äæ·ÄØ·Ä°·Äë·Ä≠ ·ÄÅ·ÄÄ·Ä∫·ÄÅ·Ä≤·Äû·Ä±·Ä¨ AI ·ÄÖ·Äî·ÄÖ·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äê·Ää·Ä∫·ÄÜ·Ä±·Ä¨·ÄÄ·Ä∫·Äõ·Äî·Ä∫ ·Ä°·ÄÅ·Äº·Ä±·ÄÅ·Ä∂·Ä°·ÄØ·Äê·Ä∫·Äô·Äº·ÄÖ·Ä∫·Äï·Ä±·Ä∏·Äû·Ää·Ä∫·Åã

---

