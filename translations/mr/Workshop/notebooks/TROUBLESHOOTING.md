<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e88a16101de37838f7cf256a9cd0f199",
  "translation_date": "2025-10-09T09:53:47+00:00",
  "source_file": "Workshop/notebooks/TROUBLESHOOTING.md",
  "language_code": "mr"
}
-->
# рд╡рд░реНрдХрд╢реЙрдк рдиреЛрдЯрдмреБрдХреНрд╕ - рд╕рдорд╕реНрдпрд╛ рдирд┐рд░рд╛рдХрд░рдг рдорд╛рд░реНрдЧрджрд░реНрд╢рдХ

## рд╡рд┐рд╖рдп рд╕реВрдЪреА

- [рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛ рдЖрдгрд┐ рдЙрдкрд╛рдп](../../../../Workshop/notebooks)
- [рд╕реЗрд╢рди 04 рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛](../../../../Workshop/notebooks)
- [рд╕реЗрд╢рди 05 рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛](../../../../Workshop/notebooks)
- [рд╕реЗрд╢рди 06 рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛](../../../../Workshop/notebooks)
- [рд╣рд╛рд░реНрдбрд╡реЗрдЕрд░-рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛](../../../../Workshop/notebooks)
- [рдбрд╛рдпрдЧреНрдиреЛрд╕реНрдЯрд┐рдХ рдХрдорд╛рдВрдбреНрд╕](../../../../Workshop/notebooks)
- [рдорджрдд рдорд┐рд│рд╡рдгреЗ](../../../../Workshop/notebooks)

---

## рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛ рдЖрдгрд┐ рдЙрдкрд╛рдп

### ЁЯФ┤ CUDA рдЖрдЙрдЯ рдСрдл рдореЗрдорд░реА

**рддреНрд░реБрдЯреА рд╕рдВрджреЗрд╢:**
```
CUDA failure 2: out of memory
```

**рдореВрд│ рдХрд╛рд░рдг:** GPU рдХрдбреЗ рдореЙрдбреЗрд▓ рд▓реЛрдб рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдкреБрд░реЗрд╢реА VRAM рдирд╛рд╣реА.

**рдЙрдкрд╛рдп:**

#### рдкрд░реНрдпрд╛рдп 1: CPU рд╡реНрд╣реЗрд░рд┐рдпрдВрдЯ рд╡рд╛рдкрд░рд╛ (рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реЗрд▓реЗ)
```python
# In your notebook, update the CATALOG to use CPU variants
CATALOG = {
    'phi-4-mini-cpu': {'capabilities':['general','summarize'],'priority':2},
    'qwen2.5-0.5b-cpu': {'capabilities':['classification','fast'],'priority':1},
    'phi-3.5-mini-cpu': {'capabilities':['code','refactor'],'priority':3},
}
```

#### рдкрд░реНрдпрд╛рдп 2: GPU рд╡рд░ рдЫреЛрдЯреЗ рдореЙрдбреЗрд▓ рд╡рд╛рдкрд░рд╛
```python
# Use only the smallest model
CATALOG = {
    'qwen2.5-0.5b': {'capabilities':['general','code','summarize','classification'],'priority':1},
}
```

#### рдкрд░реНрдпрд╛рдп 3: GPU рдореЗрдорд░реА рд╕рд╛рдл рдХрд░рд╛
```bash
# Close other GPU-intensive applications
# Check GPU memory usage
nvidia-smi

# Restart Foundry Local service
foundry service stop
foundry service start
```

#### рдкрд░реНрдпрд╛рдп 4: GPU рдореЗрдорд░реА рд╡рд╛рдврд╡рд╛ (рдЬрд░ рд╢рдХреНрдп рдЕрд╕реЗрд▓)
- рдмреНрд░рд╛рдЙрдЭрд░ рдЯреЕрдмреНрд╕, рд╡реНрд╣рд┐рдбрд┐рдУ рдПрдбрд┐рдЯрд░реНрд╕ рдХрд┐рдВрд╡рд╛ рдЗрддрд░ GPU рдЕтАНреЕрдкреНрд╕ рдмрдВрдж рдХрд░рд╛
- рд╡рд┐рдВрдбреЛрдЬ рд╡реНрд╣рд┐рдЬреНрдпреБрдЕрд▓ рдЗрдлреЗрдХреНрдЯреНрд╕ рдХрдореА рдХрд░рд╛
- рддреБрдордЪреНрдпрд╛рдХрдбреЗ рдЗрдВрдЯрд┐рдЧреНрд░реЗрдЯреЗрдб + рдбреЗрдбрд┐рдХреЗрдЯреЗрдб GPU рдЕрд╕рд▓реНрдпрд╛рд╕ рдбреЗрдбрд┐рдХреЗрдЯреЗрдб GPU рд╡рд╛рдкрд░рд╛

---

### ЁЯФ┤ APIConnectionError: рдХрдиреЗрдХреНрд╢рди рддреНрд░реБрдЯреА

**рддреНрд░реБрдЯреА рд╕рдВрджреЗрд╢:**
```
APIConnectionError: Connection error
[Retry 1/2] Setup failed for 'phi-4-mini': APIConnectionError: Connection error.
```

**рдореВрд│ рдХрд╛рд░рдг:** Foundry Local рд╕реЗрд╡рд╛ рдЪрд╛рд▓реВ рдирд╛рд╣реА рдХрд┐рдВрд╡рд╛ рдкреНрд░рд╡реЗрд╢рдпреЛрдЧреНрдп рдирд╛рд╣реА.

**рдЙрдкрд╛рдп:**

#### рдЪрд░рдг 1: рд╕реЗрд╡рд╛ рд╕реНрдерд┐рддреА рддрдкрд╛рд╕рд╛
```bash
foundry service status
```

#### рдЪрд░рдг 2: рд╕реЗрд╡рд╛ рдмрдВрдж рдЕрд╕рд▓реНрдпрд╛рд╕ рд╕реБрд░реВ рдХрд░рд╛
```bash
foundry service start
```

#### рдЪрд░рдг 3: рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рд╛
```bash
# Check what port the service is using
foundry service status

# Test with curl (adjust port if different)
curl http://localhost:59959/health
curl http://localhost:55769/health
```

#### рдЪрд░рдг 4: рдЖрд╡рд╢реНрдпрдХ рдореЙрдбреЗрд▓реНрд╕ рд▓реЛрдб рдХрд░рд╛
```bash
foundry model run phi-4-mini
foundry model run qwen2.5-3b
foundry model run phi-3.5-mini
```

#### рдЪрд░рдг 5: рдиреЛрдЯрдмреБрдХ рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛
рд╕реЗрд╡рд╛ рд╕реБрд░реВ рдХреЗрд▓реНрдпрд╛рдирдВрддрд░ рдЖрдгрд┐ рдореЙрдбреЗрд▓реНрд╕ рд▓реЛрдб рдХреЗрд▓реНрдпрд╛рдирдВрддрд░, рдиреЛрдЯрдмреБрдХ рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛ рдЖрдгрд┐ рд╕рд░реНрд╡ рд╕реЗрд▓реНрд╕ рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛.

---

### ЁЯФ┤ рдХреЕрдЯрд▓реЙрдЧрдордзреНрдпреЗ рдореЙрдбреЗрд▓ рд╕рд╛рдкрдбрд▓реЗ рдирд╛рд╣реА

**рддреНрд░реБрдЯреА рд╕рдВрджреЗрд╢:**
```
ValueError: Model phi-3.5-mini-cpu not found in the catalog.
[ERROR] Model 'phi-4-mini' not found in the catalog
```

**рдореВрд│ рдХрд╛рд░рдг:** рдореЙрдбреЗрд▓ рдбрд╛рдЙрдирд▓реЛрдб рдХреЗрд▓реЗрд▓реЗ рдирд╛рд╣реА рдХрд┐рдВрд╡рд╛ Foundry Local рдордзреНрдпреЗ рд▓реЛрдб рдХреЗрд▓реЗрд▓реЗ рдирд╛рд╣реА.

**рдЙрдкрд╛рдп:**

#### рдкрд░реНрдпрд╛рдп 1: рдореЙрдбреЗрд▓реНрд╕ рдбрд╛рдЙрдирд▓реЛрдб рдЖрдгрд┐ рд▓реЛрдб рдХрд░рд╛
```bash
# List available models
foundry model ls

# Download the model if not present
foundry model download phi-4-mini
foundry model download qwen2.5-3b
foundry model download phi-3.5-mini

# Load the model into memory
foundry model run phi-4-mini
foundry model run qwen2.5-3b
foundry model run phi-3.5-mini
```

#### рдкрд░реНрдпрд╛рдп 2: рдСрдЯреЛ-рд╕реЗрд▓реЗрдХреНрд╢рди рдореЛрдб рд╡рд╛рдкрд░рд╛
рддреБрдордЪрд╛ CATALOG рдмреЗрд╕ рдореЙрдбреЗрд▓ рдирд╛рд╡рд╛рдВрд╡рд░ рдЕрдкрдбреЗрдЯ рдХрд░рд╛ (рдЬрд╕реЗ `-cpu` рдкреНрд░рддреНрдпрдпрд╛рд╢рд┐рд╡рд╛рдп):

```python
CATALOG = {
    'phi-4-mini': {'capabilities':['general','summarize'],'priority':2},
    'qwen2.5-0.5b': {'capabilities':['classification','fast'],'priority':1},
    'phi-3.5-mini': {'capabilities':['code','refactor'],'priority':3},
}
```

Foundry Local SDK рддреБрдордЪреНрдпрд╛ рд╣рд╛рд░реНрдбрд╡реЗрдЕрд░рд╕рд╛рдареА рд╕рд░реНрд╡реЛрддреНрддрдо рд╡реНрд╣реЗрд░рд┐рдпрдВрдЯ (CPU, GPU, рдХрд┐рдВрд╡рд╛ NPU) рдЖрдкреЛрдЖрдк рдирд┐рд╡рдбреЗрд▓.

---

### ЁЯФ┤ HttpResponseError: 500 - рдореЙрдбреЗрд▓ рд▓реЛрдб рдХрд░рдгреНрдпрд╛рдд рдЕрдпрд╢рд╕реНрд╡реА

**рддреНрд░реБрдЯреА рд╕рдВрджреЗрд╢:**
```
HttpResponseError: 500 - Failed loading model
```

**рдореВрд│ рдХрд╛рд░рдг:** рдореЙрдбреЗрд▓ рдлрд╛рдЗрд▓ рдЦрд░рд╛рдм рдЭрд╛рд▓реА рдЖрд╣реЗ рдХрд┐рдВрд╡рд╛ рд╣рд╛рд░реНрдбрд╡реЗрдЕрд░рд╢реА рд╕реБрд╕рдВрдЧрдд рдирд╛рд╣реА.

**рдЙрдкрд╛рдп:**

#### рдореЙрдбреЗрд▓ рдкреБрдиреНрд╣рд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рд╛
```bash
# Remove corrupted model
foundry model remove phi-3.5-mini

# Download fresh copy
foundry model download phi-3.5-mini
```

#### рд╡реЗрдЧрд│рд╛ рд╡реНрд╣реЗрд░рд┐рдпрдВрдЯ рд╡рд╛рдкрд░рд╛
```bash
# Try CPU variant instead
foundry model download phi-3.5-mini-cpu
```

---

### ЁЯФ┤ ImportError: рдореЙрдбреНрдпреВрд▓ рд╕рд╛рдкрдбрд▓реЗ рдирд╛рд╣реА

**рддреНрд░реБрдЯреА рд╕рдВрджреЗрд╢:**
```
ModuleNotFoundError: No module named 'foundry_local'
```

**рдореВрд│ рдХрд╛рд░рдг:** foundry-local-sdk рдкреЕрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХреЗрд▓реЗрд▓реЗ рдирд╛рд╣реА.

**рдЙрдкрд╛рдп:**

```bash
# Install SDK
pip install foundry-local-sdk

# Verify installation
pip show foundry-local-sdk
python -c "from foundry_local import FoundryLocalManager; print('SDK OK')"
```

---

### я┐╜ рдкрд╣рд┐рд▓реНрдпрд╛ рд╡рд┐рдирдВрддреАрд╕рд╛рдареА рдзреАрдорд╛рдкрди

**рд▓рдХреНрд╖рдг:** рдкрд╣рд┐рд▓реА рдкреВрд░реНрдгрддрд╛ 30+ рд╕реЗрдХрдВрдж рдШреЗрддреЗ, рддреНрдпрд╛рдирдВрддрд░рдЪреНрдпрд╛ рд╡рд┐рдирдВрддреНрдпрд╛ рд╡реЗрдЧрд╡рд╛рди рдЕрд╕рддрд╛рдд.

**рдореВрд│ рдХрд╛рд░рдг:** рд╣реА рд╕рд╛рдорд╛рдиреНрдп рдЧреЛрд╖реНрдЯ рдЖрд╣реЗ - рд╕реЗрд╡рд╛ рдкрд╣рд┐рд▓реНрдпрд╛ рд╡рд┐рдирдВрддреАрд╡рд░ рдореЙрдбреЗрд▓ рдореЗрдорд░реАрдордзреНрдпреЗ рд▓реЛрдб рдХрд░рдд рдЖрд╣реЗ.

**рдЙрдкрд╛рдп:**

#### рдореЙрдбреЗрд▓реНрд╕ рдкреНрд░реА-рд▓реЛрдб рдХрд░рд╛
```bash
# Download and load all models you'll use before running notebooks
foundry model download phi-4-mini
foundry model download qwen2.5-3b
foundry model download phi-3.5-mini

foundry model run phi-4-mini
foundry model run qwen2.5-3b
```

#### рд╕реЗрд╡рд╛ рдЪрд╛рд▓реВ рдареЗрд╡рд╛
```bash
# Start service manually and leave it running
foundry service start
```

---

## рд╕реЗрд╢рди 04 рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛

### рдЪреБрдХреАрдЪреЗ рдкреЛрд░реНрдЯ рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди

**рд╕рдорд╕реНрдпрд╛:** рдиреЛрдЯрдмреБрдХ рдЪреБрдХреАрдЪреНрдпрд╛ рдкреЛрд░реНрдЯрд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрдд рдЖрд╣реЗ (55769 vs 59959 vs 57127)

**рдЙрдкрд╛рдп:**

1. Foundry Local рдХреЛрдгрддрд╛ рдкреЛрд░реНрдЯ рд╡рд╛рдкрд░рдд рдЖрд╣реЗ рддреЗ рддрдкрд╛рд╕рд╛:
```bash
foundry service status
# Note the port number displayed
```

2. рдиреЛрдЯрдмреБрдХрдордзреАрд▓ рд╕реЗрд▓ 10 рдЕрдкрдбреЗрдЯ рдХрд░рд╛:
```python
ENDPOINT = os.getenv('FOUNDRY_LOCAL_ENDPOINT', 'http://localhost:59959/v1')
# Replace 59959 with your actual port
```

3. рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛ рдЖрдгрд┐ рд╕реЗрд▓реНрд╕ 6, 8, 10, 12, 16, 20, 22 рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛

---

### рдЪреБрдХреАрдЪреЗ рдореЙрдбреЗрд▓ рдирд┐рд╡рдб

**рд╕рдорд╕реНрдпрд╛:** рдиреЛрдЯрдмреБрдХ gpt-oss-20b рдХрд┐рдВрд╡рд╛ qwen2.5-7b рджрд░реНрд╢рд╡рдд рдЖрд╣реЗ, qwen2.5-3b рдРрд╡рдЬреА

**рдЙрдкрд╛рдп:**

1. рдиреЛрдЯрдмреБрдХ рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛ (рдЬреБрдирд╛ рд╡реНрд╣реЗрд░рд┐рдПрдмрд▓ рд╕реНрдЯреЗрдЯ рд╕рд╛рдл рдХрд░рддреЛ)
2. рд╕реЗрд▓ 10 рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛ (рдореЙрдбреЗрд▓ рдЙрдкрдирд╛рдо рд╕реЗрдЯ рдХрд░рд╛)
3. рд╕реЗрд▓ 12 рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛ (рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рджрд░реНрд╢рд╡рд╛)
4. **рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рд╛:** рд╕реЗрд▓ 12 рдордзреНрдпреЗ `LLM Model: qwen2.5-3b` рджрд┐рд╕рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ

---

### рдбрд╛рдпрдЧреНрдиреЛрд╕реНрдЯрд┐рдХ рд╕реЗрд▓ рдЕрдпрд╢рд╕реНрд╡реА

**рд╕рдорд╕реНрдпрд╛:** рд╕реЗрд▓ 16 "тЭМ Foundry Local рд╕реЗрд╡рд╛ рд╕рд╛рдкрдбрд▓реА рдирд╛рд╣реА!" рдЕрд╕реЗ рджрд░реНрд╢рд╡рддреЗ

**рдЙрдкрд╛рдп:**

1. рд╕реЗрд╡рд╛ рдЪрд╛рд▓реВ рдЖрд╣реЗ рдХрд╛ рддреЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рд╛:
```bash
foundry service status
```

2. рдПрдВрдбрдкреЙрдЗрдВрдЯ рдореЕрдиреНрдпреБрдЕрд▓реА рддрдкрд╛рд╕рд╛:
```bash
curl http://localhost:59959/v1/models
```

3. рдЬрд░ curl рдХрд╛рд░реНрдп рдХрд░рдд рдЕрд╕реЗрд▓ рдкрдг рдиреЛрдЯрдмреБрдХ рдХрд╛рд░реНрдп рдХрд░рдд рдирд╕реЗрд▓:
   - рдиреЛрдЯрдмреБрдХ рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛
   - рд╕реЗрд▓реНрд╕ рдХреНрд░рдорд╛рдиреЗ рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛: 6, 8, 10, 12, 14, 16

4. рдЬрд░ curl рдЕрдпрд╢рд╕реНрд╡реА рдЭрд╛рд▓реЗ:
   - рд╕реЗрд╡рд╛ рд╕реБрд░реВ рдХрд░рд╛: `foundry service start`
   - рдореЙрдбреЗрд▓реНрд╕ рд▓реЛрдб рдХрд░рд╛: `foundry model run phi-4-mini` рдЖрдгрд┐ `foundry model run qwen2.5-3b`

---

### рдкреНрд░реА-рдлреНрд▓рд╛рдЗрдЯ рдЪреЗрдХ рдЕрдпрд╢рд╕реНрд╡реА

**рд╕рдорд╕реНрдпрд╛:** рд╕реЗрд▓ 20 рдХрдиреЗрдХреНрд╢рди рддреНрд░реБрдЯреА рджрд░реНрд╢рд╡рддреЗ рдЬрд░реА рдбрд╛рдпрдЧреНрдиреЛрд╕реНрдЯрд┐рдХ рдкрд╛рд╕ рдЭрд╛рд▓реЗ рдЕрд╕рд▓реЗ рддрд░реА

**рдЙрдкрд╛рдп:**

1. рдореЙрдбреЗрд▓реНрд╕ рд▓реЛрдб рдЭрд╛рд▓реА рдЖрд╣реЗрдд рдХрд╛ рддреЗ рддрдкрд╛рд╕рд╛:
```bash
foundry model ls
# Should show phi-4-mini and qwen2.5-3b
```

2. рдЬрд░ рдореЙрдбреЗрд▓реНрд╕ рдЧрд╛рдпрдм рдЕрд╕рддреАрд▓:
```bash
foundry model run phi-4-mini
foundry model run qwen2.5-3b
```

3. рдореЙрдбреЗрд▓реНрд╕ рд▓реЛрдб рдЭрд╛рд▓реНрдпрд╛рдирдВрддрд░ рд╕реЗрд▓ 20 рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛

---

### рддреБрд▓рдирд╛ None рд╡реНрд╣реЕрд▓реНрдпреВрд╕рд╕рд╣ рдЕрдпрд╢рд╕реНрд╡реА

**рд╕рдорд╕реНрдпрд╛:** рд╕реЗрд▓ 22 рдкреВрд░реНрдг рд╣реЛрддреЗ рдкрдг рд▓реЗрдЯрдиреНрд╕реА None рдореНрд╣рдгреВрди рджрд░реНрд╢рд╡рддреЗ

**рдЙрдкрд╛рдп:**

1. рдкреНрд░рдердо рдкреНрд░реА-рдлреНрд▓рд╛рдЗрдЯ рдкрд╛рд╕ рдЭрд╛рд▓реЗ рдЖрд╣реЗ рдХрд╛ рддреЗ рддрдкрд╛рд╕рд╛ (рд╕реЗрд▓ 20)
2. рд╕реЗрд▓ 22 рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛ - рдореЙрдбреЗрд▓реНрд╕ рдкрд╣рд┐рд▓реНрдпрд╛ рд╡рд┐рдирдВрддреАрд╡рд░ рдЧрд░рдо рд╣реЛрдгреНрдпрд╛рдЪреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдЕрд╕реВ рд╢рдХрддреЗ
3. рджреЛрдиреНрд╣реА рдореЙрдбреЗрд▓реНрд╕ рд▓реЛрдб рдЭрд╛рд▓реА рдЖрд╣реЗрдд рдХрд╛ рддреЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рд╛: `foundry model ls`

---

## рд╕реЗрд╢рди 05 рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛

### рдПрдЬрдВрдЯ рдЪреБрдХреАрдЪреЗ рдореЙрдбреЗрд▓ рд╡рд╛рдкрд░рдд рдЖрд╣реЗ

**рд╕рдорд╕реНрдпрд╛:** рдПрдЬрдВрдЯ рдЕрдкреЗрдХреНрд╖рд┐рдд рдореЙрдбреЗрд▓ рд╡рд╛рдкрд░рдд рдирд╛рд╣реА

**рдЙрдкрд╛рдп:**

рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рд╛:
```python
# Check which models are assigned
print(f"Researcher: {researcher.model_id}")
print(f"Editor: {editor.model_id}")
```

рдЬрд░ рдореЙрдбреЗрд▓реНрд╕ рдЪреБрдХреАрдЪреЗ рдЕрд╕рддреАрд▓ рддрд░ рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛.

---

### рдореЗрдорд░реА рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдУрд╡реНрд╣рд░рдлреНрд▓реЛ

**рд╕рдорд╕реНрдпрд╛:** рдПрдЬрдВрдЯ рдкреНрд░рддрд┐рд╕рд╛рдж рд╡реЗрд│реЛрд╡реЗрд│реА рдЦрд░рд╛рдм рд╣реЛрдд рдЖрд╣реЗрдд

**рдЙрдкрд╛рдп:** рдЖрдзреАрдЪ рд╕реНрд╡рдпрдВрдЪрд▓рд┐рддрдкрдгреЗ рд╣рд╛рддрд╛рд│рд▓реЗрд▓реЗ рдЖрд╣реЗ - рдПрдЬрдВрдЯреНрд╕ рдореЗрдорд░реАрдордзреНрдпреЗ рдлрдХреНрдд рд╢реЗрд╡рдЯрдЪреЗ 6 рд╕рдВрджреЗрд╢ рдареЗрд╡рддрд╛рдд.

---

## рд╕реЗрд╢рди 06 рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛

### CPU vs GPU рдореЙрдбреЗрд▓ рдЧреЛрдВрдзрд│

**рд╕рдорд╕реНрдпрд╛:** рдбрд┐рдлреЙрд▓реНрдЯ рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рд╡рд╛рдкрд░рддрд╛рдирд╛ CUDA рддреНрд░реБрдЯреА рдпреЗрдд рдЖрд╣реЗрдд

**рдЙрдкрд╛рдп:** рдбрд┐рдлреЙрд▓реНрдЯ рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдЖрддрд╛ CPU рдореЙрдбреЗрд▓реНрд╕ рд╡рд╛рдкрд░рддреЗ. рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ CUDA рддреНрд░реБрдЯреА рджрд┐рд╕рдд рдЕрд╕рддреАрд▓:

1. рддреБрдореНрд╣реА рдбрд┐рдлреЙрд▓реНрдЯ CPU рдХреЕрдЯрд▓реЙрдЧ рд╡рд╛рдкрд░рдд рдЖрд╣рд╛рдд рдХрд╛ рддреЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рд╛:
```python
# Cell should show CPU variants
CATALOG = {
    'phi-4-mini-cpu': {'capabilities':['general','summarize'],'priority':2},
    'qwen2.5-0.5b-cpu': {'capabilities':['classification','fast'],'priority':1},
    'phi-3.5-mini-cpu': {'capabilities':['code','refactor'],'priority':3},
}
```

2. рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛ рдЖрдгрд┐ рд╕рд░реНрд╡ рд╕реЗрд▓реНрд╕ рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛

---

### рд╣реЗрддреВ рдУрд│рдЦ рдХрд╛рд░реНрдп рдХрд░рдд рдирд╛рд╣реА

**рд╕рдорд╕реНрдпрд╛:** рдкреНрд░реЙрдореНрдкреНрдЯреНрд╕ рдЪреБрдХреАрдЪреНрдпрд╛ рдореЙрдбреЗрд▓реНрд╕рдХрдбреЗ рд░реВрдЯ рд╣реЛрдд рдЖрд╣реЗрдд

**рдЙрдкрд╛рдп:**

рд╣реЗрддреВ рдУрд│рдЦ рддрдкрд╛рд╕рд╛:
```python
# Run the intent detection test cell
for prompt in test_prompts:
    intent = detect_intent(prompt)
    print(f"{prompt[:50]}... тЖТ {intent}")
```

рдЬрд░ рдкреЕрдЯрд░реНрдиреНрд╕рдордзреНрдпреЗ рдмрджрд▓ рдЖрд╡рд╢реНрдпрдХ рдЕрд╕реЗрд▓ рддрд░ RULES рдЕрдкрдбреЗрдЯ рдХрд░рд╛.

---

## рд╣рд╛рд░реНрдбрд╡реЗрдЕрд░-рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╕реНрдпрд╛

### NVIDIA GPU

**GPU рд╕реНрдерд┐рддреА рддрдкрд╛рд╕рд╛:**
```bash
nvidia-smi
```

**рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛:**
- **рдбреНрд░рд╛рдпрд╡реНрд╣рд░ рдЬреБрдирд╛ рдЖрд╣реЗ:** NVIDIA рдбреНрд░рд╛рдпрд╡реНрд╣рд░реНрд╕ рдЕрдкрдбреЗрдЯ рдХрд░рд╛
- **CUDA рдЖрд╡реГрддреНрддреА рдЬреБрд│рдд рдирд╛рд╣реА:** Foundry Local рдкреБрдиреНрд╣рд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛
- **GPU рдореЗрдорд░реА рддреБрдХрдбреЗ рдЭрд╛рд▓реЗ рдЖрд╣реЗ:** рд╕рд┐рд╕реНрдЯрдо рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛

### Qualcomm NPU

**NPU рд╕реНрдерд┐рддреА рддрдкрд╛рд╕рд╛:**
```bash
foundry device info
```

**рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛:**
- **NPU рдбреНрд░рд╛рдпрд╡реНрд╣рд░реНрд╕ рд╕реНрдерд╛рдкрд┐рдд рдирд╛рд╣реАрдд:** Qualcomm NPU рдбреНрд░рд╛рдпрд╡реНрд╣рд░реНрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛
- **NPU рд╡реНрд╣реЗрд░рд┐рдпрдВрдЯ рдЙрдкрд▓рдмреНрдз рдирд╛рд╣реА:** CPU рд╡реНрд╣реЗрд░рд┐рдпрдВрдЯ рд╡рд╛рдкрд░рд╛
- **рд╡рд┐рдВрдбреЛрдЬ рдЖрд╡реГрддреНрддреА рдЦреВрдк рдЬреБрдиреА рдЖрд╣реЗ:** рдирд╡реАрдирддрдо Windows 11 рд╡рд░ рдЕрдкрдбреЗрдЯ рдХрд░рд╛

### рдлрдХреНрдд CPU рдЕрд╕рд▓реЗрд▓реА рд╕рд┐рд╕реНрдЯрдо

**рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реЗрд▓реА рдореЙрдбреЗрд▓реНрд╕:**
```python
CATALOG = {
    'qwen2.5-0.5b-cpu': {'capabilities':['classification','fast'],'priority':1},
    'phi-3.5-mini-cpu': {'capabilities':['code','general'],'priority':2},
}
```

**рдХрд╛рдордЧрд┐рд░реА рдЯрд┐рдкреНрд╕:**
- рд╕рд░реНрд╡рд╛рдд рдЫреЛрдЯреЗ рдореЙрдбреЗрд▓реНрд╕ рд╡рд╛рдкрд░рд╛
- max_tokens рдХрдореА рдХрд░рд╛
- рдкрд╣рд┐рд▓реНрдпрд╛ рд╡рд┐рдирдВрддреАрд╕рд╛рдареА рдереЛрдбрд╛ рд╕рдВрдпрдо рдареЗрд╡рд╛

---

## рдбрд╛рдпрдЧреНрдиреЛрд╕реНрдЯрд┐рдХ рдХрдорд╛рдВрдбреНрд╕

### рд╕рд░реНрд╡ рдХрд╛рд╣реА рддрдкрд╛рд╕рд╛
```bash
# Service status
foundry service status

# List models
foundry model ls

# Device info
foundry device info

# Version info
foundry --version

# Health check
curl http://localhost:55769/health
```

### Python рдордзреНрдпреЗ
```python
# Check SDK import
try:
    from foundry_local import FoundryLocalManager
    print('тЬУ SDK imported')
except ImportError as e:
    print(f'тЬЧ SDK import failed: {e}')

# Check service connectivity
from openai import OpenAI

try:
    client = OpenAI(base_url='http://localhost:59959/v1', api_key='test')
    models = client.models.list()
    print(f'тЬУ Service reachable, {len(list(models.data))} models available')
except Exception as e:
    print(f'тЬЧ Service not reachable: {e}')
```

---

## рдорджрдд рдорд┐рд│рд╡рдгреЗ

### 1. рд▓реЙрдЧреНрд╕ рддрдкрд╛рд╕рд╛
```bash
# Windows
foundry service logs

# Or check Windows Event Viewer
# Application Logs -> Microsoft-FoundryLocal
```

### 2. GitHub рд╕рдорд╕реНрдпрд╛рдВрд╡рд░ рдЬрд╛
- рд╡рд┐рджреНрдпрдорд╛рди рд╕рдорд╕реНрдпрд╛рдВрдЪрд╛ рд╢реЛрдз рдШреНрдпрд╛: https://github.com/microsoft/Foundry-Local/issues
- рдирд╡реАрди рд╕рдорд╕реНрдпрд╛ рддрдпрд╛рд░ рдХрд░рд╛:
  - рддреНрд░реБрдЯреА рд╕рдВрджреЗрд╢ (рдкреВрд░реНрдг рдордЬрдХреВрд░)
  - `foundry service status` рдЪреЗ рдЖрдЙрдЯрдкреБрдЯ
  - `foundry --version` рдЪреЗ рдЖрдЙрдЯрдкреБрдЯ
  - GPU/NPU рдорд╛рд╣рд┐рддреА (nvidia-smi, рдЗ.)
  - рд╕рдорд╕реНрдпрд╛ рдкреБрдирд░реБрддреНрдкрд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рдЪреЗ рдЪрд░рдг

### 3. рджрд╕реНрддрдРрд╡рдЬ
- **рдореБрдЦреНрдп рд░рд┐рдкреЙрдЭрд┐рдЯрд░реА:** https://github.com/microsoft/Foundry-Local
- **Python SDK:** https://github.com/microsoft/Foundry-Local/tree/main/sdk/python
- **CLI рд╕рдВрджрд░реНрдн:** https://github.com/microsoft/Foundry-Local/blob/main/docs/reference/reference-cli.md
- **рд╕рдорд╕реНрдпрд╛ рдирд┐рд░рд╛рдХрд░рдг:** https://github.com/microsoft/Foundry-Local/blob/main/docs/reference/reference-troubleshooting.md

---

## рдЬрд▓рдж рдирд┐рд░рд╛рдХрд░рдг рдЪреЗрдХрд▓рд┐рд╕реНрдЯ

рдЬреЗрд╡реНрд╣рд╛ рд╕рдорд╕реНрдпрд╛ рдЙрджреНрднрд╡рддрд╛рдд, рддреЗрд╡реНрд╣рд╛ рдЦрд╛рд▓реАрд▓ рдХреНрд░рдорд╛рдиреЗ рдкреНрд░рдпрддреНрди рдХрд░рд╛:

- [ ] рд╕реЗрд╡рд╛ рдЪрд╛рд▓реВ рдЖрд╣реЗ рдХрд╛ рддрдкрд╛рд╕рд╛: `foundry service status`
- [ ] рд╕реЗрд╡рд╛ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛: `foundry service stop && foundry service start`
- [ ] рдореЙрдбреЗрд▓ рдЕрд╕реНрддрд┐рддреНрд╡рд╛рдд рдЖрд╣реЗ рдХрд╛ рддрдкрд╛рд╕рд╛: `foundry model ls | grep phi-4-mini`
- [ ] рдЖрд╡рд╢реНрдпрдХ рдореЙрдбреЗрд▓реНрд╕ рд▓реЛрдб рдХрд░рд╛: `foundry model run phi-4-mini`
- [ ] GPU рдореЗрдорд░реА рддрдкрд╛рд╕рд╛: `nvidia-smi` (рдЬрд░ NVIDIA рдЕрд╕реЗрд▓)
- [ ] CPU рд╡реНрд╣реЗрд░рд┐рдпрдВрдЯ рд╡рд╛рдкрд░реВрди рдкрд╣рд╛: `phi-4-mini-cpu` рдРрд╡рдЬреА `phi-4-mini` рд╡рд╛рдкрд░рд╛
- [ ] рдиреЛрдЯрдмреБрдХ рдХрд░реНрдирд▓ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рд╛
- [ ] рдиреЛрдЯрдмреБрдХ рдЖрдЙрдЯрдкреБрдЯреНрд╕ рд╕рд╛рдл рдХрд░рд╛ рдЖрдгрд┐ рд╕рд░реНрд╡ рд╕реЗрд▓реНрд╕ рдкреБрдиреНрд╣рд╛ рдЪрд╛рд▓рд╡рд╛
- [ ] SDK рдкреБрдиреНрд╣рд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛: `pip install --upgrade --force-reinstall foundry-local-sdk`
- [ ] рд╕рд┐рд╕реНрдЯрдо рд░реАрдмреВрдЯ рдХрд░рд╛ (рд╢реЗрд╡рдЯрдЪрд╛ рдЙрдкрд╛рдп)

---

## рдкреНрд░рддрд┐рдмрдВрдз рдЯрд┐рдкреНрд╕

### рд╕рд░реНрд╡реЛрддреНрддрдо рдкрджреНрдзрддреА

1. **рдиреЗрд╣рдореА рдкреНрд░рдердо рд╕реЗрд╡рд╛ рддрдкрд╛рд╕рд╛:**
   ```bash
   foundry service status
   ```

2. **рдбрд┐рдлреЙрд▓реНрдЯрдиреБрд╕рд╛рд░ CPU рд╡реНрд╣реЗрд░рд┐рдпрдВрдЯ рд╡рд╛рдкрд░рд╛:**
   ```python
   CATALOG = {
       'phi-4-mini-cpu': {...},
       'qwen2.5-0.5b-cpu': {...},
   }
   ```

3. **рдиреЛрдЯрдмреБрдХ рдЪрд╛рд▓рд╡рдгреНрдпрд╛рдкреВрд░реНрд╡реА рдореЙрдбреЗрд▓реНрд╕ рдкреНрд░реА-рд▓реЛрдб рдХрд░рд╛:**
   ```bash
   foundry model run phi-4-mini
   foundry model run qwen2.5-3b
   ```

4. **рд╕реЗрд╡рд╛ рдЪрд╛рд▓реВ рдареЗрд╡рд╛:**
   - рд╕реЗрд╡рд╛ рдЕрдирд╛рд╡рд╢реНрдпрдХрдкрдгреЗ рдерд╛рдВрдмрд╡реВ/рд╕реБрд░реВ рдХрд░реВ рдирдХрд╛
   - рд╕рддреНрд░рд╛рдВрджрд░рдореНрдпрд╛рди рддреА рдкрд╛рд░реНрд╢реНрд╡рднреВрдореАрдд рдЪрд╛рд▓реВ рдареЗрд╡рд╛

5. **рд╕рдВрд╕рд╛рдзрдиреЗ рдореЙрдирд┐рдЯрд░ рдХрд░рд╛:**
   - рдЪрд╛рд▓рд╡рдгреНрдпрд╛рдкреВрд░реНрд╡реА GPU рдореЗрдорд░реА рддрдкрд╛рд╕рд╛
   - рдЕрдирд╛рд╡рд╢реНрдпрдХ GPU рдЕтАНреЕрдкреНрд╕ рдмрдВрдж рдХрд░рд╛
   - Task Manager / nvidia-smi рд╡рд╛рдкрд░рд╛

6. **рдирд┐рдпрдорд┐рддрдкрдгреЗ рдЕрдкрдбреЗрдЯ рдХрд░рд╛:**
   ```bash
   winget upgrade Microsoft.FoundryLocal
   pip install --upgrade foundry-local-sdk
   ```

---

**рд╢реЗрд╡рдЯрдЪреЗ рдЕрдкрдбреЗрдЯ:** 8 рдСрдХреНрдЯреЛрдмрд░, 2025

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рд╡рд╛рдкрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХреЗрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдШреНрдпрд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рдЪреБрдХрд╛ рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рдореВрд│ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдЙрджреНрднрд╡рд▓реЗрд▓реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.