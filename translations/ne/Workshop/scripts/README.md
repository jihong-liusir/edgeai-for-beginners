<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8344ea4f8f563cfa921e09247588a225",
  "translation_date": "2025-10-09T09:44:12+00:00",
  "source_file": "Workshop/scripts/README.md",
  "language_code": "ne"
}
-->
# कार्यशाला स्क्रिप्टहरू

यो डाइरेक्टरीले कार्यशाला सामग्रीहरूमा गुणस्तर र स्थिरता कायम गर्न प्रयोग गरिने स्वचालन र समर्थन स्क्रिप्टहरू समावेश गर्दछ।

## सामग्रीहरू

| फाइल | उद्देश्य |
|------|---------|
| `lint_markdown_cli.py` | Markdown कोड फेन्सहरूलाई पुरानो Foundry Local CLI आदेश ढाँचाहरू रोक्न लिन्ट गर्दछ। |
| `export_benchmark_markdown.py` | बहु-मोडेल लेटेंसी बेंचमार्क चलाउँछ र Markdown + JSON रिपोर्टहरू उत्पादन गर्दछ। |

## १. Markdown CLI ढाँचा लिन्टर

`lint_markdown_cli.py` ले सबै अनुवाद नभएका `.md` फाइलहरूलाई **फेन्स गरिएको कोड ब्लकहरू** (``` ... ```) भित्र अस्वीकृत Foundry Local CLI ढाँचाहरूको लागि स्क्यान गर्दछ। जानकारीमूलक गद्यले ऐतिहासिक सन्दर्भको लागि पुरानो आदेशहरू उल्लेख गर्न सक्दछ।

### अस्वीकृत ढाँचाहरू (कोड फेन्सहरू भित्र रोकिएको)

लिन्टरले पुरानो CLI ढाँचाहरू रोक्छ। आधुनिक विकल्पहरू प्रयोग गर्नुहोस्।

### आवश्यक प्रतिस्थापनहरू
| अस्वीकृत | यसको सट्टा प्रयोग गर्नुहोस् |
|------------|-------------|
| `foundry model chat <a> "..."` | `foundry model run <a> --prompt "..."` |
| `foundry model list --running` | `foundry model list` |
| `foundry model list --cached` | `foundry cache list` |
| `foundry model stats` | बेंचमार्क स्क्रिप्ट + प्रणाली उपकरणहरू (`Task Manager`, `nvidia-smi`) |
| `foundry model benchmark` | `samples/session03/benchmark_oss_models.py` |
| `foundry model list --available` | `foundry model list` |

### एग्जिट कोडहरू
| कोड | अर्थ |
|------|---------|
| 0 | कुनै उल्लङ्घन पत्ता लागेन |
| 1 | एक वा बढी अस्वीकृत ढाँचाहरू फेला परे |

### स्थानीय रूपमा चलाउने
रिपोजिटरीको रूटबाट (सिफारिस गरिएको):

Windows (PowerShell):
```powershell
python Workshop\scripts\lint_markdown_cli.py --verbose
```

macOS / Linux:
```bash
python Workshop/scripts/lint_markdown_cli.py --verbose
```

### प्रि-कमिट हुक (वैकल्पिक)
```bash
echo "python Workshop/scripts/lint_markdown_cli.py" > .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```
यो कमिटहरूलाई रोक्छ जसले अस्वीकृत ढाँचाहरू थप्छ।

### CI एकीकरण
GitHub Action वर्कफ्लो (`.github/workflows/markdown-cli-lint.yml`) ले `main` र `Reactor` शाखाहरूमा प्रत्येक पुश र पुल अनुरोधमा लिन्टर चलाउँछ। असफल भएका कामहरू मर्ज गर्नु अघि समाधान गर्नुपर्छ।

### नयाँ अस्वीकृत ढाँचाहरू थप्दै
1. `lint_markdown_cli.py` खोल्नुहोस्।
2. `DEPRECATED` सूचीमा `(regex, suggestion)` टपल थप्नुहोस्। कच्चा स्ट्रिङ प्रयोग गर्नुहोस् र जहाँ उपयुक्त छ `\b` शब्द सीमा समावेश गर्नुहोस्।
3. पत्ता लगाउन पुष्टि गर्न लिन्टरलाई स्थानीय रूपमा चलाउनुहोस्।
4. कमिट र पुश गर्नुहोस्; CI ले नयाँ नियम लागू गर्नेछ।

उदाहरण थप:
```python
DEPRECATED.append((r"\\bfoundry\\s+experimental\\s+foo\\b", "Remove experimental foo usage"))
```

### व्याख्यात्मक उल्लेखहरू अनुमति दिँदै
किनकि केवल फेन्स गरिएको कोड ब्लकहरू लागू गरिन्छ, तपाईंले कथात्मक पाठमा पुरानो आदेशहरू सुरक्षित रूपमा वर्णन गर्न सक्नुहुन्छ। यदि तपाईंले तिनीहरूलाई फेन्स भित्र देखाउनै पर्ने हो भने, ट्रिपल ब्याकटिक्स बिना फेन्स गरिएको ब्लक थप्नुहोस् (जस्तै, इनडेन्ट वा उद्धरण) वा पseudo रूपमा पुनःलेखन गर्नुहोस्।

### विशिष्ट फाइलहरू छोड्दै (उन्नत)
यदि आवश्यक छ भने, पुरानो उदाहरणहरूलाई रिपोजिटरी बाहिर अलग फाइलमा राख्नुहोस् वा ड्राफ्ट गर्दा फरक एक्सटेन्सनको साथ नामकरण गर्नुहोस्। अनुवादित प्रतिलिपिहरूको लागि जानाजानी छोड्ने स्वचालित हुन्छ (पथहरू जसमा `translations` समावेश छ)।

### समस्या समाधान
| समस्या | कारण | समाधान |
|-------|-------|-----------|
| लिन्टरले तपाईंले अपडेट गरेको लाइनलाई फ्ल्याग गर्छ | Regex धेरै व्यापक छ | थप शब्द सीमा (`\b`) वा एंकरहरू प्रयोग गरेर ढाँचालाई साँघुरो बनाउनुहोस् |
| CI असफल हुन्छ तर स्थानीय पास हुन्छ | फरक Python संस्करण वा अप्रकाशित परिवर्तनहरू | स्थानीय रूपमा पुनः चलाउनुहोस्, सफा कार्यरत ट्री सुनिश्चित गर्नुहोस्, वर्कफ्लो Python संस्करण (3.11) जाँच गर्नुहोस् |
| अस्थायी रूपमा बाइपास गर्न आवश्यक छ | आपतकालीन हॉटफिक्स | तुरुन्तै समाधान लागू गर्नुहोस्; अस्थायी शाखा र फलो-अप PR प्रयोग गर्ने विचार गर्नुहोस् (बाइपास स्विचहरू थप्नबाट बच्नुहोस्) |

### कारण
*हालको* स्थिर CLI सतहसँग दस्तावेजीकरणलाई संरेखित राख्दा कार्यशालाको झन्झट कम हुन्छ, सिक्नेहरूलाई भ्रमबाट बचाउँछ, र प्रदर्शन मापनलाई पुरानो CLI उप-आदेशहरू सट्टा मर्मत गरिएको Python स्क्रिप्टहरू मार्फत केन्द्रित गर्दछ।

---
कार्यशाला गुणस्तर टूलचेनको भागको रूपमा मर्मत गरिएको। सुधारहरूको लागि (जस्तै, सुझावहरू स्वतः सुधार गर्ने वा HTML रिपोर्ट उत्पन्न गर्ने), समस्या खोल्नुहोस् वा PR सबमिट गर्नुहोस्।

## २. नमूना मान्यकरण स्क्रिप्ट

`validate_samples.py` ले सबै Python नमूना फाइलहरूलाई सिन्ट्याक्स, इम्पोर्टहरू, र उत्तम अभ्यास अनुपालनको लागि मान्यकरण गर्दछ।

### प्रयोग
```bash
# Validate all samples
python scripts/validate_samples.py

# Validate specific session
python scripts/validate_samples.py --session 01

# Verbose mode (includes best practice warnings)
python scripts/validate_samples.py --verbose

# Summary only
python scripts/validate_samples.py --summary
```

### के जाँच गर्दछ
- ✅ Python सिन्ट्याक्सको वैधता
- ✅ आवश्यक इम्पोर्टहरू उपस्थित
- ✅ त्रुटि ह्यान्डलिङ कार्यान्वयन (विस्तृत मोड)
- ✅ प्रकार संकेतहरूको प्रयोग (विस्तृत मोड)
- ✅ फङ्सन डकस्ट्रिङहरू (विस्तृत मोड)
- ✅ SDK सन्दर्भ लिंकहरू (विस्तृत मोड)

### वातावरण चरहरू
- `SKIP_IMPORT_CHECK=1` - इम्पोर्ट मान्यकरण छोड्नुहोस्
- `SKIP_SYNTAX_CHECK=1` - सिन्ट्याक्स मान्यकरण छोड्नुहोस्

### एग्जिट कोडहरू
- `0` - सबै नमूनाहरूले मान्यकरण पास गरे
- `1` - एक वा बढी नमूनाहरू असफल भए

## ३. नमूना परीक्षण रनर

`test_samples.py` ले सबै नमूनाहरूमा स्मोक परीक्षण चलाउँछ ताकि तिनीहरूले त्रुटिहरू बिना कार्यान्वयन गर्न सकून्।

### प्रयोग
```bash
# Test all samples
python scripts/test_samples.py

# Test specific session
python scripts/test_samples.py --session 01

# Quick mode (shorter timeouts)
python scripts/test_samples.py --quick

# Verbose mode (show output)
python scripts/test_samples.py --verbose
```

### पूर्वापेक्षाहरू
- Foundry Local सेवा चलिरहेको: `foundry service start`
- मोडेलहरू लोड गरिएको: `foundry model run phi-4-mini`
- निर्भरताहरू स्थापना गरिएको: `pip install -r requirements.txt`

### के परीक्षण गर्दछ
- ✅ नमूनाले रनटाइम त्रुटिहरू बिना कार्यान्वयन गर्न सक्छ
- ✅ आवश्यक आउटपुट उत्पन्न हुन्छ
- ✅ असफलतामा उचित त्रुटि ह्यान्डलिङ
- ✅ प्रदर्शन (कार्यान्वयन समय)

### वातावरण चरहरू
- `FOUNDRY_LOCAL_ALIAS=phi-4-mini` - परीक्षणको लागि प्रयोग गर्न मोडेल
- `TEST_TIMEOUT=30` - प्रत्येक नमूनाको लागि समय सीमा सेकेन्डमा

### अपेक्षित असफलताहरू
केही परीक्षणहरू असफल हुन सक्छन् यदि वैकल्पिक निर्भरताहरू स्थापना गरिएको छैन (जस्तै, `ragas`, `sentence-transformers`)। स्थापना गर्न:
```bash
pip install sentence-transformers ragas datasets
```

### एग्जिट कोडहरू
- `0` - सबै परीक्षणहरू पास भए
- `1` - एक वा बढी परीक्षणहरू असफल भए

## ४. बेंचमार्क Markdown निर्यातकर्ता

स्क्रिप्ट: `export_benchmark_markdown.py`

मोडेलहरूको सेटको लागि पुन: उत्पादित प्रदर्शन तालिका उत्पन्न गर्दछ।

### प्रयोग
```powershell
python Workshop\scripts\export_benchmark_markdown.py --models "qwen2.5-0.5b,gemma-2-2b" --prompt "Explain retrieval augmented generation briefly." --rounds 3 --output benchmark_report.md
```

### आउटपुटहरू
| फाइल | विवरण |
|------|-------------|
| `benchmark_report.md` | Markdown तालिका (औसत, p95, टोकन/सेकन्ड, वैकल्पिक पहिलो टोकन) |
| `benchmark_report.json` | फरक र इतिहासको लागि कच्चा मेट्रिक्स एरे |

### विकल्पहरू
| फ्ल्याग | विवरण | डिफल्ट |
|------|-------------|---------|
| `--models` | अल्पविरामले छुट्याइएको मोडेल उपनामहरू | (आवश्यक) |
| `--prompt` | प्रत्येक राउन्डमा प्रयोग गरिएको प्रम्प्ट | (आवश्यक) |
| `--rounds` | प्रत्येक मोडेलमा राउन्डहरू | 3 |
| `--output` | Markdown आउटपुट फाइल | `benchmark_report.md` |
| `--json` | JSON आउटपुट फाइल | `benchmark_report.json` |
| `--fail-on-empty` | सबै बेंचमार्क असफल भएमा गैर-शून्य एग्जिट | बन्द |

वातावरण चर `BENCH_STREAM=1` ले पहिलो टोकन लेटेंसी मापन थप्छ।

### नोटहरू
- `workshop_utils` लाई पुन: प्रयोग गर्दछ ताकि मोडेल बुटस्ट्र्याप र क्यासिङ सुसंगत होस्।
- यदि फरक कार्यरत डाइरेक्टरीबाट चलाइएको छ भने, स्क्रिप्टले `workshop_utils` पत्ता लगाउन पथ फलब्याक प्रयास गर्दछ।
- GPU तुलना गर्न: एक पटक चलाउनुहोस्, CLI कन्फिगमार्फत एक्सेलेरेशन सक्षम गर्नुहोस्, पुन: चलाउनुहोस् र JSON फरक गर्नुहोस्।

---

**अस्वीकरण**:  
यो दस्तावेज़ AI अनुवाद सेवा [Co-op Translator](https://github.com/Azure/co-op-translator) प्रयोग गरेर अनुवाद गरिएको छ। हामी यथार्थताको लागि प्रयास गर्छौं, तर कृपया ध्यान दिनुहोस् कि स्वचालित अनुवादमा त्रुटिहरू वा अशुद्धताहरू हुन सक्छ। यसको मूल भाषा मा रहेको मूल दस्तावेज़लाई आधिकारिक स्रोत मानिनुपर्छ। महत्वपूर्ण जानकारीको लागि, व्यावसायिक मानव अनुवाद सिफारिस गरिन्छ। यस अनुवादको प्रयोगबाट उत्पन्न हुने कुनै पनि गलतफहमी वा गलत व्याख्याको लागि हामी जिम्मेवार हुने छैनौं।