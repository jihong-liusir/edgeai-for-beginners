<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8344ea4f8f563cfa921e09247588a225",
  "translation_date": "2025-10-09T13:13:40+00:00",
  "source_file": "Workshop/scripts/README.md",
  "language_code": "el"
}
-->
# Σενάρια Εργαστηρίου

Αυτός ο φάκελος περιέχει σενάρια αυτοματοποίησης και υποστήριξης που χρησιμοποιούνται για τη διατήρηση της ποιότητας και της συνέπειας στα υλικά του Εργαστηρίου.

## Περιεχόμενα

| Αρχείο | Σκοπός |
|--------|--------|
| `lint_markdown_cli.py` | Ελέγχει τα μπλοκ κώδικα markdown για παρωχημένα μοτίβα εντολών Foundry Local CLI. |
| `export_benchmark_markdown.py` | Εκτελεί δοκιμές καθυστέρησης πολλαπλών μοντέλων και δημιουργεί αναφορές σε μορφή Markdown + JSON. |

## 1. Ελεγκτής Μοτίβων Markdown CLI

Το `lint_markdown_cli.py` σαρώνει όλα τα μη μεταφρασμένα αρχεία `.md` για μη επιτρεπτά μοτίβα Foundry Local CLI **μέσα σε μπλοκ κώδικα** (``` ... ```). Η πληροφοριακή πρόζα μπορεί ακόμα να αναφέρει παρωχημένες εντολές για ιστορικούς λόγους.

### Παρωχημένα Μοτίβα (Αποκλεισμένα Μέσα σε Μπλοκ Κώδικα)

Ο ελεγκτής αποκλείει παρωχημένα μοτίβα CLI. Χρησιμοποιήστε σύγχρονες εναλλακτικές.

### Απαιτούμενες Αντικαταστάσεις
| Παρωχημένο | Χρησιμοποιήστε Αντί |
|------------|----------------------|
| `foundry model chat <a> "..."` | `foundry model run <a> --prompt "..."` |
| `foundry model list --running` | `foundry model list` |
| `foundry model list --cached` | `foundry cache list` |
| `foundry model stats` | Σενάριο δοκιμών απόδοσης + εργαλεία συστήματος (`Task Manager`, `nvidia-smi`) |
| `foundry model benchmark` | `samples/session03/benchmark_oss_models.py` |
| `foundry model list --available` | `foundry model list` |

### Κωδικοί Εξόδου
| Κωδικός | Σημασία |
|---------|---------|
| 0 | Δεν εντοπίστηκαν παραβιάσεις |
| 1 | Εντοπίστηκαν ένα ή περισσότερα παρωχημένα μοτίβα |

### Τοπική Εκτέλεση
Από τη ρίζα του αποθετηρίου (συνιστάται):

Windows (PowerShell):
```powershell
python Workshop\scripts\lint_markdown_cli.py --verbose
```

macOS / Linux:
```bash
python Workshop/scripts/lint_markdown_cli.py --verbose
```

### Γάντζος Προ-Δέσμευσης (Προαιρετικό)
```bash
echo "python Workshop/scripts/lint_markdown_cli.py" > .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```
Αυτό μπλοκάρει δεσμεύσεις που εισάγουν παρωχημένα μοτίβα.

### Ενσωμάτωση με CI
Μια ροή εργασίας GitHub Action (`.github/workflows/markdown-cli-lint.yml`) εκτελεί τον ελεγκτή σε κάθε push και pull request προς τα branches `main` και `Reactor`. Οι αποτυχημένες εργασίες πρέπει να διορθωθούν πριν από τη συγχώνευση.

### Προσθήκη Νέων Παρωχημένων Μοτίβων
1. Ανοίξτε το `lint_markdown_cli.py`.
2. Προσθέστε ένα ζεύγος `(regex, suggestion)` στη λίστα `DEPRECATED`. Χρησιμοποιήστε μια ακατέργαστη συμβολοσειρά και συμπεριλάβετε τα όρια λέξεων `\b` όπου είναι απαραίτητο.
3. Εκτελέστε τον ελεγκτή τοπικά για να επαληθεύσετε την ανίχνευση.
4. Δεσμεύστε και προωθήστε· το CI θα επιβάλει τον νέο κανόνα.

Παράδειγμα προσθήκης:
```python
DEPRECATED.append((r"\\bfoundry\\s+experimental\\s+foo\\b", "Remove experimental foo usage"))
```

### Επιτρεπτές Αναφορές για Επεξήγηση
Επειδή εφαρμόζεται μόνο σε μπλοκ κώδικα, μπορείτε να περιγράψετε παρωχημένες εντολές σε αφηγηματικό κείμενο με ασφάλεια. Εάν *πρέπει* να τις δείξετε μέσα σε μπλοκ, προσθέστε ένα μπλοκ **χωρίς** τριπλά backticks (π.χ., με εσοχή ή παράθεση) ή ξαναγράψτε το σε ψευδομορφή.

### Παράκαμψη Συγκεκριμένων Αρχείων (Προχωρημένο)
Εάν χρειαστεί, τοποθετήστε παραδείγματα παλαιού τύπου σε ξεχωριστό αρχείο εκτός του αποθετηρίου ή μετονομάστε το με διαφορετική επέκταση κατά τη σύνταξη. Οι σκόπιμες παρακάμψεις για μεταφρασμένα αντίγραφα είναι αυτόματες (μονοπάτια που περιέχουν `translations`).

### Επίλυση Προβλημάτων
| Πρόβλημα | Αιτία | Λύση |
|----------|-------|-------|
| Ο ελεγκτής επισημαίνει μια γραμμή που ενημερώσατε | Πολύ γενικός regex | Περιορίστε το μοτίβο με επιπλέον όρια λέξεων (`\b`) ή αγκύλες |
| Το CI αποτυγχάνει αλλά τοπικά περνάει | Διαφορετική έκδοση Python ή μη δεσμευμένες αλλαγές | Εκτελέστε ξανά τοπικά, βεβαιωθείτε ότι το δέντρο εργασίας είναι καθαρό, ελέγξτε την έκδοση Python της ροής εργασίας (3.11) |
| Χρειάζεται προσωρινή παράκαμψη | Επείγουσα επιδιόρθωση | Εφαρμόστε την επιδιόρθωση αμέσως μετά· σκεφτείτε τη χρήση προσωρινού branch και PR παρακολούθησης (αποφύγετε την προσθήκη διακοπτών παράκαμψης) |

### Αιτιολόγηση
Η διατήρηση της τεκμηρίωσης ευθυγραμμισμένης με την *τρέχουσα* σταθερή επιφάνεια CLI αποτρέπει την τριβή στο εργαστήριο, αποφεύγει τη σύγχυση των μαθητών και κεντροποιεί τη μέτρηση απόδοσης μέσω συντηρούμενων Python scripts αντί για παρωχημένες υποεντολές CLI.

---
Συντηρείται ως μέρος της εργαλειοθήκης ποιότητας του εργαστηρίου. Για βελτιώσεις (π.χ., αυτόματη διόρθωση προτάσεων ή δημιουργία αναφορών HTML), ανοίξτε ένα ζήτημα ή υποβάλετε ένα PR.

## 2. Σενάριο Επικύρωσης Δειγμάτων

Το `validate_samples.py` επικυρώνει όλα τα αρχεία δειγμάτων Python για συμμόρφωση με τη σύνταξη, τις εισαγωγές και τις βέλτιστες πρακτικές.

### Χρήση
```bash
# Validate all samples
python scripts/validate_samples.py

# Validate specific session
python scripts/validate_samples.py --session 01

# Verbose mode (includes best practice warnings)
python scripts/validate_samples.py --verbose

# Summary only
python scripts/validate_samples.py --summary
```

### Τι ελέγχει
- ✅ Εγκυρότητα σύνταξης Python
- ✅ Παρουσία απαιτούμενων εισαγωγών
- ✅ Υλοποίηση διαχείρισης σφαλμάτων (λειτουργία verbose)
- ✅ Χρήση τύπων (λειτουργία verbose)
- ✅ Περιγραφές συναρτήσεων (λειτουργία verbose)
- ✅ Συνδέσμους αναφοράς SDK (λειτουργία verbose)

### Μεταβλητές Περιβάλλοντος
- `SKIP_IMPORT_CHECK=1` - Παράκαμψη επικύρωσης εισαγωγών
- `SKIP_SYNTAX_CHECK=1` - Παράκαμψη επικύρωσης σύνταξης

### Κωδικοί Εξόδου
- `0` - Όλα τα δείγματα πέρασαν την επικύρωση
- `1` - Ένα ή περισσότερα δείγματα απέτυχαν

## 3. Εκτελεστής Δοκιμών Δειγμάτων

Το `test_samples.py` εκτελεί δοκιμές για όλα τα δείγματα για να επαληθεύσει ότι εκτελούνται χωρίς σφάλματα.

### Χρήση
```bash
# Test all samples
python scripts/test_samples.py

# Test specific session
python scripts/test_samples.py --session 01

# Quick mode (shorter timeouts)
python scripts/test_samples.py --quick

# Verbose mode (show output)
python scripts/test_samples.py --verbose
```

### Προαπαιτούμενα
- Ενεργή υπηρεσία Foundry Local: `foundry service start`
- Φορτωμένα μοντέλα: `foundry model run phi-4-mini`
- Εγκατεστημένες εξαρτήσεις: `pip install -r requirements.txt`

### Τι ελέγχει
- ✅ Το δείγμα μπορεί να εκτελεστεί χωρίς σφάλματα εκτέλεσης
- ✅ Παράγεται το απαιτούμενο αποτέλεσμα
- ✅ Σωστή διαχείριση σφαλμάτων σε περίπτωση αποτυχίας
- ✅ Απόδοση (χρόνος εκτέλεσης)

### Μεταβλητές Περιβάλλοντος
- `FOUNDRY_LOCAL_ALIAS=phi-4-mini` - Μοντέλο που θα χρησιμοποιηθεί για δοκιμές
- `TEST_TIMEOUT=30` - Χρονικό όριο ανά δείγμα σε δευτερόλεπτα

### Αναμενόμενες Αποτυχίες
Ορισμένες δοκιμές μπορεί να αποτύχουν εάν δεν έχουν εγκατασταθεί προαιρετικές εξαρτήσεις (π.χ., `ragas`, `sentence-transformers`). Εγκαταστήστε με:
```bash
pip install sentence-transformers ragas datasets
```

### Κωδικοί Εξόδου
- `0` - Όλες οι δοκιμές πέρασαν
- `1` - Μία ή περισσότερες δοκιμές απέτυχαν

## 4. Εξαγωγέας Benchmark Markdown

Σενάριο: `export_benchmark_markdown.py`

Δημιουργεί έναν αναπαραγώγιμο πίνακα απόδοσης για ένα σύνολο μοντέλων.

### Χρήση
```powershell
python Workshop\scripts\export_benchmark_markdown.py --models "qwen2.5-0.5b,gemma-2-2b" --prompt "Explain retrieval augmented generation briefly." --rounds 3 --output benchmark_report.md
```

### Έξοδοι
| Αρχείο | Περιγραφή |
|--------|-----------|
| `benchmark_report.md` | Πίνακας Markdown (μέσος όρος, p95, tokens/sec, προαιρετικά πρώτο token) |
| `benchmark_report.json` | Πίνακας ακατέργαστων μετρήσεων για σύγκριση & ιστορικό |

### Επιλογές
| Σημαία | Περιγραφή | Προεπιλογή |
|--------|-----------|------------|
| `--models` | Ψευδώνυμα μοντέλων διαχωρισμένα με κόμμα | (απαιτείται) |
| `--prompt` | Ερώτημα που χρησιμοποιείται σε κάθε γύρο | (απαιτείται) |
| `--rounds` | Γύροι ανά μοντέλο | 3 |
| `--output` | Αρχείο εξόδου Markdown | `benchmark_report.md` |
| `--json` | Αρχείο εξόδου JSON | `benchmark_report.json` |
| `--fail-on-empty` | Μη μηδενικός κωδικός εξόδου αν αποτύχουν όλα τα benchmarks | off |

Η μεταβλητή περιβάλλοντος `BENCH_STREAM=1` προσθέτει μέτρηση καθυστέρησης πρώτου token.

### Σημειώσεις
- Επαναχρησιμοποιεί το `workshop_utils` για συνεπή εκκίνηση και προσωρινή αποθήκευση μοντέλων.
- Εάν εκτελεστεί από διαφορετικό φάκελο εργασίας, το σενάριο προσπαθεί να εντοπίσει το `workshop_utils` μέσω εναλλακτικών διαδρομών.
- Για σύγκριση GPU: εκτελέστε μία φορά, ενεργοποιήστε την επιτάχυνση μέσω ρυθμίσεων CLI, επανεκτελέστε και συγκρίνετε το JSON.

---

**Αποποίηση ευθύνης**:  
Αυτό το έγγραφο έχει μεταφραστεί χρησιμοποιώντας την υπηρεσία αυτόματης μετάφρασης [Co-op Translator](https://github.com/Azure/co-op-translator). Παρόλο που καταβάλλουμε προσπάθειες για ακρίβεια, παρακαλούμε να έχετε υπόψη ότι οι αυτοματοποιημένες μεταφράσεις ενδέχεται να περιέχουν λάθη ή ανακρίβειες. Το πρωτότυπο έγγραφο στη μητρική του γλώσσα θα πρέπει να θεωρείται η αυθεντική πηγή. Για κρίσιμες πληροφορίες, συνιστάται επαγγελματική ανθρώπινη μετάφραση. Δεν φέρουμε ευθύνη για τυχόν παρεξηγήσεις ή εσφαλμένες ερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.