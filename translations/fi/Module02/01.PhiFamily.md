<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "20892f7994d9e5d2473ad19dfa93cf6d",
  "translation_date": "2025-09-18T09:32:28+00:00",
  "source_file": "Module02/01.PhiFamily.md",
  "language_code": "fi"
}
-->
# Osa 1: Microsoft Phi -malliperheen perusteet

Microsoft Phi -malliperhe edustaa merkittävää muutosta tekoälyn kehityksessä, osoittaen, että kompaktit ja tehokkaat mallit voivat saavuttaa vaikuttavaa suorituskykyä samalla, kun ne ovat huomattavasti resurssitehokkaampia kuin perinteiset suuret kielimallit. On tärkeää ymmärtää, miten Phi-perhe mahdollistaa tehokkaat tekoälyominaisuudet pienemmillä laskentavaatimuksilla säilyttäen korkean suorituskyvyn monenlaisissa tehtävissä.

## Resurssit kehittäjille

### Azure AI Foundry Model Catalog
Phi-malliperhe (lukuun ottamatta Phi-silicaa) on saatavilla [Azure AI Foundry Model Catalog](https://ai.azure.com/explore/models?q=phi) -katalogin kautta, mikä tekee kehittäjille helpoksi käyttää, hienosäätää ja ottaa käyttöön näitä malleja sovelluksissaan. Katalogi tarjoaa sujuvan tavan kokeilla eri Phi-mallivaihtoehtoja ja integroida ne projekteihisi.

### Azure AI Foundry
Voit ottaa Phi-mallit käyttöön ja kokeilla niitä [Azure AI Foundry](https://ai.azure.com) -ympäristössä, joka tarjoaa kattavan alustan tekoälyratkaisujen rakentamiseen, testaamiseen ja käyttöönottoon minimaalisella asetustyöllä.

### Foundry Local
Paikallista kehitystä ja käyttöönottoa varten tutustu [Microsoft Foundry Local](https://github.com/microsoft/foundry-local) -työkaluun, joka mahdollistaa Phi-mallien ajamisen kehityskoneellasi optimoiduilla asetuksilla.

### Dokumentaatioresurssit
- [Microsoft Research: Phi Model Technical Reports](https://ai.azure.com/labs/projects/phi-4)
- [Phi Cookbook](https://aka.ms/phicookbook)

## Johdanto

Tässä oppitunnissa tutustumme Microsoftin Phi-malliperheeseen ja sen peruskäsitteisiin. Käymme läpi Phi-perheen kehityksen, innovatiiviset koulutusmenetelmät, jotka tekevät Phi-malleista tehokkaita, perheen keskeiset variantit ja käytännön sovellukset eri tilanteissa.

## Oppimistavoitteet

Oppitunnin lopussa osaat:

- Ymmärtää Microsoftin Phi-malliperheen suunnittelufilosofian ja kehityksen.
- Tunnistaa keskeiset innovaatiot, jotka mahdollistavat Phi-mallien korkean suorituskyvyn pienemmillä parametreilla.
- Tunnistaa eri Phi-mallivaihtoehtojen hyödyt ja rajoitukset.
- Soveltaa Phi-mallien tietämystä valitaksesi sopivat variantit todellisiin käyttötapauksiin.

## Perinteisen tekoälymallin paradigma

Perinteisesti korkean suorituskyvyn saavuttaminen luonnollisen kielen käsittelyssä on vaatinut massiivisia kielimalleja, joissa on miljardeja tai satoja miljardeja parametreja. Organisaatiot käyttävät tyypillisesti näitä malleja tehokkailla GPU-klustereilla, hyödyntäen niiden ominaisuuksia API-rajapintojen tai erikoistuneen laitteiston kautta.

Tämä lähestymistapa toimii hyvin monissa sovelluksissa, mutta sillä on luontaisia rajoituksia käytännön käyttöönotossa. Perinteinen menetelmä sisältää malleja, jotka vaativat huomattavia laskentaresursseja, suuria määriä muistia ja merkittävää energiankulutusta. Vaikka tämä lähestymistapa tarjoaa pääsyn huipputason ominaisuuksiin, se luo riippuvuuksia kalliista laitteistosta, lisää operatiivisia kustannuksia ja rajoittaa käyttöönoton joustavuutta.

## Tehokkaan tekoälyn käyttöönoton haasteet

Tehokkaamman tekoälyn tarve on tullut yhä tärkeämmäksi eri tilanteissa. Esimerkiksi sovellukset, jotka vaativat paikallista käyttöönottoa yksityisyyssyistä, kustannusherkät toteutukset, joissa pilvi-API-kustannukset ovat liian korkeita, reunalaskennan skenaariot, joissa laitteistoresurssit ovat rajalliset, tai reaaliaikaiset sovellukset, joissa viive on kriittinen.

### Keskeiset käyttöönoton rajoitteet

Perinteiset suuret mallien käyttöönotot kohtaavat useita perustavanlaatuisia rajoitteita, jotka rajoittavat niiden käytännön soveltuvuutta:

- **Kustannusrajoitteet**: Korkeat laskentakustannukset tekevät jatkuvasta käyttöönotosta kallista monille organisaatioille.
- **Resurssirajoitteet**: Rajoitettu pääsy huippuluokan GPU-infrastruktuuriin rajoittaa käyttöönoton vaihtoehtoja.
- **Yksityisyysvaatimukset**: Herkät sovellukset vaativat paikallista käsittelyä tietosuojan ylläpitämiseksi.
- **Viiveherkkyys**: Reaaliaikaiset sovellukset tarvitsevat välittömiä vastauksia ilman pilvikierroksen viivettä.

## Microsoft Phi -mallien filosofia

Microsoft Phi -malliperhe edustaa perustavanlaatuista muutosta tekoälymallien suunnittelufilosofiassa, jossa etusijalla ovat tehokkuus ja käytännön käyttöönotto samalla, kun säilytetään vahvat suorituskykyominaisuudet. Phi-mallit saavuttavat tämän innovatiivisten arkkitehtuurien, korkealaatuisten koulutusmenetelmien ja erikoistuneiden optimointitekniikoiden avulla.

Phi-perhe kattaa erilaisia lähestymistapoja, jotka on suunniteltu maksimoimaan suorituskyky parametria kohden, mahdollistaen käyttöönoton tavallisella laitteistolla samalla, kun tarjotaan merkittäviä tekoälyominaisuuksia. Tavoitteena on säilyttää kilpailukykyinen suorituskyky samalla, kun laskentavaatimukset, muistinkäyttö ja operatiiviset kustannukset vähenevät merkittävästi.

### Phi-mallien keskeiset suunnitteluperiaatteet

Phi-mallit perustuvat useisiin perusperiaatteisiin, jotka erottavat ne perinteisistä suurista kielimalleista:

- **Tehokkuus etusijalla**: Optimoitu maksimaaliseen suorituskykyyn parametria kohden absoluuttisen skaalan sijaan.
- **Laadukas koulutus**: Keskittyminen korkealaatuiseen, kuratoituun koulutusdataan massiivisten datasetien sijaan.
- **Käyttöönoton joustavuus**: Suunniteltu toimimaan tehokkaasti erilaisilla laitteistokokoonpanoilla.
- **Erikoistuneet ominaisuudet**: Usein optimoitu tiettyihin tehtäviin tai aloihin maksimaalisen tehokkuuden saavuttamiseksi.

## Phi-perheen mahdollistavat keskeiset teknologiat

### "Oppikirjamainen" koulutusmenetelmä

Yksi Phi-perheen vallankumouksellisimmista piirteistä on "oppikirjalaatuinen" koulutusmenetelmä. Sen sijaan, että malleja koulutettaisiin massiivisilla määrillä suodattamatonta internetdataa, Phi-mallit käyttävät huolellisesti kuratoitua, korkealaatuista opetusmateriaalia, joka on suunniteltu opettamaan päättelyä, matematiikkaa, koodausta ja yleistä tietoa tehokkaasti.

Tämä lähestymistapa toimii luomalla synteettistä opetusmateriaalia, joka jäljittelee korkealaatuisia oppikirjoja ja akateemisia materiaaleja. Koulutusdata on erityisesti suunniteltu pedagogisesti järkeväksi, keskittyen selkeisiin selityksiin, vaiheittaisiin päättelyihin ja jäsenneltyyn tiedon esittämiseen.

### Kehittynyt päättelykoulutus

Uusimmat Phi-mallit sisältävät kehittyneitä päättelykoulutusmenetelmiä, jotka mahdollistavat monimutkaisten monivaiheisten ongelmien ratkaisemisen. Näihin tekniikoihin kuuluu:

**Chain-of-Thought Training**: Mallit oppivat jakamaan monimutkaiset ongelmat välivaiheisiin, mikä tekee niiden päättelyprosessista läpinäkyvämmän ja luotettavamman.

**Inference-Time Scaling**: Mallit tuottavat yksityiskohtaisia päättelyketjuja, jotka hyödyntävät lisälaskentaresursseja vastauksen tuottamisen aikana parantaakseen tarkkuutta.

**Edge-of-Capability Training**: Koulutusdata valitaan erityisesti haastamaan mallia sen nykyisten kykyjen rajoilla, edistäen monimutkaisten päättelymallien oppimista.

### Arkkitehtuuriset innovaatiot

Phi-perhe sisältää useita arkkitehtuurisia optimointeja, jotka on suunniteltu erityisesti tehokkuutta varten:

**Parametrien tehokkuus**: Huolelliset arkkitehtuurivalinnat, jotka maksimoivat jokaisen parametrin vaikutuksen mallissa.

**Monimodaalinen integrointi**: Tehokas tekstin, kuvan ja puheen käsittelykykyjen integrointi kompakteihin arkkitehtuureihin.

**Laitteisto-optimointi**: Erikoistuneet variantit, jotka on optimoitu tiettyjä laitteistoalustoja ja käyttöönoton skenaarioita varten.

## Phi-mallien laitteisto-optimointi

Nykyaikaiset käyttöönottoympäristöt hyötyvät Phi-mallien tehokkuudesta eri laitteistokokoonpanoissa:

### CPU-optimoitu käyttöönotto

Phi-mallit on suunniteltu toimimaan tehokkaasti pelkästään CPU-laitteistolla, mikä tekee niistä helposti saatavilla tavallisella laskentainfrastruktuurilla ilman erikoistuneita tekoälykiihdyttimiä.

### GPU-kiihdytys

Vaikka Phi-mallit eivät vaadi tehokkaita GPU:ita, ne voivat hyödyntää saatavilla olevia GPU-resursseja parantaakseen suorituskykyä, tarjoten joustavuutta käyttöönoton kokoonpanoissa.

### Reunalaitteiden integrointi

Erikoistuneet variantit, kuten Phi-3-Silica, on optimoitu tiettyjä reunalaskenta-alustoja varten, saavuttaen vaikuttavia tehokkuusmittareita, kuten 650 tokenia sekunnissa vain 1,5 W:n virrankulutuksella.

## Phi-malliperheen hyödyt

### Kustannustehokkuus

Phi-mallit vähentävät operatiivisia kustannuksia merkittävästi, koska ne vaativat huomattavasti vähemmän laskentainfrastruktuuria säilyttäen kilpailukykyisen suorituskyvyn. Tämä tekee tekoälystä saavutettavaa organisaatioille, joilla on rajalliset budjetit tai suurivolyymiset sovellukset, joissa kustannus per inferenssi on tärkeä.

### Käyttöönoton joustavuus

Phi-mallien tehokkuus mahdollistaa käyttöönoton laajalla valikoimalla laitteistokokoonpanoja, henkilökohtaisista kannettavista tietokoneista yrityspalvelimiin, tarjoten organisaatioille enemmän joustavuutta tekoälyinfrastruktuurin valinnoissa.

### Yksityisyys ja turvallisuus

Phi-mallien tehokkuus mahdollistaa paikallisen käyttöönoton yksityisyyttä vaativissa sovelluksissa, varmistaen, että arkaluontoinen data ei koskaan poistu organisaation hallinnasta samalla, kun tarjotaan tehokkaita tekoälyominaisuuksia.

### Reaaliaikainen suorituskyky

Vähentyneet laskentavaatimukset tarkoittavat nopeampia inferenssiaikoja, mahdollistaen reaaliaikaiset sovellukset, jotka vaativat välittömiä vastauksia tinkimättä tekoälyominaisuuksien laadusta.

### Saavutettava tekoäly

Vähentämällä tekoälyn käyttöönoton esteitä Phi-mallit tekevät kehittyneistä tekoälyominaisuuksista saavutettavia organisaatioille, joilla on rajalliset resurssit, mahdollistaen pienemmät tiimit ja yksittäiset kehittäjät hyödyntämään kehittynyttä kielen ymmärrystä.

## Käytännön esimerkit ja käyttötapaukset

Ennen tekniseen kehitykseen sukeltamista, tutustutaan joihinkin konkreettisiin esimerkkeihin siitä, mitä Phi-mallit voivat saavuttaa:

### Matemaattisen päättelyn esimerkki

Phi-4-mini-reasoning on erinomainen vaiheittaisessa matemaattisten ongelmien ratkaisemisessa. Esimerkiksi kysyttäessä "Kuinka ratkaista 3*x^2+4*x+5=1?", malli tarjoaa yksityiskohtaiset päättelyvaiheet:

```
<|system|>Your name is Phi, an AI math expert developed by Microsoft.<|end|>
<|user|>How to solve 3*x^2+4*x+5=1?<|end|>
<|assistant|>
I need to solve the quadratic equation 3x² + 4x + 5 = 1.

First, let me rearrange this to standard form:
3x² + 4x + 5 = 1
3x² + 4x + 5 - 1 = 0  
3x² + 4x + 4 = 0

Now I can use the quadratic formula: x = (-b ± √(b² - 4ac)) / (2a)
Where a = 3, b = 4, c = 4

Let me calculate the discriminant:
b² - 4ac = 4² - 4(3)(4) = 16 - 48 = -32

Since the discriminant is negative (-32), this equation has no real solutions.
The solutions are complex: x = (-4 ± √(-32)) / 6 = (-4 ± 4i√2) / 6 = (-2 ± 2i√2) / 3
```

### Monikielinen tuki

Phi-3.5-mini-instruct osoittaa vahvoja monikielisiä kykyjä eri kielillä. Tässä esimerkki kehotusmuodosta:

```
<|system|>You are a helpful assistant.<|end|>
<|user|>How to explain Internet for a medieval knight?<|end|>
<|assistant|>
Imagine, good sir knight, a vast network of invisible roads that span the entire realm and beyond. The Internet is like a magical system of messenger birds that can carry any message - be it text, images, or even moving pictures - instantly to any castle, village, or hamlet in the world.

Think of it as if every scribe's work could be copied and shared with thousands of people simultaneously, as if you could visit any library in any kingdom without leaving your chambers, or as if you could hold council with knights from distant lands as if they were sitting at your very table.

This "Internet" allows people to:
- Send messages faster than the swiftest horse
- Access knowledge from scholars across all kingdoms
- Trade goods without traveling to distant markets
- Share stories and news from lands you've never seen

'Tis like having a thousand scribes, merchants, and storytellers all working for you at once, good knight!
```

### Monimodaaliset ominaisuudet

Phi-4-multimodal pystyy käsittelemään tekstiä, kuvia ja puhetta samanaikaisesti. Tässä joitakin käytännön sovelluksia:

**Matkasuunnittelu ääni-inputilla:**
Katso, kuinka Phi-4 Multimodal analysoi puhuttua kieltä auttaakseen suunnittelemaan matkaa Seattleen, osoittaen sen kehittyneet äänenkäsittely- ja suositusominaisuudet.

**Matemaattisten ongelmien ratkaisu kuvista:**
Katso, kuinka Phi-4 Multimodal käsittelee monimutkaisia matemaattisia ongelmia visuaalisten syötteiden avulla, osoittaen sen kyvyn käsitellä ja ratkaista kuvissa esitettyjä yhtälöitä.

**Funktiokutsujen esimerkki:**
Funktiokutsujen avulla Phi-4-mini ja Phi-4-multimodal voivat laajentaa tekstinkäsittelyominaisuuksiaan integroimalla hakukoneita, yhdistämällä erilaisia työkaluja ja paljon muuta. Kuten esimerkissä, malli voi hakea Valioliigan ottelutietoja Phi-4-minin avulla, osoittaen sen kyvyn olla vuorovaikutuksessa ulkoisten tietolähteiden kanssa saumattomasti.

### Koodin generointi

Phi-4-multimodal voi tuottaa jäsenneltyä projektikoodia sekä kuvasisällön että annettujen kehotusten perusteella, kuten tässä käytännön työnkulussa:

1. Lataa kuva wireframesta tai suunnittelusta
2. Anna konteksti projektivaatimuksista
3. Malli tuottaa täydelliset, toimivat koodirakenteet
4. Koodi voidaan mukauttaa tiettyjen kehysten tai kielten mukaan

### Reunakäyttöönoton esimerkki

Voimme ottaa kvantisoidun mallin käyttöön reunalaitteilla. Yhdistämällä Microsoft Olive ja ONNX GenAI Runtime, voimme ottaa Phi-4-minin käyttöön Windows-, iPhone-, Android- ja muilla laitteilla. Tässä esimerkki iPhone 12 Pro:lla.

Käyttöönotto sisältää:
- Mallin kvantisoinnin mobiilioptimointia varten
- ONNX-runtime-integraation alustojen väliseen yhteensopivuuteen
- Paikallisen inferenssin ilman internetyhteyttä
- Reaaliaikaisen suorituskyvyn minimaalisella virrankulutuksella

## Phi-perheen kehitys

### Phi-1 ja Phi-2: Perusmallit

Varhaiset Phi-mallit loivat perustan korkealaatuiselle koulutusdatalle ja tehokkaille arkkitehtuureille:

- **Phi-1 (1.3B parametria)**: Esitteli kuratoidun koulutusdatan konseptin peruskielen ymmärtämiseen ja koodin generointiin.
- **Phi-2 (2.7B parametria)**: Paransi päättelykykyjä synteettisen NLP-datan ja huolellisesti suodatetun verkkosisällön avulla.

### Phi-3-perhe: Yleisön suosio

Phi-3-sarja merkitsi läpimurtoa SLM-ominaisuuksissa useilla erikoistuneilla varianteilla:

- **Phi-3-mini (3.8B parametria)**: Yleiset kielitehtävät poikkeuksellisella tehokkuudella, ylittäen kaksi kertaa suuremmat mallit.
- **Phi-3-small (7B parametria)**: Edistynyt suorituskyky, joka voittaa GPT-3.5 Turbon eri vertailuissa.
- **Phi-3-medium (14B parametria)**: Yritystason suorituskyky, joka ylittää Gemini 1.0 Pron.
- **Phi-3-vision (4.2B parametria)**: Monimodaaliset ominaisuudet kuvan ja tekstin käsittelyyn.
- **Phi-3-Silica (3.3B parametria)**: Erikoistunut optimointi Windows 11:n sisäänrakennettuun käyttöönottoon.

### Phi-4-perhe: Kehittynyt päättely

Uusin sukupolvi vie päättelykyvyt äärirajoille:

- **Phi-4 (14B parametria)**: Monimutkaisten päättelytehtävien erikoistuminen, erityisesti matematiikassa.
- **Phi-4-mini (3.8B
Phi-perhe osoittaa, että tekoälyn tulevaisuus ei perustu pelkästään suurempien mallien rakentamiseen, vaan älykkäämpien ja tehokkaampien mallien kehittämiseen, jotka toimivat tehokkaasti monenlaisissa laiteympäristöissä säilyttäen korkean suorituskyvyn.

## Kehitys- ja integrointiesimerkit

### Nopea aloitus Transformers-kirjastolla

Näin pääset alkuun Phi-mallien kanssa Hugging Face Transformers -kirjastoa käyttäen:

```python
from transformers import AutoModelForCausalLM, AutoTokenizer
import torch

# Load Phi-4-mini-instruct
model = AutoModelForCausalLM.from_pretrained(
    "microsoft/Phi-4-mini-instruct",
    torch_dtype=torch.bfloat16,
    trust_remote_code=True,
    attn_implementation="flash_attention_2"  # For optimized performance
)

tokenizer = AutoTokenizer.from_pretrained("microsoft/Phi-4-mini-instruct")

# Format your prompt using the chat template
messages = [
    {"role": "system", "content": "You are a helpful assistant."},
    {"role": "user", "content": "Explain quantum computing in simple terms."}
]

# Apply chat template
input_text = tokenizer.apply_chat_template(messages, tokenize=False)
inputs = tokenizer(input_text, return_tensors="pt")

# Generate response
with torch.no_grad():
    outputs = model.generate(**inputs, max_new_tokens=200, temperature=0.7)
    
response = tokenizer.decode(outputs[0], skip_special_tokens=True)
print(response)
```

### Hienosäätöesimerkki

Seuraava esimerkki näyttää, kuinka Phi-4-mini-instruct-mallia hienosäädetään tiettyjä tehtäviä varten:

```python
from transformers import AutoModelForCausalLM, AutoTokenizer, TrainingArguments
from peft import LoraConfig
from trl import SFTTrainer
from datasets import load_dataset

# Configuration for LoRA fine-tuning
peft_config = LoraConfig(
    r=16,
    lora_alpha=32,
    lora_dropout=0.05,
    bias="none",
    task_type="CAUSAL_LM",
    target_modules="all-linear"
)

# Training configuration optimized for efficiency
training_config = TrainingArguments(
    output_dir="./phi-4-mini-finetuned",
    learning_rate=5.0e-06,
    per_device_train_batch_size=4,
    gradient_accumulation_steps=1,
    num_train_epochs=1,
    bf16=True,
    gradient_checkpointing=True,
    warmup_ratio=0.2,
    save_steps=100
)

# Load model and tokenizer
model = AutoModelForCausalLM.from_pretrained(
    "microsoft/Phi-4-mini-instruct",
    torch_dtype=torch.bfloat16,
    trust_remote_code=True
)

tokenizer = AutoTokenizer.from_pretrained("microsoft/Phi-4-mini-instruct")
tokenizer.pad_token = tokenizer.unk_token
tokenizer.padding_side = 'right'

# Load and process dataset
train_dataset = load_dataset("HuggingFaceH4/ultrachat_200k", split="train_sft")

# Initialize trainer
trainer = SFTTrainer(
    model=model,
    args=training_config,
    peft_config=peft_config,
    train_dataset=train_dataset,
    max_seq_length=2048,
    tokenizer=tokenizer,
    packing=True
)

# Start fine-tuning
trainer.train()
```

### Erikoistuneet kehotemuodot

**Päättelytehtäviin (Phi-4-reasoning-plus):**
```
<|im_start|>system<|im_sep|>
You are Phi, a language model trained by Microsoft to help users. Your role as an assistant involves thoroughly exploring questions through a systematic thinking process before providing the final precise and accurate solutions.

Please structure your response into two main sections:
<think>
{Thought section}
</think>
{Solution section}
<|im_end|>
<|im_start|>user<|im_sep|>
What is the derivative of x^2?
<|im_end|>
<|im_start|>assistant<|im_sep|>
```

**Matemaattisiin tehtäviin (Phi-4-mini-reasoning):**
```
<|system|>
Your name is Phi, an AI math expert developed by Microsoft.
<|end|>
<|user|>
Solve this calculus problem: Find the integral of 2x + 3
<|end|>
<|assistant|>
```

### Mobiilijulkaisu ONNX:llä

```python
import onnxruntime as ort
import numpy as np

# Load ONNX model for mobile deployment
session = ort.InferenceSession("phi-4-mini-quantized.onnx")

# Prepare input
input_ids = tokenizer.encode("Hello, how are you?", return_tensors="np")

# Run inference
outputs = session.run(None, {"input_ids": input_ids})
predicted_ids = outputs[0]

# Decode response
response = tokenizer.decode(predicted_ids[0], skip_special_tokens=True)
```

## Suorituskykyvertailut ja saavutukset

Phi-malliperhe on saavuttanut merkittäviä tuloksia monilla vertailualueilla, usein ylittäen paljon suuremmat mallit:

### Keskeiset suorituskykykohokohdat

**Matemaattisen päättelyn huippuosaaminen:**
- Phi-4 saavuttaa 82,5 % tarkkuuden AIME 2025 -testissä (matematiikkaolympialaisten karsinta)
- Phi-4-reasoning (14B) ylittää DeepSeek-R1-Distill-70B:n (5x suurempi) päättelytesteissä
- Phi-4-mini-reasoning (3.8B) kilpailee kaksinkertaisesti suurempien mallien kanssa matemaattisessa päättelyssä

**Tehokkuussaavutukset:**
- Phi-3-Silica käsittelee 650 tokenia sekunnissa vain 1,5 W tehonkulutuksella
- Phi-4-mini (3.8B) saavuttaa vastaavan suorituskyvyn kuin paljon suuremmat mallit

**Vertailutulokset:**
- **MMLU (Massive Multitask Language Understanding)**: Kilpailukykyinen suorituskyky 57 akateemisessa aiheessa
- **HumanEval**: Vahvat koodin generointikyvyt, erityisesti Pythonissa
- **MGSM**: Monikielinen peruskoulutason matematiikan ongelmanratkaisu
- **DROP**: Monimutkaiset ymmärrys- ja päättelytehtävät
- **SimpleQA**: Faktoihin perustuva vastaustarkkuus

### 📊 Mallivertailutaulukko

| Malli | Parametrit | Kontekstin pituus | Keskeiset vahvuudet | Parhaat käyttötapaukset |
|-------|------------|-------------------|---------------------|-------------------------|
| **Phi-3-mini** | 3.8B | 4K/128K | Yleinen tehokkuus | Mobiilisovellukset, perus chatbotit |
| **Phi-3.5-mini** | 3.8B | 128K | Monikielinen tuki | Kansainväliset sovellukset |
| **Phi-4-mini** | 3.8B | 128K | Parannettu päättely, funktiokutsut | Liiketoiminnan automaatio |
| **Phi-4-mini-reasoning** | 3.8B | 128K | Matemaattinen päättely | Koulutusalustat |
| **Phi-4** | 14B | 32K | Monimutkainen päättely | Tutkimus, edistynyt analyysi |
| **Phi-4-reasoning** | 14B | 32K/64K | Monivaiheinen päättely | Tieteellinen laskenta |
| **Phi-4-reasoning-plus** | 14B | 32K | Maksimaalinen tarkkuus päättelyssä | Kriittinen päätöksenteko |
| **Phi-4-multimodal** | 5.6B | Vaihteleva | Puhe, visio, teksti | Multimediasovellukset |

## Mallin valintaopas

### Perussovelluksiin
- **Phi-3-mini**: Yksinkertainen tekstin generointi, perus Q&A, nopeat vastaukset
- **Phi-4-mini**: Parannettu päättely funktiokutsujen kanssa

### Matemaattisiin ja päättelytehtäviin
- **Phi-4**: Monimutkainen matemaattinen ongelmanratkaisu ja päättely
- **Phi-4-reasoning**: Monivaiheinen päättely yksityiskohtaisilla selityksillä
- **Phi-4-reasoning-plus**: Maksimaalinen tarkkuus kriittisissä päättelytehtävissä
- **Phi-4-mini-reasoning**: Tehokas matemaattinen päättely resurssirajoitteisissa ympäristöissä

### Multimodaalisovelluksiin
- **Phi-3-vision**: Kuvan ja tekstin käsittelyn yhdistelmät
- **Phi-4-multimodal**: Kattavat puhe-, visio- ja tekstikyvyt

### Yritysjulkaisuun
- **Phi-3-medium**: Edistynyt kielen ymmärrys liiketoimintasovelluksiin
- **Phi-3-Silica**: Optimoitu tietyille laitealustoille

## Julkaisualustat ja saavutettavuus

### Pilvialustat
- **Azure AI Foundry**: Täysin varusteltu julkaisu yritystyökaluilla
- **Hugging Face**: Avoimen lähdekoodin mallivarasto ja yhteisöresurssit
- **NVIDIA API Catalog**: Mikropalvelujen julkaisuvaihtoehdot

### Paikalliset kehityskehykset
- **Ollama**: Kevyt kehys paikalliseen mallijulkaisuun
- **ONNX Runtime**: Optimoitu eri laitekokoonpanoille  
- **DirectML**: Windows-optimoitu suorituskyky
- **llama.cpp**: Alustojen välinen inferenssimoottori

### Oppimisresurssit
- **Phi Portal**: Microsoft Phi -mallien virallinen dokumentaatio
- **Phi Cookbook**: Kattavat esimerkit ja opetusohjelmat
- **Tekniset raportit**: Syvälliset tutkimuspaperit arxivissa
- **Yhteisötilat**: Hugging Face -interaktiiviset demot

### Phi-mallien käytön aloittaminen

#### Kehitysalustat
1. **Azure AI Foundry**: Yksinkertainen paikallinen CLI ja mallien hallinta.
2. **Hugging Face Transformers**: Nopea paikallinen kokeilu
3. **Ollama**: Yksinkertainen paikallinen julkaisu testaukseen

#### Oppimispolku
1. **Ymmärrä peruskonseptit**: Tutustu suunnitteluperiaatteisiin
2. **Kokeile eri versioita**: Testaa eri Phi-malleja ymmärtääksesi niiden kyvyt
3. **Harjoittele toteutusta**: Julkaise malleja testausympäristöissä
4. **Laajenna käyttöä**: Laajenna käyttöä onnistuneiden pilottien perusteella

#### Parhaat käytännöt
- **Aloita pienestä**: Käytä Phi-mini-malleja alkuvaiheen kehitykseen
- **Optimoi kehotteet**: Käytä oikeaa chat-muotoilua parhaan tuloksen saavuttamiseksi
- **Seuraa suorituskykyä**: Tarkkaile inferenssinopeutta ja tarkkuusmittareita
- **Huomioi laitteisto**: Sovita mallin koko käytettävissä oleviin laskentaresursseihin

## Yhteenveto

Microsoftin Phi-malliperhe edustaa vallankumouksellista lähestymistapaa tekoälymallien suunnittelussa, osoittaen, että pienemmät ja tehokkaammat mallit voivat saavuttaa merkittäviä tuloksia monenlaisissa tehtävissä. Keskittymällä korkealaatuiseen koulutusdataan ja arkkitehtuurin optimointeihin Phi-perhe tarjoaa poikkeuksellisia kykyjä merkittävästi pienemmillä laskentavaatimuksilla verrattuna perinteisiin suuriin kielimalleihin.

## Keskeiset oppimistavoitteet

1. Ymmärrä Microsoftin Phi-malliperheen suunnittelufilosofia ja kehitys Phi-1:stä Phi-4:ään
2. Tunnista keskeiset innovaatiot, kuten "oppikirjatason" koulutus ja arkkitehtuurin optimoinnit
3. Tunnista eri Phi-versioiden hyödyt ja rajoitukset eri julkaisuskenaarioissa
4. Sovella tietoa valitaksesi sopivat Phi-mallit tiettyihin käyttötapauksiin ja laiterajoituksiin
5. Toteuta optimointitekniikoita Phi-mallien julkaisemiseksi resurssirajoitteisilla laitteilla
6. Selitä Phi-malliperheen arkkitehtuurin edut perinteisiin suuriin kielimalleihin verrattuna
7. Valitse sopiva Phi-versio tiettyjen sovellustarpeiden ja laiterajoitusten perusteella
8. Toteuta Phi-malleja sekä pilvi- että reunajulkaisuympäristöissä optimoiduilla kokoonpanoilla
9. Sovella kvantisointi- ja optimointitekniikoita Phi-mallien suorituskyvyn parantamiseksi kohdelaitteilla
10. Arvioi mallin koon, suorituskyvyn ja kykyjen välisiä kompromisseja Phi-perheen sisällä

## Mitä seuraavaksi

- [02: Qwen Family Fundamentals](02.QwenFamily.md)

---

**Vastuuvapauslauseke**:  
Tämä asiakirja on käännetty käyttämällä tekoälypohjaista käännöspalvelua [Co-op Translator](https://github.com/Azure/co-op-translator). Vaikka pyrimme tarkkuuteen, huomioithan, että automaattiset käännökset voivat sisältää virheitä tai epätarkkuuksia. Alkuperäistä asiakirjaa sen alkuperäisellä kielellä tulisi pitää ensisijaisena lähteenä. Kriittisen tiedon osalta suositellaan ammattimaista ihmiskäännöstä. Emme ole vastuussa väärinkäsityksistä tai virhetulkinnoista, jotka johtuvat tämän käännöksen käytöstä.