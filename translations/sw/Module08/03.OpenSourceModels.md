<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e3d7e45c04a9946ff6f9a3358db9ba74",
  "translation_date": "2025-10-01T01:08:33+00:00",
  "source_file": "Module08/03.OpenSourceModels.md",
  "language_code": "sw"
}
-->
# Kikao cha 3: Ugunduzi na Usimamizi wa Miundo ya Chanzo Huria

## Muhtasari

Kikao hiki kinazingatia ugunduzi wa miundo na usimamizi wa vitendo kwa kutumia Foundry Local. Utajifunza jinsi ya kuorodhesha miundo inayopatikana, kujaribu chaguo tofauti, na kuelewa sifa za utendaji wa msingi. Mbinu hii inasisitiza uchunguzi wa vitendo kwa kutumia Foundry CLI ili kukusaidia kuchagua miundo sahihi kwa matumizi yako.

## Malengo ya Kujifunza

- Kuwa na ujuzi wa amri za Foundry CLI kwa ugunduzi na usimamizi wa miundo
- Kuelewa muundo wa hifadhi ya miundo na mifumo ya uhifadhi wa ndani
- Kujifunza kujaribu na kulinganisha miundo tofauti kwa haraka
- Kuanzisha mtiririko wa kazi wa vitendo kwa uteuzi wa miundo na upimaji wa utendaji
- Kuchunguza mfumo unaokua wa miundo inayopatikana kupitia Foundry Local

## Mahitaji ya Awali

- Kukamilisha Kikao cha 1: Kuanza na Foundry Local
- Foundry Local CLI imewekwa na inapatikana
- Nafasi ya kutosha ya uhifadhi kwa upakuaji wa miundo (miundo inaweza kuwa kati ya 1GB hadi 20GB+)
- Uelewa wa msingi wa aina za miundo na matumizi yake

## Muhtasari

Kikao hiki kinachunguza jinsi ya kuleta miundo ya chanzo huria kwenye Foundry Local.

## Sehemu ya 6: Zoezi la Vitendo

### Zoezi: Ugunduzi na Ulinganishaji wa Miundo

Unda script yako ya tathmini ya miundo kwa kutumia Sampuli 03:

```cmd
REM create_model_test.cmd
@echo off
echo Model Discovery and Testing Script
echo =====================================

echo.
echo Step 1: List available models
foundry model list

echo.
echo Step 2: Check what's cached
foundry cache list

echo.
echo Step 3: Start phi-4-mini for testing
foundry model run phi-4-mini --verbose

echo.
echo Step 4: Test with a simple prompt
curl -X POST http://localhost:8000/v1/chat/completions ^
  -H "Content-Type: application/json" ^
  -d "{\"model\":\"phi-4-mini\",\"messages\":[{\"role\":\"user\",\"content\":\"Hello, please introduce yourself.\"}],\"max_tokens\":100}"

echo.
echo Model test complete!
```


### Kazi Yako

1. **Endesha script ya Sampuli 03**: `samples\03\list_and_bench.cmd`
2. **Jaribu miundo tofauti**: Jaribu angalau miundo 3 tofauti
3. **Linganisheni utendaji**: Angalia tofauti za kasi na ubora wa majibu
4. **Hifadhi matokeo**: Unda chati rahisi ya kulinganisha

### Mfano wa Muundo wa Ulinganishaji

```
Model Comparison Results:
========================
phi-4-mini:        Fast (~2s), good for general chat
qwen2.5-7b:       Slower (~5s), better reasoning  
deepseek-r1:      Medium (~3s), excellent for code

Recommendation: Start with phi-4-mini for development, 
switch to qwen2.5-7b for production reasoning tasks.
```


## Sehemu ya 7: Utatuzi wa Matatizo na Mazoea Bora

### Masuala ya Kawaida na Suluhisho

**Model Haianzi:**
```cmd
REM Check service status
foundry service status

REM Restart service if needed
foundry service stop
foundry service start

REM Try with verbose output
foundry model run phi-4-mini --verbose
```


**Kumbukumbu Haitoshi:**
- Anza na miundo midogo (`phi-4-mini`)
- Funga programu nyingine
- Sasisha RAM ikiwa mara kwa mara unakutana na mipaka

**Utendaji Polepole:**
- Hakikisha muundo umepakiwa kikamilifu (angalia matokeo ya verbose)
- Funga programu zisizo za lazima zinazofanya kazi nyuma
- Fikiria uhifadhi wa kasi zaidi (SSD)

### Mazoea Bora

1. **Anza na Kidogo**: Anza na `phi-4-mini` ili kuthibitisha usanidi
2. **Muundo Mmoja kwa Wakati**: Funga miundo ya awali kabla ya kuanza mpya
3. **Fuatilia Rasilimali**: Angalia matumizi ya kumbukumbu
4. **Jaribu Kwa Uthabiti**: Tumia maelekezo sawa kwa kulinganisha kwa haki
5. **Hifadhi Matokeo**: Weka maelezo kuhusu utendaji wa miundo kwa matumizi yako

## Sehemu ya 8: Hatua Zifuatazo na Marejeleo

### Kujiandaa kwa Kikao cha 4

- **Mwelekeo wa Kikao cha 4**: Zana na mbinu za uboreshaji
- **Mahitaji ya Awali**: Uwe na ujuzi wa kubadilisha miundo na upimaji wa utendaji wa msingi
- **Inapendekezwa**: Kuwa na miundo 2-3 unayopenda kutoka kikao hiki

### Rasilimali za Ziada

- **[Nyaraka za Foundry Local](https://learn.microsoft.com/azure/ai-foundry/foundry-local/)**: Nyaraka rasmi
- **[Marejeleo ya CLI](https://learn.microsoft.com/azure/ai-foundry/foundry-local/reference/reference-cli)**: Marejeleo kamili ya amri
- **[Model Mondays](https://aka.ms/model-mondays)**: Muhtasari wa miundo kila wiki
- **[Foundry Local GitHub](https://github.com/microsoft/Foundry-Local)**: Jamii na masuala
- **[Sampuli 03: Ugunduzi wa Miundo](samples/03/README.md)**: Mfano wa script ya vitendo

### Mambo Muhimu ya Kujifunza

✅ **Ugunduzi wa Miundo**: Tumia `foundry model list` kuchunguza miundo inayopatikana  
✅ **Upimaji wa Haraka**: Muundo wa `list_and_bench.cmd` kwa tathmini ya haraka  
✅ **Ufuatiliaji wa Utendaji**: Kipimo cha matumizi ya rasilimali na muda wa majibu  
✅ **Uteuzi wa Miundo**: Miongozo ya vitendo ya kuchagua miundo kulingana na matumizi  
✅ **Usimamizi wa Cache**: Kuelewa uhifadhi na taratibu za kusafisha  

Sasa una ujuzi wa vitendo wa kugundua, kujaribu, na kuchagua miundo sahihi kwa programu zako za AI kwa kutumia mbinu rahisi ya CLI ya Foundry Local.

## Malengo ya Kujifunza

- Gundua na tathmini miundo ya chanzo huria kwa inference ya ndani
- Kusanya na kuendesha miundo teule ya Hugging Face ndani ya Foundry Local
- Tumia mikakati ya uteuzi wa miundo kwa usahihi, kasi, na mahitaji ya rasilimali
- Simamia miundo kwa ndani kwa cache na toleo

## Sehemu ya 1: Ugunduzi wa Miundo kwa Foundry CLI

### Amri za Msingi za Usimamizi wa Miundo

Foundry CLI inatoa amri rahisi kwa ugunduzi na usimamizi wa miundo:

```cmd
REM List all available models in the catalog
foundry model list

REM List cached (downloaded) models
foundry cache list

REM Check cache directory location
foundry cache ls
```


### Kuendesha Miundo Yako ya Kwanza

Anza na miundo maarufu, iliyojaribiwa vizuri ili kuelewa sifa za utendaji:

```cmd
REM Run Phi-4-Mini (lightweight, fast)
foundry model run phi-4-mini --verbose

REM Run Qwen 2.5 7B (larger, more capable)
foundry model run qwen2.5-7b --verbose

REM Run DeepSeek (specialized for coding)
foundry model run deepseek-r1-7b --verbose
```


**Kumbuka:** Bendera ya `--verbose` inatoa maelezo ya kina ya kuanzisha, ikiwa ni pamoja na:
- Maendeleo ya upakuaji wa miundo (wakati wa kuendesha kwa mara ya kwanza)
- Maelezo ya ugawaji wa kumbukumbu
- Maelezo ya kufunga huduma
- Vipimo vya kuanzisha utendaji

### Kuelewa Makundi ya Miundo

**Miundo Midogo ya Lugha (SLMs):**
- `phi-4-mini`: Haraka, yenye ufanisi, nzuri kwa mazungumzo ya jumla
- `phi-4`: Toleo lenye uwezo zaidi na uelewa bora

**Miundo ya Kati:**
- `qwen2.5-7b`: Uelewa bora na muktadha mrefu
- `deepseek-r1-7b`: Imeboreshwa kwa kizazi cha msimbo

**Miundo Mikubwa:**
- `llama-3.2`: Muundo wa hivi karibuni wa chanzo huria kutoka Meta
- `qwen2.5-14b`: Uelewa wa daraja la biashara

## Sehemu ya 2: Upimaji wa Haraka wa Miundo na Ulinganishaji

### Mbinu ya Sampuli 03: Orodha Rahisi na Upimaji

Kwa kutumia muundo wa Sampuli 03, hapa kuna mtiririko wa kazi wa msingi:

```cmd
@echo off
REM Sample 03 - List and bench pattern
echo Listing available models...
foundry model list

echo.
echo Checking cached models...
foundry cache list

echo.
echo Starting phi-4-mini with verbose output...
foundry model run phi-4-mini --verbose
```


### Upimaji wa Utendaji wa Miundo

Mara muundo unapokuwa unaendesha, jaribu kwa maelekezo thabiti:

```cmd
REM Test via curl (Windows Command Prompt)
curl -X POST http://localhost:8000/v1/chat/completions ^
  -H "Content-Type: application/json" ^
  -d "{\"model\":\"phi-4-mini\",\"messages\":[{\"role\":\"user\",\"content\":\"Explain edge AI in one sentence.\"}],\"max_tokens\":50}"
```


### Njia Mbadala ya Upimaji kwa PowerShell

```powershell
# PowerShell approach for testing
$body = @{
    model = "phi-4-mini"
    messages = @(
        @{
            role = "user"
            content = "Explain edge AI in one sentence."
        }
    )
    max_tokens = 50
} | ConvertTo-Json -Depth 3

Invoke-RestMethod -Uri "http://localhost:8000/v1/chat/completions" -Method Post -Body $body -ContentType "application/json"
```


## Sehemu ya 3: Usimamizi wa Cache na Uhifadhi wa Miundo

### Kuelewa Cache ya Miundo

Foundry Local inasimamia upakuaji wa miundo na cache kiotomatiki:

```cmd
REM Check cache directory and contents
foundry cache ls

REM View cache location
foundry cache cd

REM Clean up unused models (if needed)
foundry cache clean
```


### Mazingatio ya Uhifadhi wa Miundo

**Ukubwa wa Kawaida wa Miundo:**
- `phi-4-mini`: ~2.5 GB
- `qwen2.5-7b`: ~4.1 GB  
- `deepseek-r1-7b`: ~4.3 GB
- `llama-3.2`: ~4.9 GB
- `qwen2.5-14b`: ~8.2 GB

**Mazoea Bora ya Uhifadhi:**
- Weka miundo 2-3 kwenye cache kwa kubadilisha haraka
- Ondoa miundo isiyotumika ili kuachia nafasi: `foundry cache clean`
- Fuatilia matumizi ya diski, hasa kwenye SSD ndogo
- Fikiria ukubwa wa miundo dhidi ya uwezo wake

### Ufuatiliaji wa Utendaji wa Miundo

Wakati miundo inaendesha, fuatilia rasilimali za mfumo:

**Windows Task Manager:**
- Angalia matumizi ya kumbukumbu (miundo inabaki kupakiwa kwenye RAM)
- Fuatilia matumizi ya CPU wakati wa inference
- Angalia I/O ya diski wakati wa upakiaji wa awali wa miundo

**Ufuatiliaji wa Command Line:**
```cmd
REM Check memory usage (PowerShell)
Get-Process | Where-Object {$_.ProcessName -like "*foundry*"} | Select-Object ProcessName, WorkingSet64

REM Monitor running models
foundry service ps
```


## Sehemu ya 4: Miongozo ya Vitendo ya Uteuzi wa Miundo

### Kuchagua Miundo kwa Matumizi

**Kwa Mazungumzo ya Jumla na Maswali na Majibu:**
- Anza na: `phi-4-mini` (haraka, yenye ufanisi)
- Sasisha hadi: `phi-4` (uelewa bora)
- Advanced: `qwen2.5-7b` (muktadha mrefu)

**Kwa Kizazi cha Msimbo:**
- Inapendekezwa: `deepseek-r1-7b`
- Mbadala: `qwen2.5-7b` (pia nzuri kwa msimbo)

**Kwa Uelewa wa Kina:**
- Bora: `qwen2.5-7b` au `qwen2.5-14b`
- Chaguo la Bajeti: `phi-4`

### Mwongozo wa Mahitaji ya Vifaa

**Mahitaji ya Mfumo wa Kima cha Chini:**
```
phi-4-mini:     8GB RAM,  entry-level CPU
phi-4:         12GB RAM,  mid-range CPU
qwen2.5-7b:    16GB RAM,  mid-range CPU
deepseek-r1:   16GB RAM,  mid-range CPU
qwen2.5-14b:   24GB RAM,  high-end CPU
```


**Inapendekezwa kwa Utendaji Bora:**
- RAM ya 32GB+ kwa kubadilisha miundo kwa urahisi
- Uhifadhi wa SSD kwa upakiaji wa miundo wa haraka
- CPU ya kisasa yenye utendaji mzuri wa thread moja
- Msaada wa NPU (Windows 11 Copilot+ PCs) kwa kasi

### Mtiririko wa Kazi wa Kubadilisha Miundo

```cmd
REM Stop current model (if needed)
foundry service stop

REM Start different model
foundry model run qwen2.5-7b

REM Verify model is running
foundry service status
```


## Sehemu ya 5: Upimaji Rahisi wa Miundo

### Upimaji wa Utendaji wa Msingi

Hapa kuna mbinu rahisi ya kulinganisha utendaji wa miundo:

```python
# simple_bench.py - Based on Sample 03 patterns
import time
import requests
import json

def test_model_response(model_name, prompt="Explain edge AI in one sentence."):
    """Test a single model with a prompt and measure response time."""
    start_time = time.time()
    
    try:
        response = requests.post(
            "http://localhost:8000/v1/chat/completions",
            headers={"Content-Type": "application/json"},
            json={
                "model": model_name,
                "messages": [{"role": "user", "content": prompt}],
                "max_tokens": 64
            },
            timeout=30
        )
        
        elapsed = time.time() - start_time
        
        if response.status_code == 200:
            result = response.json()
            return {
                "model": model_name,
                "latency_sec": round(elapsed, 3),
                "response": result["choices"][0]["message"]["content"],
                "status": "success"
            }
        else:
            return {
                "model": model_name,
                "status": "error",
                "error": f"HTTP {response.status_code}"
            }
            
    except Exception as e:
        return {
            "model": model_name,
            "status": "error", 
            "error": str(e)
        }

# Test the currently running model
if __name__ == "__main__":
    # Test with different models (start each model first)
    test_models = ["phi-4-mini", "qwen2.5-7b", "deepseek-r1-7b"]
    
    print("Model Performance Test")
    print("=" * 50)
    
    for model in test_models:
        print(f"\nTesting {model}...")
        print("Note: Make sure this model is running first with 'foundry model run {model}'")
        
        result = test_model_response(model)
        
        if result["status"] == "success":
            print(f"✅ {model}: {result['latency_sec']}s")
            print(f"   Response: {result['response'][:100]}...")
        else:
            print(f"❌ {model}: {result['error']}")
```


### Tathmini ya Ubora ya Kawaida

Kwa kila muundo, jaribu kwa maelekezo thabiti na tathmini kwa mikono:

**Maelekezo ya Jaribio:**
1. "Eleza kompyuta ya quantum kwa maneno rahisi."
2. "Andika kazi ya Python ya kupanga orodha."
3. "Ni faida na hasara zipi za kazi ya mbali?"
4. "Fupisha faida za AI ya ukingo."

**Vigezo vya Tathmini:**
- **Usahihi**: Je, maelezo ni sahihi?
- **Uwazi**: Je, maelezo ni rahisi kuelewa?
- **Ukamilifu**: Je, yanashughulikia swali lote?
- **Kasi**: Je, yanajibu haraka?

### Ufuatiliaji wa Matumizi ya Rasilimali

```cmd
REM Monitor while testing different models
REM Start model
foundry model run phi-4-mini

REM In another terminal, monitor resources
foundry service status
foundry service ps

REM Check system resources (PowerShell)
Get-Process | Where-Object ProcessName -Like "*foundry*" | Format-Table ProcessName, WorkingSet64, CPU
```


## Sehemu ya 6: Hatua Zifuatazo

- Jiunge na Model Mondays kwa miundo mipya na vidokezo: https://aka.ms/model-mondays
- Changia matokeo kwa `models.json` ya timu yako
- Jiandae kwa Kikao cha 4: kulinganisha LLMs dhidi ya SLMs, inference ya ndani dhidi ya wingu, na maonyesho ya vitendo

---

**Kanusho**:  
Hati hii imetafsiriwa kwa kutumia huduma ya tafsiri ya AI [Co-op Translator](https://github.com/Azure/co-op-translator). Ingawa tunajitahidi kuhakikisha usahihi, tafsiri za kiotomatiki zinaweza kuwa na makosa au kutokuwa sahihi. Hati ya asili katika lugha yake ya awali inapaswa kuchukuliwa kama chanzo cha mamlaka. Kwa taarifa muhimu, tafsiri ya kitaalamu ya binadamu inapendekezwa. Hatutawajibika kwa kutoelewana au tafsiri zisizo sahihi zinazotokana na matumizi ya tafsiri hii.